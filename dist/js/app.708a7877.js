(function(t){function e(e){for(var n,o,i=e[0],l=e[1],c=e[2],u=0,m=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},s={app:0},r=[];function o(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-2d0de679":"5128b72c"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=s[t]=[e,n]}));e.push(a[2]=n);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(t);var c=new Error;r=function(e){l.onerror=l.onload=null,clearTimeout(u);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",c.name="ChunkLoadError",c.type=n,c.request=r,a[1](c)}s[t]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;r.push([1,"chunk-vendors"]),a()})({0:function(t,e){},"0111":function(t,e,a){"use strict";a("bf0b")},"0208":function(t,e,a){},"0351":function(t,e,a){var n={"./argu-page/params.vue":"2b64","./argu-page/query.vue":"8f04","./assets/linux-list.vue":"8e68","./assets/mysql-list.vue":"33ad","./assets/redis-list.vue":"0529","./assets/windows-list.vue":"678f","./error-page/401.vue":"f94f","./error-page/404.vue":"35f5","./error-page/500.vue":"88b2","./error-page/back-btn-group.vue":"c1a1","./error-page/error-content.vue":"9454","./linux/io.vue":"e745","./linux/memory.vue":"73aa","./linux/stat-list.vue":"46f4","./linux/view.vue":"a85d","./login/login.vue":"e49c","./multilevel/level-2-1.vue":"d08b","./mysql/alert-log.vue":"8913","./mysql/innodb.vue":"5641","./mysql/myisam.vue":"12d3","./mysql/slowquery-log.vue":"63a3","./mysql/stat-list.vue":"3092","./mysql/view.vue":"3f04","./redis/alert-log.vue":"7382","./redis/clientlist.vue":"f9ad","./redis/command-stats.vue":"9216","./redis/config.vue":"f83d","./redis/immediate-stats.vue":"f718","./redis/slowlog.vue":"af76","./redis/stat-list.vue":"30ec","./redis/view.vue":"ec26","./system/alarm-conf.vue":"cf09","./system/alarm-info.vue":"c8d5","./system/home/home.vue":"50b7","./system/mysql-setup.vue":"553d","./windows/stat-list.vue":"8c13","./windows/view.vue":"d1b4"};function s(t){return Promise.resolve().then((function(){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}var s=n[t];return a(s)}))}s.keys=function(){return Object.keys(n)},s.id="0351",t.exports=s},"0529":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Row",[t.addAccessAll?a("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")]):t._e(),t._v(" \n      "),a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"ip地址"},model:{value:t.host_search,callback:function(e){t.host_search=e},expression:"host_search"}}),t._v(" \n      "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" \n      "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("Card",[a("br"),a("Row",[a("Table",{attrs:{border:"",columns:t.columns,data:t.data}})],1),a("Row",[a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_redis_parameter}})],1),a("Row",[a("Drawer",{attrs:{title:"Redis配置",width:"720","mask-closable":this.close,styles:t.styles},model:{value:t.create,callback:function(e){t.create=e},expression:"create"}},[a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleValidate}},[a("Alert",{attrs:{"show-icon":""}},[t._v("redis连接配置")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"标签","label-position":"top",prop:"tags"}},[a("Input",{attrs:{placeholder:"自定义唯一标签"},model:{value:t.formData.tags,callback:function(e){t.$set(t.formData,"tags",e)},expression:"formData.tags"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"ip地址","label-position":"top",prop:"host"}},[a("Input",{attrs:{placeholder:"请填写ip地址"},model:{value:t.formData.host,callback:function(e){t.$set(t.formData,"host",e)},expression:"formData.host"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"端口","label-position":"top",prop:"port"}},[a("InputNumber",{attrs:{placeholder:"Redis端口"},model:{value:t.formData.port,callback:function(e){t.$set(t.formData,"port",e)},expression:"formData.port"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"密码(可选)","label-position":"top",prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"Redis密码"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"linux主机","label-position":"top",prop:"linux_tags"}},[a("Select",{attrs:{placeholder:"选择linux主机"},model:{value:t.formData.linux_tags,callback:function(e){t.$set(t.formData,"linux_tags",e)},expression:"formData.linux_tags"}},t._l(t.linuxdata,(function(t){return a("Option",{key:t.tags,attrs:{value:t.tags,label:t.tags}})})),1)],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"Redis版本","label-position":"top",prop:"redis_version"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.redis_version,callback:function(e){t.$set(t.formData,"redis_version",e)},expression:"formData.redis_version"}},[a("Option",{attrs:{value:"Redis3"}},[t._v("Redis3")])],1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"Redis架构","label-position":"top",prop:"architecture"}},[a("Input",{attrs:{placeholder:"数据库架构"},model:{value:t.formData.architecture,callback:function(e){t.$set(t.formData,"architecture",e)},expression:"formData.architecture"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"角色","label-position":"top",prop:"role"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.role,callback:function(e){t.$set(t.formData,"role",e)},expression:"formData.role"}},[a("Option",{attrs:{value:"master"}},[t._v("master")]),a("Option",{attrs:{value:"slave"}},[t._v("slave")])],1)],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("Redis描述")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"配置文件","label-position":"top",prop:"start_method"}},[a("Input",{attrs:{placeholder:"配置文件"},model:{value:t.formData.profile,callback:function(e){t.$set(t.formData,"profile",e)},expression:"formData.profile"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"应用目录","label-position":"top",prop:"appdir"}},[a("Input",{attrs:{placeholder:"应用目录"},model:{value:t.formData.appdir,callback:function(e){t.$set(t.formData,"appdir",e)},expression:"formData.appdir"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"业务系统","label-position":"top",prop:"bussiness_system"}},[a("Input",{attrs:{placeholder:"归属业务系统，如客户服务"},model:{value:t.formData.bussiness_system,callback:function(e){t.$set(t.formData,"bussiness_system",e)},expression:"formData.bussiness_system"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"系统等级","label-position":"top",prop:"system_level"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.system_level,callback:function(e){t.$set(t.formData,"system_level",e)},expression:"formData.system_level"}},[a("Option",{attrs:{value:"0"}},[t._v("核心系统")]),a("Option",{attrs:{value:"0"}},[t._v("重要系统")]),a("Option",{attrs:{value:"0"}},[t._v("一般系统")])],1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"资源描述","label-position":"top",prop:"res_description"}},[a("Input",{attrs:{placeholder:"资源描述"},model:{value:t.formData.res_description,callback:function(e){t.$set(t.formData,"res_description",e)},expression:"formData.res_description"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("告警配置")]),a("Row",{attrs:{gutter:32}},[a("div",[a("Form",{staticClass:"step-form",attrs:{"label-width":100}},[a("FormItem",{attrs:{label:"选择告警配置"}},[a("CheckboxGroup",[a("Checkbox",{attrs:{"true-value":"1","false-value":"0",label:"Redis通断告警"},model:{value:t.formData.alarm_connect,callback:function(e){t.$set(t.formData,"alarm_connect",e)},expression:"formData.alarm_connect"}})],1)],1)],1)],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showfooter,expression:"showfooter"}],staticClass:"demo-drawer-footer"},[a("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(e){t.create=!1}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("提交")])],1)],1)],1)],1)],1)},s=[],r=(a("ac6a"),a("ffc1"),a("7f7f"),a("fec1")),o=a("90de"),i=a("e069"),l={data:function(){var t=this;return{columns:[{title:"标签",key:"tags",minWidth:100},{title:"IP地址",key:"host",minWidth:120},{title:"端口",key:"port",minWidth:80},{title:"Redis版本",key:"redis_version",minWidth:100},{title:"角色",key:"role",minWidth:100},{title:"架构",key:"architecture",minWidth:100},{title:"业务系统",key:"bussiness_system",minWidth:100},{title:"系统等级",key:"system_level",minWidth:100,render:function(t,e){var a={0:{color:"red",desc:"核心系统"},1:{color:"orange",desc:"重要系统"},2:{color:"gray",desc:"一般系统"}},n=e.row.system_level;return t(i["Tag"],{props:{color:a[n]["color"]}},a[n]["desc"])}},{title:"操作",key:"action",minWidth:200,align:"center",render:function(e,a){return console.log("redis删除操作传来的params值为：",a),e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.view(a.index)}}},"详情"),e("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px",display:!0!==t.updateAccessAll?"none":"inline-block"},on:{click:function(){t.update(a.index)}}},"编辑"),e("Poptip",{props:{confirm:!0,title:"确定要删除吗！",transfer:!0},style:{marginRight:"5px",display:!0!==t.deleteAccessAll?"none":"inline-block"},on:{"on-ok":function(){t.remove(a.index,a.row.id,a.row.host)}}},[e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px",display:!0!==t.deleteAccessAll?"none":"inline-block"}},"删除")])])}}],data:[],linuxdata:[],count:0,page_size:10,host_search:"",create:!1,close:!1,showfooter:!0,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null,formData:{tags:"",host:"",port:6379,password:"",linux_tags:"",redis_version:"Redis3",architecture:"",role:"master",profile:"",appdir:"",bussiness_system:"",system_level:"0",res_description:"",alarm_connect:"",alarm_alert_log:""},ruleValidate:{tags:[{required:!0,message:"此项目必填",trigger:"blur"}],host:[{required:!0,message:"此项目必填",trigger:"blur"}],linux_tags:[{required:!0,message:"此项目必填",trigger:"blur"}]}}},created:function(){this.get_redis_list()},computed:{access:function(){return this.$store.state.user.access},addAccessAll:function(){return Object(o["e"])(["assets.add_redislist"],this.access)},updateAccessAll:function(){return Object(o["e"])(["assets.change_redislist"],this.access)},deleteAccessAll:function(){return Object(o["e"])(["assets.delete_redislist"],this.access)}},methods:{search:function(){console.log(this.host_search),this.get_redis_list("host=".concat(this.host_search))},clear_search:function(){this.host_search="",this.get_redis_list()},get_redis_list:function(t){var e=this;Object(r["o"])(t).then((function(t){e.data=t.data.results,e.count=t.data.count,console.log(e.data)})).catch((function(t){e.$Message.error("获取redis资源信息错误 ".concat(t))}))},get_linux_list:function(t){var e=this;Object(r["m"])(t).then((function(t){e.linuxdata=t.data.results,console.log(e.linuxdata)})).catch((function(t){e.$Message.error("获取Linux主机资源信息错误 ".concat(t))}))},get_redis_parameter:function(t){console.log(t),this.get_redis_list("page=".concat(t))},view:function(t){this.update(t),this.showfooter=!1,this.close=!0},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){console.log(),t?e.updateId?(console.log(e.updateId),Object(r["s"])(e.updateId,e.formData).then((function(t){console.log(t),e.$Message.success("更新Redis配置成功!"),e.get_redis_list(),e.create=!1})).catch((function(t){console.log(t.response),e.$Message.error({content:"更新Redis配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})}))):Object(r["c"])(e.formData).then((function(t){console.log(t),e.$Message.success("新增Redis配置成功!"),e.get_redis_list(),e.create=!1})).catch((function(t){console.log(t.response),e.$Message.error({content:"新增Redis配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})})):e.$Message.error("错误!")}))},add:function(){this.get_linux_list(),this.create=!0,this.showfooter=!0,this.close=!1,this.updateId=null,this.formData.tags="",this.formData.host="",this.formData.port=6379,this.formData.password="",this.formData.linux_tags="",this.formData.redis_version="Redis3",this.formData.role="master",this.formData.profile="",this.formData.appdir="",this.formData.architecture="",this.formData.bussiness_system="",this.formData.system_level="0",this.formData.res_description="",this.formData.alarm_connect="1",this.formData.alarm_alert_log="0"},remove:function(t,e,a){var n=this;console.log("redis中要删除的index，id，host为:",t,e,a),Object(r["i"])(e).then((function(e){console.log("删除成功redisList的返回值",e),Object(r["j"])(a).then((function(t){console.log("删除成功redisStat的返回值",t)})),n.$Message.success("删除Redis配置成功!"),n.data.splice(t,1)})).catch((function(t){console.log(t.response),n.$Message.error({content:"删除Redis配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})}))},update:function(t){this.get_linux_list(),this.create=!0,this.showfooter=!0,this.close=!1,this.formData.tags=this.data[t].tags,this.formData.host=this.data[t].host,this.formData.port=this.data[t].port,this.formData.password=this.data[t].password,this.formData.linux_tags=this.data[t].linux_tags,this.formData.redis_version=this.data[t].redis_version,this.formData.role=this.data[t].role,this.formData.profile=this.data[t].profile,this.formData.appdir=this.data[t].appdir,this.formData.architecture=this.data[t].architecture,this.formData.bussiness_system=this.data[t].bussiness_system,this.formData.system_level=String(this.data[t].system_level),this.formData.res_description=this.data[t].res_description,this.formData.alarm_connect=String(this.data[t].alarm_connect),this.formData.alarm_alert_log=String(this.data[t].alarm_alert_log),this.updateId=this.data[t].id}}},c=l,u=(a("23d4"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"7346f66a",null);e["default"]=d.exports},"0559":function(t,e,a){},"0d08":function(t,e,a){"use strict";a("40c9")},"0eb4":function(t,e,a){},"0f29":function(t,e,a){var n={"./":"13aa","./error-store":"b7c7","./error-store/":"b7c7","./error-store/index":"b7c7","./error-store/index.js":"b7c7","./index":"13aa","./index.js":"13aa"};function s(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=r,t.exports=s,s.id="0f29"},1:function(t,e,a){t.exports=a("56d7")},1045:function(t,e,a){"use strict";a("0559")},1278:function(t,e,a){},"12d3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("mysql-menu",{attrs:{value:"2",tags:this.Tags}}),a("Row",[a("card",[a("Table",{attrs:{size:"small",border:"",columns:t.columns,data:t.myisaminfo}})],1),a("card",[a("p",{staticStyle:{"font-size":"larger"},attrs:{slot:"title"},slot:"title"},[t._v("\n            键缓存\n        ")]),a("Table",{attrs:{size:"small",border:"",columns:t.columns1,data:t.myisaminfo}})],1),a("card",[a("DatePicker",{staticStyle:{width:"250px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择时间范围"},on:{"on-change":t.handleDaterangechange}}),a("row",[a("i-col",{attrs:{span:"12"}},[a("br"),a("chart-line2",{staticStyle:{height:"250px"},attrs:{title:t.chart1_title,data1:t.checktimeData,data2:t.openfilesData,data3:t.opentablesData}}),a("br"),a("chart-line1",{staticStyle:{height:"250px"},attrs:{title:t.chart2_title,data1:t.checktimeData,data2:t.slowqueriesData}}),a("br"),a("chart-line4",{staticStyle:{height:"250px"},attrs:{title:t.chart3_title,data1:t.checktimeData,data2:t.mysqlselData,data3:t.mysqlinsData,data4:t.mysqlupdData,data5:t.mysqldelData}})],1),a("i-col",{attrs:{span:"12"}},[a("br"),a("chart-line1",{staticStyle:{height:"250px"},attrs:{title:t.chart4_title,data1:t.checktimeData,data2:t.selectscanData}}),a("br"),a("chart-line4",{staticStyle:{height:"250px"},attrs:{title:t.chart5_title,data1:t.checktimeData,data2:t.keyreadrequestsData,data3:t.keyreadsData,data4:t.keywriterequestsData,data5:t.keywritesData}}),a("br"),a("chart-line2",{staticStyle:{height:"250px"},attrs:{title:t.chart6_title,data1:t.checktimeData,data2:t.keyreadrateData,data3:t.keywriterateData}})],1)],1)],1)],1)],1)],1)},s=[],r=a("6308"),o=a("e401"),i=a("c9ae"),l=a("90de"),c={name:"mysql_myisam",components:{ChartLine1:i["b"],ChartLine2:i["c"],ChartLine3:i["d"],ChartLine4:i["e"],ChartPie:i["g"],MysqlMenu:r["b"]},data:function(){return{Tags:"",show:!1,columns:[{title:"连接",align:"center",children:[{title:"最大连接数",key:"max_connections",width:100,align:"center"},{title:"当前连接数",key:"max_connections",width:100,align:"center"},{title:"最大连接错误数",key:"max_connections",width:130,align:"center"}]},{title:"文件",align:"center",children:[{title:"最大打开文件数量",key:"open_files_limit",align:"center"},{title:"当前打开文件数",key:"open_files",align:"center"}]},{title:"表",align:"center",children:[{title:"最大打开表数量",key:"table_open_cache",align:"center"},{title:"当前打开表数量",key:"open_tables",align:"center"}]}],columns1:[{title:"_buffer_size",align:"center",children:[{title:"key",key:"key_buffer_size",width:80,align:"center",render:function(t,e){var a=e.row.key_buffer_size;return t("span",parseFloat(a/1924/1024).toFixed(2)+"MB")}},{title:"sort",key:"sort_buffer_size",width:90,align:"center",render:function(t,e){var a=e.row.sort_buffer_size;return t("span",parseFloat(a/1924).toFixed(2)+"KB")}},{title:"join",key:"join_buffer_size",width:90,align:"center",render:function(t,e){var a=e.row.join_buffer_size;return t("span",parseFloat(a/1924).toFixed(2)+"KB")}}]},{title:"key_blocks_",align:"center",children:[{title:"unused",key:"key_blocks_unused",align:"center",width:80},{title:"used",key:"key_blocks_used",align:"center",width:70},{title:"not flushed",key:"key_blocks_not_flushed",align:"center",width:110}]},{title:"rate",align:"center",children:[{title:"key_blocks_used",key:"table_open_cache",align:"center",render:function(t,e){var a=e.row.key_blocks_used,n=e.row.key_blocks_unused;return t("span",parseFloat(a/(a+n)).toFixed(2)+"%")}},{title:"key_buffer_read",key:"table_open_cache",align:"center",render:function(t,e){var a=e.row.Key_reads,n=e.row.key_read_requests;return t("span",parseFloat(a/(a+n)).toFixed(2)+"%")}},{title:"key_buffer_write",key:"table_open_cache",align:"center",render:function(t,e){var a=e.row.Key_writes,n=e.row.key_write_requests;return t("span",parseFloat(a/(a+n)).toFixed(2)+"%")}}]}],data:[],myisaminfo:[],styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},checktimeData:[],chart1_title:["打开文件、表数量","打开文件数量","打开表数量"],opentablesData:[],openfilesData:[],chart2_title:["慢查询","慢查询数量"],slowqueriesData:[],chart3_title:["每秒SQL执行次数","mysql_sel","mysql_ins","mysql_upd","mysql_del"],mysqlselData:[],mysqlinsData:[],mysqlupdData:[],mysqldelData:[],chart4_title:["全表扫描次数","select scan"],selectscanData:[],chart5_title:["MyISAM读写次数","key_read_requests","key_reads","key_write_requests","key_writes"],keyreadrequestsData:[],keyreadsData:[],keywriterequestsData:[],keywritesData:[],chart6_title:["MyISAM Key Buffer读写利用率","key_buffer_read_rate","key_buffer_write_rate"],keyreadrateData:[],keywriterateData:[],daterangeValue:null,startTime:"",endTime:""}},computed:{access:function(){return this.$store.state.user.access}},created:function(){var t=this;this.get_mysql_stat("tags=".concat(this.$route.params.tags," ")),this.get_mysql_stat_his("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_mysql_stat("tags=".concat(t.$route.params.tags," ")),t.get_mysql_stat_his("tags=".concat(t.$route.params.tags," "))}),2e4)},methods:{get_mysql_stat:function(t){var e=this;Object(o["b"])(t).then((function(t){e.myisaminfo=t.data.results.slice(0,1),console.log(e.myisaminfo)})).catch((function(t){e.$Message.error("获取mysql资源信息错误 ".concat(t))}))},get_mysql_stat_his:function(t){var e=this;Object(o["c"])(t).then((function(t){e.mysqlstatlist=t.data.results,e.checktimeData=e.mysqlstatlist.map((function(t){return Object(l["b"])(new Date(t.check_time),"yyyy-MM-dd hh:mm")})),e.openfilesData=e.mysqlstatlist.map((function(t){return t.open_files})),e.opentablesData=e.mysqlstatlist.map((function(t){return t.open_tables})),e.slowqueriesData=e.mysqlstatlist.map((function(t){return t.slow_queries})),e.mysqlselData=e.mysqlstatlist.map((function(t){return t.mysql_sel})),e.mysqlinsData=e.mysqlstatlist.map((function(t){return t.mysql_ins})),e.mysqlupdData=e.mysqlstatlist.map((function(t){return t.mysql_upd})),e.mysqldelData=e.mysqlstatlist.map((function(t){return t.mysql_del})),e.selectscanData=e.mysqlstatlist.map((function(t){return t.select_scan})),e.keyreadrequestsData=e.mysqlstatlist.map((function(t){return t.key_read_requests})),e.keyreadsData=e.mysqlstatlist.map((function(t){return t.key_reads})),e.keywriterequestsData=e.mysqlstatlist.map((function(t){return t.key_write_requests})),e.keywritesData=e.mysqlstatlist.map((function(t){return t.key_writes})),e.keyreadrateData=e.mysqlstatlist.map((function(t){return(100*parseFloat(t.key_reads)/t.key_read_requests).toFixed(2)})),e.keywriterateData=e.mysqlstatlist.map((function(t){return(100*parseFloat(t.key_writes)/t.key_write_requests).toFixed(2)})),console.log(e.mysqlstatlist)})).catch((function(t){e.$Message.error("获取mysql资源信息错误 ".concat(t))}))},handleDaterangechange:function(t){this.daterangeValue=t,this.startTime=t[0],this.endTime=t[1],this.get_mysql_stat_his("tags=".concat(this.$route.params.tags,"&start_time=").concat(this.startTime,"&end_time=").concat(this.endTime))}},destroyed:function(){clearInterval(this.timer)}},u=c,d=(a("e0b1"),a("2877")),m=Object(d["a"])(u,n,s,!1,null,null,null);e["default"]=m.exports},"13aa":function(t,e,a){"use strict";a.r(e);var n=a("53ca"),s=(a("7f7f"),a("f121")),r=s["a"].plugin;e["default"]=function(t){for(var e in r){var s=r[e];t.use(a("0f29")("./".concat(e)).default,"object"===Object(n["a"])(s)?s:void 0)}}},"161c":function(t,e,a){},"16e0":function(t,e,a){},1923:function(t,e,a){"use strict";a("161c")},"1a88":function(t,e,a){},"1b10":function(t,e,a){"use strict";a("1278")},"1cd1":function(t,e,a){"use strict";a("aeda")},2:function(t,e){},"20d1":function(t,e,a){"use strict";a("c685")},"22bb":function(t,e,a){"use strict";a("9a14")},"232c":function(t,e,a){},"23d4":function(t,e,a){"use strict";a("0208")},2785:function(t,e,a){},"2b64":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("h2",[t._v("ID: "+t._s(t.$route.params.id))]),a("Button",{on:{click:t.close}},[t._v("调用closeTag方法关闭本页")])],1)],1)},s=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("2f62");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={name:"params",methods:l(l({},Object(o["d"])(["closeTag"])),{},{close:function(){this.closeTag({name:"params",params:{id:this.$route.params.id}})}})},u=c,d=a("2877"),m=Object(d["a"])(u,n,s,!1,null,null,null);e["default"]=m.exports},3:function(t,e){},3026:function(t,e,a){t.exports=a.p+"img/error-401.98bba5b1.svg"},3092:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Row",[a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"ip地址"},model:{value:t.host_search,callback:function(e){t.host_search=e},expression:"host_search"}}),t._v(" \n    "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" \n    "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("Card",[a("br"),a("Row",[a("Table",{attrs:{size:"small",border:"",columns:t.columns,data:t.data}})],1),a("Row",[a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_mysql_parameter}})],1)],1)],1)},s=[],r=a("e401"),o=a("90de"),i=a("e069"),l={data:function(){var t=this;return{show:!1,columns:[{type:"index",minWidth:60,align:"center"},{title:"标签",minWidth:80,sortable:!0,render:function(e,a){var n=a.row.tags;return e("a",{on:{click:function(){t.gotoMysql(n)}}},n)}},{title:"IP地址",key:"host",minWidth:120,sortable:!0},{title:"端口",key:"port",minWidth:80},{title:"版本",key:"version",minWidth:100},{title:"运行天数",key:"updays",minWidth:100},{title:"连接线程数",key:"threads_connected",minWidth:100},{title:"活动线程数",key:"threads_running",minWidth:100},{title:"等待线程数",key:"threads_waited",minWidth:100},{title:"采集时间",key:"check_time",minWidth:200,render:function(t,e){return t("div",Object(o["b"])(new Date(e.row.check_time),"yyyy-MM-dd hh:mm"))}},{title:"状态",key:"status",minWidth:100,render:function(t,e){var a={0:{color:"green",desc:"正常"},1:{color:"red",desc:"失败"}},n=e.row.status;return t(i["Tag"],{props:{color:a[n]["color"]}},a[n]["desc"])}}],data:[],count:0,page_size:10,host_search:"",create:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null}},computed:{access:function(){return this.$store.state.user.access}},created:function(){var t=this;this.get_mysql_stat_list(),this.timer=setInterval((function(){t.get_mysql_stat_list()}),2e4)},methods:{gotoMysql:function(t){var e="/mysql/"+t+"/view";this.$router.push({path:e})},search:function(){console.log(this.host_search),this.get_mysql_stat_list("host=".concat(this.host_search))},clear_search:function(){this.host_search="",this.get_mysql_stat_list()},get_mysql_stat_list:function(t){var e=this;Object(r["d"])(t).then((function(t){e.data=t.data.results,e.count=t.data.count,console.log(e.data)})).catch((function(t){e.$Message.error("获取mysql资源信息错误 ".concat(t))}))},get_mysql_parameter:function(t){console.log(t),this.get_mysql_stat_list("page=".concat(t))}},destroyed:function(){clearInterval(this.timer)}},c=l,u=(a("bf04"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"2cab601d",null);e["default"]=d.exports},"30ec":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Row",[a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"ip地址"},model:{value:t.host_search,callback:function(e){t.host_search=e},expression:"host_search"}}),t._v(" \n    "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" \n    "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("Card",[a("br"),a("Row",[a("Table",{attrs:{size:"small",border:"",columns:t.columns,data:t.data}})],1),a("Row",[a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_redis_parameter}})],1)],1)],1)},s=[],r=a("53ca"),o=(a("c5f6"),a("3334")),i=a("e069"),l=a("90de"),c={data:function(){var t=this;return{show:!1,columns:[{type:"index",minWidth:50,align:"center"},{title:"标签",minWidth:80,sortable:!0,render:function(e,a){var n=a.row.tags;return e("a",{on:{click:function(){t.gotoRedis(n)}}},n)}},{title:"IP地址",key:"host",minWidth:120,sortable:!0},{title:"端口",key:"port",minWidth:80},{title:"版本",key:"version",minWidth:80},{title:"运行天数",key:"updays",minWidth:100},{title:"最大内存配置",key:"maxmemory",minWidth:110,render:function(t,e){var a=Number(e.row.maxmemory/1024/1024).toFixed(2);return t("div",a+"MB")}},{title:"内存使用率",key:"maxmemory,used_memory",minWidth:100,render:function(t,e){var a=Number(e.row.maxmemory/1024/1024).toFixed(2),n=e.row.used_memory,s=Number(n/a*100).toFixed(2);return a>=0&&console.log("memory_rate:",s,Object(r["a"])(s)),isNaN(s)?t("i-progress",{props:{percent:0,status:"wrong"}}):"Infinity"===s?(console.log("Infinity执行了"),t("i-progress",{props:{percent:100}},"无限制")):s>80?(console.log("一锤八十"),t("i-progress",{props:{percent:s}},s+"%")):t("i-progress",{props:{percent:s}},s+"%")}},{title:"连接数",key:"connected_clients",minWidth:75},{title:"角色",key:"role",minWidth:75},{title:"采集时间",key:"check_time",minWidth:200,render:function(t,e){return t("div",Object(l["b"])(new Date(e.row.check_time),"yyyy-MM-dd hh:mm"))}},{title:"状态",key:"status",minWidth:85,render:function(t,e){var a={0:{color:"green",desc:"正常"},1:{color:"red",desc:"失败"}},n=e.row.status;return t(i["Tag"],{props:{color:a[n]["color"]}},a[n]["desc"])}}],data:[],count:0,page_size:10,host_search:"",create:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null}},computed:{access:function(){return this.$store.state.user.access}},created:function(){var t=this;this.get_redis_stat_list(),this.timer=setInterval((function(){t.get_redis_stat_list()}),2e4)},methods:{gotoRedis:function(t){var e="/redis/"+t+"/view";this.$router.push({path:e})},search:function(){console.log(this.host_search),this.get_redis_stat_list("host=".concat(this.host_search))},clear_search:function(){this.host_search="",this.get_redis_stat_list()},get_redis_stat_list:function(t){var e=this;Object(o["g"])(t).then((function(t){e.data=t.data.results,e.count=t.data.count,console.log("get_redis_stat_list ",e.data)})).catch((function(t){e.$Message.error("获取redis资源信息错误 ".concat(t))}))},get_redis_parameter:function(t){console.log(t),this.get_redis_stat_list("page=".concat(t))}},destroyed:function(){clearInterval(this.timer)}},u=c,d=(a("0d08"),a("2877")),m=Object(d["a"])(u,n,s,!1,null,"63a5c178",null);e["default"]=m.exports},3168:function(t,e,a){"use strict";a("4a50")},3334:function(t,e,a){"use strict";a.d(e,"g",(function(){return s})),a.d(e,"e",(function(){return r})),a.d(e,"f",(function(){return o})),a.d(e,"b",(function(){return i})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return u}));var n=a("66df"),s=function(t){return n["a"].request({url:"/rds/api/redis-stat-list?".concat(t),method:"get"})},r=function(t){return n["a"].request({url:"/rds/api/redis-stat?".concat(t),method:"get"})},o=function(t){return n["a"].request({url:"/rds/api/redis-stat-his?".concat(t),method:"get"})},i=function(t){return n["a"].request({url:"/rds/api/get-redis-config?".concat(t),method:"get"})},l=function(t){return n["a"].request({url:"/rds/api/get-redis-slowlog?".concat(t),method:"get"})},c=function(t){return n["a"].request({url:"/rds/api/get-redis-clientlist?".concat(t),method:"get"})},u=function(t){return n["a"].request({url:"/rds/api/get-redis-immediate-stats?".concat(t),method:"get"})}},"33ad":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Row",[t.addAccessAll?a("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")]):t._e(),t._v(" \n      "),a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"ip地址"},model:{value:t.host_search,callback:function(e){t.host_search=e},expression:"host_search"}}),t._v(" \n      "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" \n      "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("Card",[a("br"),a("Row",[a("Table",{attrs:{border:"",columns:t.columns,data:t.data}})],1),a("Row",[a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_mysql_parameter}})],1),a("Row",[a("Drawer",{attrs:{title:"MySQL数据库配置",width:"720","mask-closable":this.close,styles:t.styles},model:{value:t.create,callback:function(e){t.create=e},expression:"create"}},[a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleValidate}},[a("Alert",{attrs:{"show-icon":""}},[t._v("数据库配置")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"标签","label-position":"top",prop:"tags"}},[a("Input",{attrs:{placeholder:"自定义唯一标签"},model:{value:t.formData.tags,callback:function(e){t.$set(t.formData,"tags",e)},expression:"formData.tags"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"ip地址","label-position":"top",prop:"host"}},[a("Input",{attrs:{placeholder:"请填写ip地址"},model:{value:t.formData.host,callback:function(e){t.$set(t.formData,"host",e)},expression:"formData.host"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"端口号","label-position":"top",prop:"port"}},[a("InputNumber",{attrs:{placeholder:"数据库实例端口号"},model:{value:t.formData.port,callback:function(e){t.$set(t.formData,"port",e)},expression:"formData.port"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"vip地址","label-position":"top",prop:"vip"}},[a("Input",{attrs:{placeholder:"vip地址"},model:{value:t.formData.vip,callback:function(e){t.$set(t.formData,"vip",e)},expression:"formData.vip"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"linux主机","label-position":"top",prop:"linux_tags"}},[a("Select",{attrs:{placeholder:"选择linux主机"},model:{value:t.formData.linux_tags,callback:function(e){t.$set(t.formData,"linux_tags",e)},expression:"formData.linux_tags"}},t._l(t.linuxdata,(function(t){return a("Option",{key:t.tags,attrs:{value:t.tags,label:t.tags}})})),1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"数据库版本","label-position":"top",prop:"db_version"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.db_version,callback:function(e){t.$set(t.formData,"db_version",e)},expression:"formData.db_version"}},[a("Option",{attrs:{value:"MySQL5.6"}},[t._v("MySQL5.6")]),a("Option",{attrs:{value:"MySQL5.7"}},[t._v("MySQL5.7")]),a("Option",{attrs:{value:"MySQL8.0"}},[t._v("MySQL8.0")])],1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"数据库用户名","label-position":"top",prop:"db_user"}},[a("Input",{attrs:{placeholder:"数据库用户名"},model:{value:t.formData.db_user,callback:function(e){t.$set(t.formData,"db_user",e)},expression:"formData.db_user"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"数据库密码","label-position":"top",prop:"db_password"}},[a("Input",{attrs:{type:"password",placeholder:"数据库用户密码"},model:{value:t.formData.db_password,callback:function(e){t.$set(t.formData,"db_password",e)},expression:"formData.db_password"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("数据库描述")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"数据库角色","label-position":"top",prop:"db_role"}},[a("Input",{attrs:{placeholder:"master/slave"},model:{value:t.formData.db_role,callback:function(e){t.$set(t.formData,"db_role",e)},expression:"formData.db_role"}})],1)],1),a("Col",{attrs:{span:"16"}},[a("FormItem",{attrs:{label:"启动方式","label-position":"top",prop:"start_method"}},[a("Input",{attrs:{placeholder:"启动方式"},model:{value:t.formData.start_method,callback:function(e){t.$set(t.formData,"start_method",e)},expression:"formData.start_method"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"应用目录","label-position":"top",prop:"appdir"}},[a("Input",{attrs:{placeholder:"应用目录"},model:{value:t.formData.appdir,callback:function(e){t.$set(t.formData,"appdir",e)},expression:"formData.appdir"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"数据目录","label-position":"top",prop:"datadir"}},[a("Input",{attrs:{placeholder:"数据目录"},model:{value:t.formData.datadir,callback:function(e){t.$set(t.formData,"datadir",e)},expression:"formData.datadir"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"配置文件","label-position":"top",prop:"profile"}},[a("Input",{attrs:{placeholder:"配置文件"},model:{value:t.formData.profile,callback:function(e){t.$set(t.formData,"profile",e)},expression:"formData.profile"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"备份方式","label-position":"top",prop:"backup_type"}},[a("Input",{attrs:{placeholder:"备份方式"},model:{value:t.formData.backup_type,callback:function(e){t.$set(t.formData,"backup_type",e)},expression:"formData.backup_type"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"数据库架构","label-position":"top",prop:"architecture"}},[a("Input",{attrs:{placeholder:"数据库架构"},model:{value:t.formData.architecture,callback:function(e){t.$set(t.formData,"architecture",e)},expression:"formData.architecture"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"只读","label-position":"top",prop:"readonly"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.readonly,callback:function(e){t.$set(t.formData,"readonly",e)},expression:"formData.readonly"}},[a("Option",{attrs:{value:"0"}},[t._v("ON")]),a("Option",{attrs:{value:"1"}},[t._v("OFF")])],1)],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"GTID","label-position":"top",prop:"gtid"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.gtid,callback:function(e){t.$set(t.formData,"gtid",e)},expression:"formData.gtid"}},[a("Option",{attrs:{value:"0"}},[t._v("ON")]),a("Option",{attrs:{value:"1"}},[t._v("OFF")])],1)],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"业务系统","label-position":"top",prop:"bussiness_system"}},[a("Input",{attrs:{placeholder:"归属业务系统，如账务"},model:{value:t.formData.bussiness_system,callback:function(e){t.$set(t.formData,"bussiness_system",e)},expression:"formData.bussiness_system"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"系统等级","label-position":"top",prop:"system_level"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.system_level,callback:function(e){t.$set(t.formData,"system_level",e)},expression:"formData.system_level"}},[a("Option",{attrs:{value:"0"}},[t._v("核心系统")]),a("Option",{attrs:{value:"0"}},[t._v("重要系统")]),a("Option",{attrs:{value:"0"}},[t._v("一般系统")])],1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"资源描述","label-position":"top",prop:"res_description"}},[a("Input",{attrs:{placeholder:"如账务库1号节点"},model:{value:t.formData.res_description,callback:function(e){t.$set(t.formData,"res_description",e)},expression:"formData.res_description"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"主要数据库用户","label-position":"top",prop:"main_dbuser"}},[a("Input",{attrs:{placeholder:"列举数据库中核心用户"},model:{value:t.formData.main_dbuser,callback:function(e){t.$set(t.formData,"main_dbuser",e)},expression:"formData.main_dbuser"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("告警配置")]),a("Row",{attrs:{gutter:32}},[a("div",[a("Form",{staticClass:"step-form",attrs:{"label-width":100}},[a("FormItem",{attrs:{label:"选择告警配置"}},[a("CheckboxGroup",[a("Checkbox",{attrs:{"true-value":"1","false-value":"0",label:"数据库通断告警"},model:{value:t.formData.alarm_connect,callback:function(e){t.$set(t.formData,"alarm_connect",e)},expression:"formData.alarm_connect"}})],1)],1)],1)],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showfooter,expression:"showfooter"}],staticClass:"demo-drawer-footer"},[a("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(e){t.create=!1}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("提交")])],1)],1)],1)],1)],1)},s=[],r=(a("ac6a"),a("ffc1"),a("7f7f"),a("fec1")),o=a("90de"),i=a("e069"),l={data:function(){var t=this;return{columns:[{title:"标签",key:"tags",minWidth:100},{title:"IP地址",key:"host",minWidth:120},{title:"端口号",key:"port",minWidth:80},{title:"数据库版本",key:"db_version",minWidth:100},{title:"角色",key:"db_role",minWidth:100},{title:"只读",key:"readonly",minWidth:100,render:function(t,e){var a={0:{desc:"ON"},1:{desc:"OFF"}},n=e.row.readonly;return t(i["Tag"],a[n]["desc"])}},{title:"架构",key:"architecture",minWidth:100},{title:"业务系统",key:"bussiness_system",minWidth:100},{title:"系统等级",key:"system_level",minWidth:110,render:function(t,e){var a={0:{color:"red",desc:"核心系统"},1:{color:"orange",desc:"重要系统"},2:{color:"gray",desc:"一般系统"}},n=e.row.system_level;return t(i["Tag"],{props:{color:a[n]["color"]}},a[n]["desc"])}},{title:"操作",key:"action",minWidth:200,align:"center",render:function(e,a){return console.log("mysql操作中的params值为：",a),e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.view(a.index)}}},"详情"),e("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px",display:!0!==t.updateAccessAll?"none":"inline-block"},on:{click:function(){t.update(a.index)}}},"编辑"),e("Poptip",{props:{confirm:!0,title:"确定要删除吗！",transfer:!0},style:{marginRight:"5px",display:!0!==t.deleteAccessAll?"none":"inline-block"},on:{"on-ok":function(){t.remove(a.index,a.row.id,a.row.host)}}},[e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px",display:!0!==t.deleteAccessAll?"none":"inline-block"}},"删除")])])}}],data:[],linuxdata:[],count:0,page_size:10,host_search:"",create:!1,close:!1,showfooter:!0,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null,formData:{tags:"",host:"",port:3306,db_version:"MySQL5.7",db_user:"",db_password:"",linux_tags:"",vip:"",db_role:"",readonly:"1",gtid:"1",start_method:"",datadir:"",appdir:"",profile:"",backup_type:"",architecture:"",bussiness_system:"",system_level:"0",res_description:"",main_dbuser:"",alarm_connect:""},ruleValidate:{tags:[{required:!0,message:"此项目必填",trigger:"blur"}],host:[{required:!0,message:"此项目必填",trigger:"blur"}],db_user:[{required:!0,message:"此项目必填",trigger:"blur"}],db_password:[{required:!0,message:"此项目必填",trigger:"blur"}],linux_tags:[{required:!0,message:"此项目必填",trigger:"blur"}]}}},created:function(){this.get_mysql_list()},computed:{access:function(){return this.$store.state.user.access},addAccessAll:function(){return Object(o["e"])(["assets.add_mysqllist"],this.access)},updateAccessAll:function(){return Object(o["e"])(["assets.change_mysqllist"],this.access)},deleteAccessAll:function(){return Object(o["e"])(["assets.delete_mysqllist"],this.access)}},methods:{search:function(){console.log(this.host_search),this.get_mysql_list("host=".concat(this.host_search))},clear_search:function(){this.host_search="",this.get_mysql_list()},get_mysql_list:function(t){var e=this;Object(r["n"])(t).then((function(t){e.data=t.data.results,e.count=t.data.count,console.log(e.data)})).catch((function(t){e.$Message.error("获取mysql资源信息错误 ".concat(t))}))},get_linux_list:function(t){var e=this;Object(r["m"])(t).then((function(t){e.linuxdata=t.data.results,console.log(e.linuxdata)})).catch((function(t){e.$Message.error("获取Linux主机资源信息错误 ".concat(t))}))},get_mysql_parameter:function(t){console.log(t),this.get_mysql_list("page=".concat(t))},view:function(t){this.update(t),this.showfooter=!1,this.close=!0},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){console.log(),t?e.updateId?(console.log(e.updateId),Object(r["r"])(e.updateId,e.formData).then((function(t){console.log(t),e.$Message.success("更新MySQL配置成功!"),e.get_mysql_list(),e.create=!1})).catch((function(t){console.log(t.response),e.$Message.error({content:"更新MySQL配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})}))):Object(r["b"])(e.formData).then((function(t){console.log(t),e.$Message.success("新增MySQL配置成功!"),e.get_mysql_list(),e.create=!1})).catch((function(t){console.log(t.response),e.$Message.error({content:"新增MySQL配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})})):e.$Message.error("错误!")}))},add:function(){this.get_linux_list(),this.create=!0,this.showfooter=!0,this.close=!1,this.updateId=null,this.formData.tags="",this.formData.host="",this.formData.port=3306,this.formData.db_version="MySQL5.7",this.formData.db_user="",this.formData.db_password="",this.formData.linux_tags="",this.formData.vip="",this.formData.db_role="",this.formData.readonly="1",this.formData.gtid="1",this.formData.start_method="",this.formData.datadir="",this.formData.appdir="",this.formData.profile="",this.formData.backup_type="",this.formData.architecture="",this.formData.bussiness_system="",this.formData.system_level="0",this.formData.res_description="",this.formData.main_dbuser="",this.formData.alarm_connect="1",this.formData.alarm_connections="0",this.formData.alarm_repl="0",this.formData.alarm_alert_log="0"},remove:function(t,e,a){var n=this;console.log("mysql要删除的index, id, host",t,e,a),Object(r["g"])(e).then((function(e){console.log("删除成功mysqlList的返回值：",e),Object(r["h"])(a).then((function(t){console.log("删除mysqlStat成功后返回的res：",t)})),n.$Message.success("删除MySQL配置成功!"),n.data.splice(t,1)})).catch((function(t){console.log(t.response),n.$Message.error({content:"删除MySQL配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})}))},update:function(t){this.get_linux_list(),this.create=!0,this.showfooter=!0,this.close=!1,this.formData.tags=this.data[t].tags,this.formData.host=this.data[t].host,this.formData.port=this.data[t].port,this.formData.db_version=this.data[t].db_version,this.formData.db_user=this.data[t].db_user,this.formData.db_password=this.data[t].db_password,this.formData.linux_tags=this.data[t].linux_tags,this.formData.vip=this.data[t].vip,this.formData.db_role=this.data[t].db_role,this.formData.readonly=String(this.data[t].readonly),this.formData.gtid=String(this.data[t].gtid),this.formData.start_method=this.data[t].start_method,this.formData.datadir=this.data[t].datadir,this.formData.appdir=this.data[t].appdir,this.formData.profile=this.data[t].profile,this.formData.backup_type=this.data[t].backup_type,this.formData.architecture=this.data[t].architecture,this.formData.bussiness_system=this.data[t].bussiness_system,this.formData.system_level=String(this.data[t].system_level),this.formData.res_description=this.data[t].res_description,this.formData.main_dbuser=this.data[t].main_dbuser,this.formData.alarm_connect=String(this.data[t].alarm_connect),this.formData.alarm_connections=String(this.data[t].alarm_connections),this.formData.alarm_repl=String(this.data[t].alarm_repl),this.formData.alarm_alert_log=String(this.data[t].alarm_alert_log),this.updateId=this.data[t].id}}},c=l,u=(a("d2ab"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"56e351ab",null);e["default"]=d.exports},"33ec":function(t,e,a){},3477:function(t,e,a){"use strict";a("e43b")},"35f5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("error-content",{attrs:{code:"404",desc:"Oh~~您的页面好像飞走了~",src:t.src}})},s=[],r=a("c436"),o=a.n(r),i=a("9454"),l={name:"error_404",components:{errorContent:i["default"]},data:function(){return{src:o.a}}},c=l,u=a("2877"),d=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=d.exports},"37a8":function(t,e,a){"use strict";a("8c22")},"3a8f":function(t,e,a){},"3d13":function(t,e,a){},"3daa":function(t,e,a){},"3f04":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("mysql-menu",{attrs:{value:"1",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Row",[a("i-col",{attrs:{span:"9"}},[a("card",[a("row",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n           容量\n        "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Col",{attrs:{span:"11"}},[a("infor-card",{staticStyle:{background:"lightsteelblue"},attrs:{shadow:""}},[a("count-to",{attrs:{end:this.data_size+this.index_size,"count-class":"count-style"}}),a("p",[t._v("总大小(G)")])],1)],1),a("Col",{attrs:{span:"11",offset:"2"}},[a("infor-card",{staticStyle:{background:"lightsteelblue"},attrs:{shadow:""}},[a("count-to",{attrs:{end:this.data_size,"count-class":"count-style"}}),a("p",[t._v("数据(G)")])],1)],1)],1),a("br"),a("row",[a("Col",{attrs:{span:"11"}},[a("infor-card",{staticStyle:{background:"lightsteelblue"},attrs:{shadow:""}},[a("count-to",{attrs:{end:this.index_size,"count-class":"count-style"}}),a("p",[t._v("索引(G)")])],1)],1),a("Col",{attrs:{span:"11",offset:"2"}},[a("infor-card",{staticStyle:{background:"lightsteelblue"},attrs:{shadow:""}},[a("count-to",{attrs:{end:this.total_rows,"count-class":"count-style"}}),a("p",[t._v("总条目数(百万)")])],1)],1)],1)],1),a("card",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n           数据库信息\n        "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Table",{attrs:{size:"small","show-header":!1,columns:t.columns1,data:t.mysqlinfoData}})],1),a("card",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n           告警\n        "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Table",{attrs:{size:"small",columns:t.columnsAlarm,data:t.alarmData}})],1)],1),a("i-col",{attrs:{span:"15"}},[a("Card",[a("DatePicker",{staticStyle:{width:"250px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择时间范围"},on:{"on-change":t.handleDaterangechange}}),a("br"),a("chart-line2",{staticStyle:{height:"200px"},attrs:{title:t.chart1_title,data1:t.checktimeData,data2:t.qpsData,data3:t.tpsData}}),a("br"),a("chart-line4",{staticStyle:{height:"200px"},attrs:{title:t.chart2_title,data1:t.checktimeData,data2:t.threadsrunningData,data3:t.threadsconnectedData,data4:t.threadswaitedData,data5:t.threadscachedData}}),a("br"),a("chart-line2",{staticStyle:{height:"200px"},attrs:{title:t.chart3_title,data1:t.checktimeData,data2:t.bytesreceivedData,data3:t.bytessentData}})],1)],1)],1)],1)],1)],1)},s=[],r=a("90de"),o=a("6308"),i=a("63a4"),l=a("9349"),c=a("e401"),u=a("8593"),d=a("c9ae"),m={name:"mysql_view",components:{MysqlMenu:o["b"],InforCard:i["a"],SimpleChartPie:d["i"],ChartLine2:d["c"],ChartLine3:d["d"],ChartLine4:d["e"],CountTo:l["a"],CountToInt:l["b"],ChartPie:d["g"]},data:function(){return{Tags:"",end:0,asynEndVal:487,integratedEndVal:3,data:[],mysqlinfo:[],mysqlinfoList:[],columns1:[{title:"column1",key:"column1"},{title:"column2",key:"column2"}],columnsAlarm:[{title:"告警内容",key:"alarm_content",minWidth:250},{title:"告警时间",key:"alarm_header",minWidth:140,render:function(t,e){return t("div",Object(r["b"])(new Date(e.row.alarm_time),"yyyy-MM-dd hh:mm"))}}],alarmData:[],mysqlinfoData:[],processpieData:40,data_size:0,index_size:0,total_rows:0,checktimeData:[],qpsData:[],tpsData:[],threadsconnectedData:[],threadsrunningData:[],threadscachedData:[],threadswaitedData:[],bytesreceivedData:[],bytessentData:[],chart1_title:["QPS&TPS","qps","tps"],chart2_title:["线程","threads connected","threads running","threads waited","threads cached"],chart3_title:["网络流量","bytes received(KB)","bytes sent(KB)"],daterangeValue:null,startTime:"",endTime:""}},created:function(){var t=this;this.get_mysql_stat("tags=".concat(this.$route.params.tags," ")),this.get_mysql_stat_his("tags=".concat(this.$route.params.tags," ")),this.get_export_alarm_info("tags=".concat(this.$route.params.tags,"&alarm_type=mysql ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_mysql_stat("tags=".concat(t.$route.params.tags," ")),t.get_mysql_stat_his("tags=".concat(t.$route.params.tags," ")),t.get_export_alarm_info("tags=".concat(t.$route.params.tags,"&alarm_type=mysql "))}),2e4)},methods:{init:function(){},get_mysql_stat:function(t){var e=this;Object(c["b"])(t).then((function(t){e.mysqlinfo=t.data.results[0],e.mysqlinfoData=[{column1:"版本: "+e.mysqlinfo.version,column2:"运行天数: "+e.mysqlinfo.updays},{column1:"基础目录: "+e.mysqlinfo.basedir,column2:"数据目录: "+e.mysqlinfo.datadir},{column1:"慢查询: "+e.mysqlinfo.slow_query_log,column2:"二进制日志: "+e.mysqlinfo.log_bin},{column1:"innodb缓冲池: "+e.mysqlinfo.innodb_buffer_pool_size/1024/1024+"MB",column2:"排序区: "+e.mysqlinfo.sort_buffer_size/1024+"KB"},{column1:"最大连接数: "+e.mysqlinfo.max_connections}],e.data_size=e.mysqlinfo.data_size,e.index_size=e.mysqlinfo.index_size,e.total_rows=e.mysqlinfo.total_rows/1e4/100,console.log(e.mysqlinfo)})).catch((function(t){e.$Message.error("获取mysql资源信息错误 ".concat(t))}))},get_mysql_stat_his:function(t){var e=this;Object(c["c"])(t).then((function(t){e.mysqlinfoList=t.data.results,e.checktimeData=e.mysqlinfoList.map((function(t){return Object(r["b"])(new Date(t.check_time),"yyyy-MM-dd hh:mm")})),e.qpsData=e.mysqlinfoList.map((function(t){return t.qps})),e.tpsData=e.mysqlinfoList.map((function(t){return t.tps})),e.threadsconnectedData=e.mysqlinfoList.map((function(t){return t.threads_connected})),e.threadsrunningData=e.mysqlinfoList.map((function(t){return t.threads_running})),e.threadscachedData=e.mysqlinfoList.map((function(t){return t.threads_cached})),e.threadswaitedData=e.mysqlinfoList.map((function(t){return t.threads_waited})),e.bytesreceivedData=e.mysqlinfoList.map((function(t){return t.bytes_received})),e.bytessentData=e.mysqlinfoList.map((function(t){return t.bytes_sent}))})).catch((function(t){e.$Message.error("获取mysql资源信息错误 ".concat(t))}))},get_export_alarm_info:function(t){var e=this;Object(u["d"])(t).then((function(t){e.alarmData=t.data.results,e.count=t.data.count})).catch((function(t){e.$Message.error("获取告警信息错误 ".concat(t))}))},handleDaterangechange:function(t){this.daterangeValue=t,this.startTime=t[0],this.endTime=t[1],this.get_mysql_stat_his("tags=".concat(this.$route.params.tags,"&start_time=").concat(this.startTime,"&end_time=").concat(this.endTime))}},mounted:function(){this.init()},destroyed:function(){clearInterval(this.timer)}},h=m,p=(a("ddc1"),a("2877")),f=Object(p["a"])(h,n,s,!1,null,null,null);e["default"]=f.exports},"3fcc":function(t,e,a){},"40c9":function(t,e,a){},4360:function(t,e,a){"use strict";var n=a("2b0e"),s=a("2f62"),r=(a("7f7f"),a("66df")),o=function(t){var e=t.userName,a=t.password,n={username:e,password:a};return r["a"].request({url:"/api/auth",data:n,method:"post"})},i=function(t){return r["a"].request({url:"/system/api/user_info",data:{token:t},method:"post"})},l=function(t){return r["a"].request({url:"/system/api/logout",data:{token:t},method:"post"})},c=a("c276"),u=a("9658"),d={state:{userName:"",userId:"",avatarImgPath:"",token:Object(c["j"])(),access:"",hasGetInfo:!1,unreadCount:0},mutations:{setAvatar:function(t,e){t.avatarImgPath=e},setUserId:function(t,e){t.userId=e},setUserName:function(t,e){t.userName=e},setAccess:function(t,e){t.access=e},setToken:function(t,e){t.token=e,Object(c["r"])(e)},setHasGetInfo:function(t,e){t.hasGetInfo=e}},getters:{},actions:{handleLogin:function(t,e){var a=t.commit,n=e.userName,s=e.password;return n=n.trim(),new Promise((function(t,e){o({userName:n,password:s}).then((function(e){var n=e.data;a("setToken",n.token),Object(u["b"])(),t()})).catch((function(t){e(t)}))}))},handleLogOut:function(t){var e=t.state,a=t.commit;return new Promise((function(t,n){l(e.token).then((function(e){console.log("退出",e),a("setToken",""),a("setAccess",[]),Object(c["l"])("dynamicRouter",[]),t()})).catch((function(t){n(t)}))}))},getUserInfo:function(t){var e=t.state,a=t.commit;return new Promise((function(t,n){try{i(e.token).then((function(e){var n=e.data;a("setAvatar",n.avatar),a("setUserName",n.name),a("setUserId",n.user_id),a("setAccess",n.access),a("setHasGetInfo",!0),t(n)})).catch((function(t){console.log("err的值是：",t),n(t)}))}catch(s){n(s)}}))}}},m=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),h=(a("6762"),a("2fdb"),a("20d6"),a("2909")),p=a("7e1e"),f=a("a18c"),_=a("f121");function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){Object(m["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var y=_["a"].homeName,v=function(t,e){var a=Object(c["g"])(t.tagNavList,e);t.tagNavList=t.tagNavList.filter((function(t){return!Object(c["m"])(t,e)})),f["a"].push(a)},w={state:{breadCrumbList:[],tagNavList:[],homeRoute:{},local:Object(c["k"])("local"),errorList:[],hasReadErrorPage:!1,menuList:[]},getters:{menuList:function(t,e,a){return Object(c["e"])(t.menuList,a.user.access)},errorCount:function(t){return t.errorList.length}},mutations:{updateMenuList:function(t,e){f["a"].addRoutes(e),t.menuList=e,console.log("updateMenuList 添  menuList",t.menuList)},setBreadCrumb:function(t,e){t.breadCrumbList=Object(c["c"])(e,t.homeRoute)},setHomeRoute:function(t,e){t.homeRoute=Object(c["d"])(e,y)},setTagNavList:function(t,e){var a=[];a=e?Object(h["a"])(e):Object(c["i"])()||[],a[0]&&a[0].name!==y&&a.shift();var n=a.findIndex((function(t){return t.name===y}));if(n>0){var s=a.splice(n,1)[0];a.unshift(s)}t.tagNavList=a,Object(c["p"])(Object(h["a"])(a))},closeTag:function(t,e){var a=t.tagNavList.filter((function(t){return Object(c["m"])(t,e)}));e=a[0]?a[0]:null,e&&v(t,e)},addTag:function(t,e){var a=e.route,n=e.type,s=void 0===n?"unshift":n,r=Object(c["h"])(a);Object(c["n"])(t.tagNavList,r)||("push"===s?t.tagNavList.push(r):r.name===y?t.tagNavList.unshift(r):t.tagNavList.splice(1,0,r),Object(c["p"])(Object(h["a"])(t.tagNavList)))},setLocal:function(t,e){Object(c["l"])("local",e),t.local=e},addError:function(t,e){t.errorList.push(e)},setHasReadErrorLoggerStatus:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.hasReadErrorPage=e}},actions:{addErrorLog:function(t,e){var a=t.commit,n=t.rootState;window.location.href.includes("error_logger_page")||a("setHasReadErrorLoggerStatus",!1);var s=n.user,r=s.token,o=s.userId,i=s.userName,l=b(b({},e),{},{time:Date.parse(new Date),token:r,userId:o,userName:i});Object(p["b"])(e).then((function(){a("addError",l)}))}}};n["default"].use(s["a"]);e["a"]=new s["a"].Store({state:{},mutations:{},actions:{},modules:{user:d,app:w}})},"46f4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Row",[a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"ip地址"},model:{value:t.host_search,callback:function(e){t.host_search=e},expression:"host_search"}}),t._v(" \n    "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" \n    "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("Card",[a("br"),a("Row",[a("Table",{attrs:{size:"small",border:"",columns:t.columns,data:t.data}})],1),a("Row",[a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_linux_parameter}})],1)],1)],1)},s=[],r=a("6fa1"),o=a("90de"),i=a("e069"),l={data:function(){var t=this;return{show:!1,columns:[{type:"index",minWidth:50,align:"center"},{title:"标签",minWidth:80,sortable:!0,render:function(e,a){var n=a.row.tags;return e("a",{on:{click:function(){t.gotoLinux(n)}}},n)}},{title:"IP地址",key:"host",minWidth:120,sortable:!0},{title:"主机名",key:"hostname",minWidth:130},{title:"运行天数",key:"updays",minWidth:85},{title:"load",key:"load1",minWidth:80},{title:"CPU使用率",key:"cpu_used",minWidth:100,render:function(t,e){var a=e.row.cpu_used;return a>=90?t(i["Tag"],{props:{color:"error"}},a+"%"):a>=80?t(i["Tag"],{props:{color:"warning"}},a+"%"):null===a?null:t(i["Tag"],{props:{color:"success"}},a+"%")}},{title:"内存使用率",key:"mem_used",minWidth:100,render:function(t,e){var a=e.row.mem_used;return a>=90?t(i["Tag"],{props:{color:"error"}},a+"%"):a>=80?t(i["Tag"],{props:{color:"warning"}},a+"%"):null===a?null:t(i["Tag"],{props:{color:"success"}},a+"%")}},{title:"采集时间",key:"check_time",minWidth:200,render:function(t,e){return console.log("h的值：",t),console.log("params的值是：",e),t("div",Object(o["b"])(new Date(e.row.check_time),"yyyy-MM-dd hh:mm"))}},{title:"状态",key:"status",minWidth:100,render:function(t,e){var a={0:{color:"green",desc:"正常"},1:{color:"red",desc:"失败"}},n=e.row.status;return t(i["Tag"],{props:{color:a[n]["color"]}},a[n]["desc"])}}],data:[],count:0,page_size:10,host_search:"",create:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null}},computed:{access:function(){return this.$store.state.user.access}},created:function(){this.get_linux_stat_list()},methods:{gotoLinux:function(t){var e="/linux/"+t+"/view";this.$router.push({path:e})},search:function(){console.log(this.host_search),this.get_linux_stat_list("host=".concat(this.host_search))},clear_search:function(){this.host_search="",this.get_linux_stat_list()},get_linux_stat_list:function(t){var e=this;Object(r["e"])(t).then((function(t){e.data=t.data.results,e.count=t.data.count,console.log("获取到的linux列表",e.data)})).catch((function(t){e.$Message.error("获取linux资源信息错误 ".concat(t))}))},get_linux_parameter:function(t){console.log(t),this.get_linux_stat_list("page=".concat(t))}}},c=l,u=(a("0111"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"3e3518ae",null);e["default"]=d.exports},4738:function(t,e,a){"use strict";a("d2f2")},4740:function(t,e,a){t.exports=a.p+"img/error-500.a371eabc.svg"},4993:function(t,e,a){var n={"./argu-page/params.vue":"2b64","./argu-page/query.vue":"8f04","./assets/linux-list.vue":"8e68","./assets/mysql-list.vue":"33ad","./assets/redis-list.vue":"0529","./assets/windows-list.vue":"678f","./error-page/401.vue":"f94f","./error-page/404.vue":"35f5","./error-page/500.vue":"88b2","./error-page/back-btn-group.vue":"c1a1","./error-page/error-content.vue":"9454","./linux/io.vue":"e745","./linux/memory.vue":"73aa","./linux/stat-list.vue":"46f4","./linux/view.vue":"a85d","./login/login.vue":"e49c","./multilevel/level-2-1.vue":"d08b","./mysql/alert-log.vue":"8913","./mysql/innodb.vue":"5641","./mysql/myisam.vue":"12d3","./mysql/slowquery-log.vue":"63a3","./mysql/stat-list.vue":"3092","./mysql/view.vue":"3f04","./redis/alert-log.vue":"7382","./redis/clientlist.vue":"f9ad","./redis/command-stats.vue":"9216","./redis/config.vue":"f83d","./redis/immediate-stats.vue":"f718","./redis/slowlog.vue":"af76","./redis/stat-list.vue":"30ec","./redis/view.vue":"ec26","./system/alarm-conf.vue":"cf09","./system/alarm-info.vue":"c8d5","./system/home/home.vue":"50b7","./system/mysql-setup.vue":"553d","./windows/stat-list.vue":"8c13","./windows/view.vue":"d1b4"};function s(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=r,t.exports=s,s.id="4993"},"4a50":function(t,e,a){},"4b4f":function(t,e,a){"use strict";a("8df5")},"50b7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{attrs:{gutter:10}},[a("i-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:6}},[a("Card",{attrs:{shadow:""}},[a("p",{staticStyle:{"font-size":"larger"},attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-pie"}}),t._v("\n          Windows\n        ")],1),a("p",{staticStyle:{"font-size":"small",color:"black"}},[t._v("\n          总数量："+t._s(this.windows_count)+"\n        ")]),a("chart-pie3",{staticStyle:{height:"160px"},attrs:{value:t.WindowsData,text:"Windows"}})],1)],1),a("i-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:6}},[a("Card",{attrs:{shadow:""}},[a("p",{staticStyle:{"font-size":"larger"},attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-pie"}}),t._v("\n          Linux服务器\n        ")],1),a("p",{staticStyle:{"font-size":"small",color:"black"}},[t._v("\n          总数量："+t._s(this.linux_count)+"\n        ")]),a("chart-pie3",{staticStyle:{height:"160px"},attrs:{value:this.LinuxData,text:"Linux"}})],1)],1),a("i-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:6}},[a("Card",{attrs:{shadow:""}},[a("p",{staticStyle:{"font-size":"larger"},attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-pie"}}),t._v("\n          MySQL数据库\n        ")],1),a("p",{staticStyle:{"font-size":"small",color:"black"}},[t._v("\n          总数量："+t._s(this.mysql_count)+"\n        ")]),a("chart-pie3",{staticStyle:{height:"160px"},attrs:{value:t.MysqlData,text:"MySQL"}})],1)],1),a("i-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:6}},[a("Card",{attrs:{shadow:""}},[a("p",{staticStyle:{"font-size":"larger"},attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-pie"}}),t._v("\n          Redis\n        ")],1),a("p",{staticStyle:{"font-size":"small",color:"black"}},[t._v("\n          总数量："+t._s(this.redis_count)+"\n        ")]),a("chart-pie3",{staticStyle:{height:"160px"},attrs:{value:t.RedisData,text:"Redis"}})],1)],1),a("i-col",{attrs:{span:"12"}},[a("card",[a("p",{staticStyle:{"font-size":"larger"},attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-warning"}}),t._v("\n          告警消息\n        ")],1),a("Scroll",[a("List",t._l(t.alarminfoList,(function(t){return a("ListItem",{key:t.id},[a("ListItemMeta",{attrs:{title:t.alarm_header,description:t.alarm_content}})],1)})),1)],1)],1)],1)],1)],1)},s=[],r=a("9349"),o=a("c9ae"),i=a("8593"),l=a("946a"),c=a("6fa1"),u=a("e401"),d=a("3334"),m=a("90de"),h={name:"home",components:{CountTo:r["a"],ChartPie:o["g"],ChartBar:o["a"],ChartPie3:o["h"]},data:function(){return{WindowsData:[],LinuxData:[],MysqlData:[],RedisData:[],alarminfoList:[],windows_stat_list:[],linuxstatList:[],mysqlstatList:[],redisstatList:[],alarm_count:null,linux_count:null,mysql_count:null,redis_count:null,windows_count:null}},created:function(){var t=this;this.get_export_alarm_info(),this.get_windows_stat_list(),this.get_linux_stat_list(),this.get_mysql_stat_list(),this.get_redis_stat_list(),this.timer=setInterval((function(){t.get_export_alarm_info(),t.get_windows_stat_list(),t.get_linux_stat_list(),t.get_mysql_stat_list(),t.get_redis_stat_list()}),2e4)},methods:{get_export_alarm_info:function(){var t=this;Object(i["d"])("day=1").then((function(e){t.alarminfoList=e.data.results,t.alarm_count=e.data.count})).catch((function(e){t.$Message.error("获取告警信息错误！".concat(e))}))},get_windows_stat_list:function(t){var e=this;Object(l["d"])(t).then((function(t){e.windows_stat_list=t.data.results,e.windows_count=t.data.count,e.WindowsData=Object(m["j"])(e.windows_stat_list),console.log(e.windows_stat_list)})).catch((function(t){e.$Message.error("获取windows状态列表错误 ".concat(t))}))},get_mysql_stat_list:function(t){var e=this;Object(u["d"])(t).then((function(t){e.mysqlstatList=t.data.results,e.mysql_count=t.data.count,e.MysqlData=Object(m["j"])(e.mysqlstatList),console.log(e.data)})).catch((function(t){e.$Message.error("获取mysql状态列表错误 ".concat(t))}))},get_redis_stat_list:function(t){var e=this;Object(d["g"])(t).then((function(t){e.redisstatList=t.data.results,e.redis_count=t.data.count,e.RedisData=Object(m["j"])(e.redisstatList),console.log(e.data)})).catch((function(t){e.$Message.error("获取redis状态列表错误 ".concat(t))}))},get_linux_stat_list:function(t){var e=this;Object(c["e"])(t).then((function(t){e.linuxstatList=t.data.results,e.linux_count=t.data.count,e.LinuxData=Object(m["j"])(e.linuxstatList)})).catch((function(t){e.$Message.error("获取linux状态列表错误 ".concat(t))}))}},mounted:function(){},destroyed:function(){clearInterval(this.timer)}},p=h,f=(a("f692"),a("2877")),_=Object(f["a"])(p,n,s,!1,null,null,null);e["default"]=_.exports},"553d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Card",[a("Row",[a("Drawer",{attrs:{title:"安装日志",width:"720","mask-closable":this.close,styles:t.styles},model:{value:t.showlog,callback:function(e){t.showlog=e},expression:"showlog"}},[a("Table",{attrs:{size:"small",columns:t.columns,data:t.data}})],1),a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleValidate}},[a("Alert",{attrs:{"show-icon":""}},[t._v(" MySQL安装配置 ")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"MySQL安装路径","label-position":"top",prop:"mysql_path"}},[a("Input",{attrs:{placeholder:"如/u01/my3306"},model:{value:t.formData.mysql_path,callback:function(e){t.$set(t.formData,"mysql_path",e)},expression:"formData.mysql_path"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"数据文件路径","label-position":"top",prop:"data_path"}},[a("Input",{attrs:{placeholder:"如/data/my3306"},model:{value:t.formData.data_path,callback:function(e){t.$set(t.formData,"data_path",e)},expression:"formData.data_path"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"端口号","label-position":"top",prop:"port"}},[a("Input",{attrs:{placeholder:"如3306"},model:{value:t.formData.port,callback:function(e){t.$set(t.formData,"port",e)},expression:"formData.port"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"MySQL版本","label-position":"top",prop:"version"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.version,callback:function(e){t.$set(t.formData,"version",e)},expression:"formData.version"}},[a("Option",{attrs:{value:"MySQL5.7"}},[t._v("MySQL5.7")]),a("Option",{attrs:{value:"MySQL8.0"}},[t._v("MySQL8.0")])],1)],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"IP地址","label-position":"top",prop:"ip"}},[a("Input",{attrs:{placeholder:"如192.168.48.11"},model:{value:t.formData.ip,callback:function(e){t.$set(t.formData,"ip",e)},expression:"formData.ip"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"root密码","label-position":"top",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"服务器物理内存(GB)","label-position":"top",prop:"memory"}},[a("Input",{attrs:{placeholder:"如32"},model:{value:t.formData.memory,callback:function(e){t.$set(t.formData,"memory",e)},expression:"formData.memory"}})],1)],1)],1),a("FormItem",[a("Button",{staticStyle:{"margin-right":"16px"},attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData","mysql")}}},[t._v("\n            开始安装\n          ")]),a("Button",{staticStyle:{"margin-right":"16px"},attrs:{type:"info",ghost:""},on:{click:t.showLog}},[t._v("\n            查看安装日志\n          ")]),a("Tooltip",{attrs:{placement:"top"}})],1)],1)],1)],1)],1)},s=[],r=(a("ac6a"),a("ffc1"),a("7f7f"),a("8593")),o=a("90de"),i={data:function(){return{columns:[{title:"序号",key:"id",width:80},{title:"时间",key:"log_time",width:140,render:function(t,e){return t("div",Object(o["b"])(new Date(e.row.log_time),"yyyy-MM-dd hh:mm"))}},{title:"日志内容",key:"log_content"}],data:[],showlog:!1,close:!1,showfooter:!0,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null,formData:{version:"MySQL5.7"},ruleValidate:{mysql_path:[{required:!0,message:"此项目必填",trigger:"blur"}],data_path:[{required:!0,message:"此项目必填",trigger:"blur"}],port:[{required:!0,message:"此项目必填",trigger:"blur"}],version:[{required:!0,message:"此项目必填",trigger:"blur"}],ip:[{required:!0,message:"此项目必填",trigger:"blur"}],password:[{required:!0,message:"此项目必填",trigger:"blur"}],memory:[{required:!0,message:"此项目必填",trigger:"blur"}]}}},created:function(){var t=this;this.get_setup_log(),this.timer=setInterval((function(){t.get_setup_log()}),5e3)},computed:{access:function(){return this.$store.state.user.access}},methods:{get_setup_log:function(){var t=this;Object(r["e"])().then((function(e){t.data=e.data,console.log(t.data)})).catch((function(e){t.$Message.error("获取日志信息错误 ".concat(e))}))},handleSubmit:function(t,e){var a=this;this.showlog=!0,this.$refs[t].validate((function(t){console.log(),t?Object(r["f"])(a.formData).then((function(t){console.log(t),a.$Message.success("MySQL安装已启动!")})).catch((function(t){console.log(t.response),a.$Message.error({content:"MySQL安装启动失败 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})})):a.$Message.error("异常错误!")}))},showLog:function(){this.showlog=!0},destroyed:function(){clearInterval(this.timer)}}},l=i,c=(a("22bb"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,null,null);e["default"]=u.exports},5641:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("mysql-menu",{attrs:{value:"3",tags:this.Tags}}),a("Row",[a("card",[a("Table",{attrs:{size:"small",border:"",columns:t.columns,data:t.innodbinfo}})],1),a("card",[a("DatePicker",{staticStyle:{width:"250px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择时间范围"},on:{"on-change":t.handleDaterangechange}}),a("row",[a("i-col",{attrs:{span:"12"}},[a("br"),a("chart-line1",{staticStyle:{height:"250px"},attrs:{title:t.chart1_title,data1:t.checktimeData,data2:t.bufferpoolhitData}}),a("br"),a("chart-line2",{staticStyle:{height:"250px"},attrs:{title:t.chart2_title,data1:t.checktimeData,data2:t.bufferpoolusedData,data3:t.bufferpooldirtyData}}),a("br"),a("chart-line1",{staticStyle:{height:"250px"},attrs:{title:t.chart3_title,data1:t.checktimeData,data2:t.rowlockwaitsData}}),a("br"),a("chart-line1",{staticStyle:{height:"250px"},attrs:{title:t.chart4_title,data1:t.checktimeData,data2:t.rowlockwaittimeData}}),a("br"),a("chart-line1",{staticStyle:{height:"250px"},attrs:{title:t.chart5_title,data1:t.checktimeData,data2:t.dirtypagesData}})],1),a("i-col",{attrs:{span:"12"}},[a("br"),a("chart-line1",{staticStyle:{height:"250px"},attrs:{title:t.chart6_title,data1:t.checktimeData,data2:t.datafsyncsData}}),a("br"),a("chart-line2",{staticStyle:{height:"250px"},attrs:{title:t.chart7_title,data1:t.checktimeData,data2:t.datareadData,data3:t.datawrittenData}}),a("br"),a("chart-line2",{staticStyle:{height:"250px"},attrs:{title:t.chart8_title,data1:t.checktimeData,data2:t.datareadsData,data3:t.datawritesData}}),a("br"),a("chart-line1",{staticStyle:{height:"250px"},attrs:{title:t.chart9_title,data1:t.checktimeData,data2:t.logwritesData}}),a("br"),a("chart-line1",{staticStyle:{height:"250px"},attrs:{title:t.chart10_title,data1:t.checktimeData,data2:t.oslogwrittenData}})],1)],1),t._v(">\n        ")],1)],1)],1)],1)},s=[],r=a("6308"),o=a("e401"),i=a("c9ae"),l=a("90de"),c={name:"mysql_myisam",components:{ChartLine1:i["b"],ChartLine2:i["c"],ChartLine3:i["d"],ChartLine4:i["e"],ChartPie:i["g"],MysqlMenu:r["b"]},data:function(){return{Tags:"",show:!1,columns:[{title:"innodb_buffer_pool",align:"center",children:[{title:"size",key:"innodb_buffer_pool_size",minWidth:150,align:"center",render:function(t,e){var a=e.row.key_buffer_size;return t("span",parseFloat(a/1924/1024).toFixed(2)+"MB")}}]},{title:"Pages",align:"center",children:[{title:"total",key:"innodb_buffer_pool_pages_total",align:"center",minWidth:70},{title:"data",key:"innodb_buffer_pool_pages_data",align:"center",minWidth:70},{title:"dirty",key:"innodb_buffer_pool_pages_dirty",align:"center",minWidth:70},{title:"flushed",key:"innodb_buffer_pool_pages_flushed",align:"center",minWidth:90},{title:"free",key:"innodb_buffer_pool_pages_free",align:"center",minWidth:70}]},{title:"IO",align:"center",children:[{title:"capacity",key:"innodb_io_capacity",align:"center",minWidth:90},{title:"read_thread",key:"innodb_read_io_threads",align:"center",minWidth:110},{title:"write_thread",key:"innodb_write_io_threads",align:"center",minWidth:110}]},{title:"Innodb_rows",align:"center",children:[{title:"read",key:"innodb_rows_read",align:"center",minWidth:70},{title:"insert",key:"innodb_rows_inserted",align:"center",minWidth:70},{title:"update",key:"innodb_rows_updated",align:"center",minWidth:80},{title:"delete",key:"innodb_rows_deleted",align:"center",minWidth:80}]}],data:[],innodbinfo:[],create:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},checktimeData:[],chart1_title:["innodb缓冲区命中率","命中率"],bufferpoolhitData:[],chart2_title:["innodb缓冲区使用率、脏块率","使用率","脏块率"],bufferpoolusedData:[],bufferpooldirtyData:[],chart3_title:["Innodb锁等待次数","innodb锁等待次数"],rowlockwaitsData:[],chart4_title:["Innodb锁平均等待时间","innodb锁平均等待时间"],rowlockwaittimeData:[],chart5_title:["InnoDB脏页数量","innodb脏页数量"],dirtypagesData:[],chart6_title:["InnoDB数据刷新频率","innodb数据刷新频率"],datafsyncsData:[],chart7_title:["InnoDB读写量","读数量(KB)","写数量(KB)"],datareadData:[],datawrittenData:[],chart8_title:["InnoDB读写次数","读次数","写次数"],datareadsData:[],datawritesData:[],chart9_title:["InnoDB日志文件写次数","日志写出次数"],logwritesData:[],chart10_title:["InnoDB日志写出量","日志写出量(KB)"],oslogwrittenData:[]}},computed:{access:function(){return this.$store.state.user.access}},created:function(){var t=this;this.get_mysql_stat("tags=".concat(this.$route.params.tags," ")),this.get_mysql_stat_his("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_mysql_stat("tags=".concat(t.$route.params.tags," ")),t.get_mysql_stat_his("tags=".concat(t.$route.params.tags," "))}),2e4)},methods:{get_mysql_stat:function(t){var e=this;Object(o["b"])(t).then((function(t){e.data=t.data.results,e.innodbinfo=t.data.results.slice(0,1),console.log(e.innodbinfo)})).catch((function(t){e.$Message.error("获取mysql资源信息错误 ".concat(t))}))},get_mysql_stat_his:function(t){var e=this;Object(o["c"])(t).then((function(t){e.data=t.data.results,e.mysqlstatlist=t.data.results,e.checktimeData=e.mysqlstatlist.map((function(t){return Object(l["b"])(new Date(t.check_time),"yyyy-MM-dd hh:mm")})),e.bufferpoolhitData=e.mysqlstatlist.map((function(t){return t.innodb_buffer_pool_hit})),e.bufferpoolusedData=e.mysqlstatlist.map((function(t){return(100*parseFloat(t.innodb_buffer_pool_pages_total-t.innodb_buffer_pool_pages_free)/t.innodb_buffer_pool_pages_total).toFixed(2)})),e.bufferpooldirtyData=e.mysqlstatlist.map((function(t){return(100*parseFloat(t.innodb_buffer_pool_pages_dirty)/t.innodb_buffer_pool_pages_total).toFixed(2)})),e.rowlockwaitsData=e.mysqlstatlist.map((function(t){return t.innodb_row_lock_waits})),e.rowlockwaittimeData=e.mysqlstatlist.map((function(t){return t.innodb_row_lock_time_avg})),e.dirtypagesData=e.mysqlstatlist.map((function(t){return t.innodb_buffer_pool_pages_dirty})),e.datafsyncsData=e.mysqlstatlist.map((function(t){return t.innodb_data_fsyncs})),e.datareadData=e.mysqlstatlist.map((function(t){return t.innodb_data_read})),e.datawrittenData=e.mysqlstatlist.map((function(t){return t.innodb_data_written})),e.datareadsData=e.mysqlstatlist.map((function(t){return t.innodb_data_reads})),e.datawritesData=e.mysqlstatlist.map((function(t){return t.innodb_data_writes})),e.logwritesData=e.mysqlstatlist.map((function(t){return t.innodb_log_writes})),e.oslogwrittenData=e.mysqlstatlist.map((function(t){return t.innodb_os_log_written})),console.log(e.mysqlstatlist)})).catch((function(t){e.$Message.error("获取mysql资源信息错误 ".concat(t))}))},handleDaterangechange:function(t){this.daterangeValue=t,this.startTime=t[0],this.endTime=t[1],this.get_mysql_stat_his("tags=".concat(this.$route.params.tags,"&start_time=").concat(this.startTime,"&end_time=").concat(this.endTime))}},destroyed:function(){clearInterval(this.timer)}},u=c,d=(a("ceac"),a("2877")),m=Object(d["a"])(u,n,s,!1,null,null,null);e["default"]=m.exports},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],o={name:"App"},i=o,l=(a("7c55"),a("2877")),c=Object(l["a"])(i,s,r,!1,null,null,null),u=c.exports,d=a("a18c"),m=a("4360"),h=a("e069"),p=a.n(h),f=a("a925"),_=a("c276"),g={home:"首页",login:"登录",components:"组件",count_to_page:"数字渐变",tables_page:"多功能表格",split_pane_page:"分割窗口",markdown_page:"Markdown编辑器",editor_page:"富文本编辑器",icons_page:"自定义图标",img_cropper_page:"图片编辑器",update:"上传数据",join_page:"QQ群",doc:"文档",update_table_page:"上传CSV文件",update_paste_page:"粘贴表格数据",multilevel:"多级菜单",directive_page:"指令",level_1:"Level-1",level_2:"Level-2",level_2_1:"Level-2-1",level_2_3:"Level-2-3",level_2_2:"Level-2-2",level_2_2_1:"Level-2-2-1",level_2_2_2:"Level-2-2-2",excel:"Excel","upload-excel":"上传excel","export-excel":"导出excel",tools_methods_page:"工具函数",drag_list_page:"拖拽列表",i18n_page:"多语言",modalTitle:"模态框题目",content:"这是模态框内容",buttonText:"显示模态框","i18n-tip":"注：仅此页做了多语言，其他页面没有在多语言包中添加语言内容",error_store_page:"错误收集",error_logger_page:"错误日志",query:"带参路由",params:"动态路由",cropper_page:"图片裁剪",message_page:"消息中心",tree_table_page:"树状表格",org_tree_page:"组织结构树",drag_drawer_page:"可拖动抽屉",tree_select_page:"树状下拉选择器"},b={home:"首頁",login:"登錄",components:"组件",count_to_page:"数字渐变",tables_page:"多功能表格",split_pane_page:"分割窗口",markdown_page:"Markdown編輯器",editor_page:"富文本編輯器",icons_page:"自定義圖標",img_cropper_page:"圖片編輯器",update:"上傳數據",join_page:"QQ群",doc:"文檔",update_table_page:"上傳CSV文件",update_paste_page:"粘貼表格數據",multilevel:"多级菜单",directive_page:"指令",level_1:"Level-1",level_2:"Level-2",level_2_1:"Level-2-1",level_2_3:"Level-2-3",level_2_2:"Level-2-2",level_2_2_1:"Level-2-2-1",level_2_2_2:"Level-2-2-2",excel:"Excel","upload-excel":"上傳excel","export-excel":"導出excel",tools_methods_page:"工具函數",drag_list_page:"拖拽列表",i18n_page:"多語言",modalTitle:"模態框題目",content:"這是模態框內容",buttonText:"顯示模態框","i18n-tip":"注：僅此頁做了多語言，其他頁面沒有在多語言包中添加語言內容",error_store_page:"錯誤收集",error_logger_page:"錯誤日誌",query:"帶參路由",params:"動態路由",cropper_page:"圖片裁剪",message_page:"消息中心",tree_table_page:"樹狀表格",org_tree_page:"組織結構樹",drag_drawer_page:"可拖動抽屜",tree_select_page:"樹狀下拉選擇器"},y={home:"Home",login:"Login",components:"Components",count_to_page:"Count-to",tables_page:"Table",split_pane_page:"Split-pane",markdown_page:"Markdown-editor",editor_page:"Rich-Text-Editor",icons_page:"Custom-icon",img_cropper_page:"Image-editor",update:"Update",doc:"Document",join_page:"QQ Group",update_table_page:"Update .CSV",update_paste_page:"Paste Table Data",multilevel:"multilevel",directive_page:"Directive",level_1:"Level-1",level_2:"Level-2",level_2_1:"Level-2-1",level_2_3:"Level-2-3",level_2_2:"Level-2-2",level_2_2_1:"Level-2-2-1",level_2_2_2:"Level-2-2-2",excel:"Excel","upload-excel":"Upload Excel","export-excel":"Export Excel",tools_methods_page:"Tools Methods",drag_list_page:"Drag-list",i18n_page:"Internationalization",modalTitle:"Modal Title",content:"This is the modal box content.",buttonText:"Show Modal","i18n-tip":"Note: Only this page is multi-language, other pages do not add language content to the multi-language package.",error_store_page:"Error Collection",error_logger_page:"Error Logger",query:"Query",params:"Params",cropper_page:"Cropper",message_page:"Message Center",tree_table_page:"Tree Table",org_tree_page:"Org Tree",drag_drawer_page:"Draggable Drawer",tree_select_page:"Tree Selector"},v=a("cea3"),w=a("641c"),x=a("97b7");n["default"].use(f["a"]);var D=navigator.language,k=("zh-CN"===D||"en-US"===D)&&D,O=k||Object(_["k"])("local")||"zh-CN";n["default"].config.lang=O,n["default"].locale=function(){};var S={"zh-CN":Object.assign(v["a"],g),"zh-TW":Object.assign(x["a"],b),"en-US":Object.assign(w["a"],y)},C=new f["a"]({locale:O,messages:S}),$=C,j=a("f121"),I=(a("28a5"),a("90de")),q={inserted:function(t,e,a){var n=document.querySelector(e.value.trigger);n.style.cursor="move";var s=document.querySelector(e.value.body),r=0,o=0,i=0,l=0,c=!1,u=function(t){var e=/\(.*\)/.exec(s.style.transform);if(e){e=e[0].slice(1,e[0].length-1);var a=e.split("px, ");i=parseFloat(a[0]),l=parseFloat(a[1].split("px")[0])}r=t.pageX,o=t.pageY,c=!0},d=function(t){var e=t.pageX-r+i,a=t.pageY-o+l;c&&(s.style.transform="translate(".concat(e,"px, ").concat(a,"px)"))},m=function(t){c=!1};Object(I["i"])(n,"mousedown",u),Object(I["i"])(document,"mousemove",d),Object(I["i"])(document,"mouseup",m)},update:function(t,e,a){if(e.value.recover){var n=document.querySelector(e.value.body);n.style.transform=""}}},L=a("b311"),T=a.n(L),M={bind:function(t,e){var a=new T.a(t,{text:function(){return e.value.value}});t.__success_callback__=e.value.success,t.__error_callback__=e.value.error,a.on("success",(function(e){var a=t.__success_callback__;a&&a(e)})),a.on("error",(function(e){var a=t.__error_callback__;a&&a(e)})),t.__clipboard__=a},update:function(t,e){t.__clipboard__.text=function(){return e.value.value},t.__success_callback__=e.value.success,t.__error_callback__=e.value.error},unbind:function(t,e){delete t.__success_callback__,delete t.__error_callback__,t.__clipboard__.destroy(),delete t.__clipboard__}},z={draggable:q,clipboard:M},W=z,A=function(t){t.directive("draggable",W.draggable),t.directive("clipboard",W.clipboard)},P=A,N=a("df4d"),F=a("13aa"),B=(a("ca62"),a("33ec"),a("ee1a8")),R=a.n(B),E=a("9a0d"),V=a.n(E),H=(a("749a"),a("9658"));a("9368");n["default"].use(p.a,{i18n:function(t,e){return $.t(t,e)}}),n["default"].use(R.a),n["default"].use(V.a),Object(F["default"])(n["default"]),n["default"].config.productionTip=!1,n["default"].prototype.$config=j["a"],P(n["default"]),n["default"].directive("clickOutside",N["a"]),new n["default"]({el:"#app",router:d["a"],i18n:$,store:m["a"],render:function(t){return t(u)},mounted:function(){Object(H["b"])()}})},5882:function(t,e,a){},"5c48":function(t,e,a){},"5f04":function(t,e,a){},6308:function(t,e,a){"use strict";a.d(e,"a",(function(){return c})),a.d(e,"b",(function(){return f})),a.d(e,"c",(function(){return w})),a.d(e,"d",(function(){return C}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Menu",{ref:"linux",attrs:{mode:"horizontal",theme:"light","active-name":this.value}},[a("div",{staticClass:"layout-nav"},[a("MenuItem",{attrs:{name:"1",to:this.view}},[a("Icon",{attrs:{type:"ios-navigate"}}),t._v("\n      概览\n    ")],1),a("MenuItem",{attrs:{name:"2",to:this.io}},[a("Icon",{attrs:{type:"ios-keypad"}}),t._v("\n      磁盘IO\n    ")],1),a("MenuItem",{attrs:{name:"3",to:this.memory}},[a("Icon",{attrs:{type:"ios-analytics"}}),t._v("\n      内存&虚拟内存\n    ")],1)],1)])},s=[],r={name:"linux-menu",props:{value:String,tags:String},data:function(){return{view:"",io:"",memory:""}},methods:{init:function(){this.view="/linux/"+this.tags+"/view",this.io="/linux/"+this.tags+"/io",this.memory="/linux/"+this.tags+"/memory"}},mounted:function(){var t=this;this.$nextTick((function(){t.init()}))}},o=r,i=a("2877"),l=Object(i["a"])(o,n,s,!1,null,"5bd0d104",null),c=l.exports,u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Menu",{ref:"mysql",attrs:{mode:"horizontal",theme:"light","active-name":this.value}},[a("div",{staticClass:"layout-nav"},[a("MenuItem",{attrs:{name:"1",to:this.view}},[a("Icon",{attrs:{type:"ios-navigate"}}),t._v("\n        概览\n      ")],1),a("MenuItem",{attrs:{name:"2",to:this.myisam}},[a("Icon",{attrs:{type:"ios-analytics"}}),t._v("\n        MyISAM\n      ")],1),a("MenuItem",{attrs:{name:"3",to:this.innodb}},[a("Icon",{attrs:{type:"ios-pulse"}}),t._v("\n        Innodb\n      ")],1)],1)])},d=[],m={name:"redis-menu",props:{value:String,tags:String},data:function(){return{view:"",myisam:"",innodb:""}},methods:{init:function(){this.view="/mysql/"+this.tags+"/view",this.myisam="/mysql/"+this.tags+"/myisam",this.innodb="/mysql/"+this.tags+"/innodb"}},mounted:function(){var t=this;this.$nextTick((function(){t.init()}))}},h=m,p=Object(i["a"])(h,u,d,!1,null,"30c206da",null),f=p.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Menu",{ref:"redis",attrs:{mode:"horizontal",theme:"light","active-name":this.value}},[a("div",{staticClass:"layout-nav"},[a("MenuItem",{attrs:{name:"1",to:this.view}},[a("Icon",{attrs:{type:"ios-navigate"}}),t._v("\n        概览\n      ")],1),a("MenuItem",{attrs:{name:"4",to:this.config}},[a("Icon",{attrs:{type:"ios-settings-outline"}}),t._v("\n        配置查询\n      ")],1),a("MenuItem",{attrs:{name:"5",to:this.clientlist}},[a("Icon",{attrs:{type:"ios-contacts"}}),t._v("\n        连接信息\n      ")],1)],1)])},g=[],b={name:"redis-menu",props:{value:String,tags:String},data:function(){return{view:"",immediatestats:"",clientlist:"",config:""}},methods:{init:function(){this.view="/redis/"+this.tags+"/view",this.immediatestats="/redis/"+this.tags+"/immediate-stats",this.config="/redis/"+this.tags+"/config",this.clientlist="/redis/"+this.tags+"/clientlist"}},mounted:function(){var t=this;this.$nextTick((function(){t.init()}))}},y=b,v=Object(i["a"])(y,_,g,!1,null,"38fea05c",null),w=v.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Menu",{ref:"windows",attrs:{mode:"horizontal",theme:"light","active-name":this.value}},[a("div",{staticClass:"layout-nav"},[a("MenuItem",{attrs:{name:"1",to:this.view}},[a("Icon",{attrs:{type:"ios-navigate"}}),t._v("\n        概览\n      ")],1)],1)])},D=[],k={name:"windows-menu",props:{value:String,tags:String},data:function(){return{view:"",io:"",memory:""}},methods:{init:function(){this.view="/windows/"+this.tags+"/view"}},mounted:function(){var t=this;console.log("来到windows-menu!"),this.$nextTick((function(){t.init()}))}},O=k,S=Object(i["a"])(O,x,D,!1,null,"652a749b",null),C=S.exports},"63a3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("mysql-menu",{attrs:{value:"5",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Card",[a("Table",{attrs:{size:"small",columns:t.columns,data:t.data}}),a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_mysql_parameter}})],1)],1)],1)],1)},s=[],r=a("e401"),o=a("90de"),i=a("6308"),l={components:{MysqlMenu:i["b"]},data:function(){var t=this;return{Tags:"",columns:[{title:"执行时间",key:"start_time",width:140,sortable:!0,render:function(t,e){return t("div",Object(o["b"])(new Date(e.row.start_time),"yyyy-MM-dd hh:mm"))}},{title:"主机信息",key:"client_host",width:190},{title:"执行库",key:"db_name",width:100},{title:"SQL文本",key:"action",width:200,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(a.index)}}},"详情")])}},{title:"耗时",key:"query_time",width:100,sortable:!0},{title:"锁耗时",key:"lock_time",width:100,sortable:!0},{title:"扫描行数",key:"rows_examined",width:100,sortable:!0},{title:"发送行数",key:"rows_sent",width:100}],data:[],count:0,page_size:10,create:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null}},computed:{access:function(){return this.$store.state.user.access}},created:function(){var t=this;this.get_mysql_slowquery("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_mysql_slowquery("tags=".concat(t.$route.params.tags," "))}),2e4)},methods:{get_mysql_slowquery:function(t){var e=this;Object(r["a"])(t).then((function(t){e.data=t.data.results,e.count=t.data.count,console.log(e.data)})).catch((function(t){e.$Message.error("获取mysql慢查询解析错误 ".concat(t))}))},get_mysql_parameter:function(t){console.log(t),this.get_mysql_slowquery("tags=".concat(this.$route.params.tags,"&page=").concat(t))},show:function(t){this.$Modal.info({title:"SQL文本信息",content:"".concat(this.data[t].sql_text)})}},destroyed:function(){clearInterval(this.timer)}},c=l,u=(a("1045"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=d.exports},"63a4":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{staticClass:"info-card-wrapper",attrs:{shadow:t.shadow,padding:0}},[a("div",{staticClass:"content-con"},[a("div",{staticClass:"left-area",style:{background:t.color,width:t.leftWidth}},[a("common-icon",{staticClass:"icon",attrs:{type:t.icon,size:t.iconSize,color:"#fff"}})],1),a("div",{staticClass:"right-area",style:{width:t.rightWidth}},[a("div",[t._t("default")],2)])])])},s=[],r=(a("c5f6"),a("cb21")),o={name:"InforCard",components:{CommonIcon:r["a"]},props:{left:{type:Number,default:36},color:{type:String,default:"#2d8cf0"},icon:{type:String,default:""},iconSize:{type:Number,default:20},shadow:{type:Boolean,default:!1}},computed:{leftWidth:function(){return"".concat(this.left,"%")},rightWidth:function(){return"".concat(100-this.left,"%")}}},i=o,l=(a("a189"),a("2877")),c=Object(l["a"])(i,n,s,!1,null,null,null),u=c.exports;e["a"]=u},"63c0":function(t,e,a){"use strict";a("f634")},"66df":function(t,e,a){"use strict";a("ac6a"),a("456d");var n=a("d4ec"),s=a("bee2"),r=(a("6762"),a("2fdb"),a("bc3a")),o=a.n(r),i=a("4360"),l=a("c276"),c=function(t){var e=t.statusText,a=t.status,n=t.request.responseURL,s={type:"ajax",code:a,mes:e,url:n};n.includes("save_error_logger")||i["a"].dispatch("addErrorLog",s)},u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:baseURL;Object(n["a"])(this,t),this.baseUrl=e,this.queue={}}return Object(s["a"])(t,[{key:"getInsideConfig",value:function(){var t={baseURL:this.baseUrl,headers:{}};return Object(l["j"])()&&(t.headers["Authorization"]="token ".concat(Object(l["j"])())),t}},{key:"destroy",value:function(t){delete this.queue[t],Object.keys(this.queue).length}},{key:"interceptors",value:function(t,e){var a=this;t.interceptors.request.use((function(t){return Object.keys(a.queue).length,a.queue[e]=!0,t}),(function(t){return Promise.reject(t)})),t.interceptors.response.use((function(t){a.destroy(e);var n=t.data,s=t.status;return{data:n,status:s}}),(function(t){a.destroy(e);var n=t.response;if(!n){var s=JSON.parse(JSON.stringify(t)),r=s.request,o=r.statusText,i=r.status,l=s.config;n={statusText:o,status:i,request:{responseURL:l.url}}}return c(n),Promise.reject(t)}))}},{key:"request",value:function(t){var e=o.a.create();return t=Object.assign(this.getInsideConfig(),t),this.interceptors(e,t.url),e(t)}}]),t}(),d=u,m=a("f121"),h=m["a"].baseUrl.pro,p=new d(h);e["a"]=p},"670f":function(t,e,a){t.exports=a.p+"img/logo-zhuohao.b88888a7.png"},"678f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Row",[t.addAccessAll?a("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")]):t._e(),t._v(" \n      "),a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"ip地址"},model:{value:t.host_search,callback:function(e){t.host_search=e},expression:"host_search"}}),t._v(" \n      "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" \n      "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("Card",[a("br"),a("Row",[a("Table",{attrs:{border:"",columns:t.columns,data:t.data}})],1),a("Row",[a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_windows_parameter}})],1),a("Row",[a("Drawer",{attrs:{title:"Windows主机配置",width:"720","mask-closable":this.close,styles:t.styles},model:{value:t.create,callback:function(e){t.create=e},expression:"create"}},[a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleValidate}},[a("Alert",{attrs:{"show-icon":""}},[t._v("Windows主机配置")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"标签","label-position":"top",prop:"tags"}},[a("Input",{attrs:{placeholder:"自定义唯一标签"},model:{value:t.formData.tags,callback:function(e){t.$set(t.formData,"tags",e)},expression:"formData.tags"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"ip地址","label-position":"top",prop:"host"}},[a("Input",{attrs:{placeholder:"请填写ip地址"},model:{value:t.formData.host,callback:function(e){t.$set(t.formData,"host",e)},expression:"formData.host"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"主机名","label-position":"top",prop:"hostname"}},[a("Input",{attrs:{placeholder:"主机名"},model:{value:t.formData.hostname,callback:function(e){t.$set(t.formData,"hostname",e)},expression:"formData.hostname"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"Windows版本","label-position":"top",prop:"windows_version"}},[a("Select",{attrs:{placeholder:"请选择Windows版本"},model:{value:t.formData.windows_version,callback:function(e){t.$set(t.formData,"windows_version",e)},expression:"formData.windows_version"}},[a("Option",{attrs:{value:"Windows7"}},[t._v("Windows7")]),a("Option",{attrs:{value:"Windows8"}},[t._v("Windows8")]),a("Option",{attrs:{value:"Windows10"}},[t._v("Windows10")])],1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"内核版本","label-position":"top",prop:"windows_kernel"}},[a("Input",{attrs:{placeholder:"内核"},model:{value:t.formData.windows_kernel,callback:function(e){t.$set(t.formData,"windows_kernel",e)},expression:"formData.windows_kernel"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("操作系统配置")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"操作系统用户名","label-position":"top",prop:"user"}},[a("Input",{attrs:{placeholder:"操作系统用户名"},model:{value:t.formData.user,callback:function(e){t.$set(t.formData,"user",e)},expression:"formData.user"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"操作系统用户密码","label-position":"top",prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"操作系统用户密码"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"操作系统winrm端口号","label-position":"top",prop:"winrm_port"}},[a("InputNumber",{attrs:{placeholder:"操作系统winrm端口号"},model:{value:t.formData.winrm_port,callback:function(e){t.$set(t.formData,"winrm_port",e)},expression:"formData.winrm_port"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("机房信息")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"序列号","label-position":"top",prop:"serialno"}},[a("Input",{attrs:{placeholder:"序列号"},model:{value:t.formData.serialno,callback:function(e){t.$set(t.formData,"serialno",e)},expression:"formData.serialno"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"状态","label-position":"top",prop:"status"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("Option",{attrs:{value:"0"}},[t._v("在线")]),a("Option",{attrs:{value:"1"}},[t._v("备用")]),a("Option",{attrs:{value:"2"}},[t._v("下线")]),a("Option",{attrs:{value:"3"}},[t._v("待用")]),a("Option",{attrs:{value:"4"}},[t._v("维修")]),a("Option",{attrs:{value:"5"}},[t._v("重装")])],1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"机柜","label-position":"top",prop:"cabinet"}},[a("Input",{attrs:{placeholder:"机柜"},model:{value:t.formData.cabinet,callback:function(e){t.$set(t.formData,"cabinet",e)},expression:"formData.cabinet"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"服务器厂家","label-position":"top",prop:"factory"}},[a("Input",{attrs:{placeholder:"服务器厂家"},model:{value:t.formData.factory,callback:function(e){t.$set(t.formData,"factory",e)},expression:"formData.factory"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"采购日期","label-position":"top",prop:"purchase_date"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:"yyyymmdd",type:"date",placeholder:"选择日期"},model:{value:t.formData.purchase_date,callback:function(e){t.$set(t.formData,"purchase_date",e)},expression:"formData.purchase_date"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"保修开始日期","label-position":"top",prop:"beginprotection_date"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.formData.beginprotection_date,callback:function(e){t.$set(t.formData,"beginprotection_date",e)},expression:"formData.beginprotection_date"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"过保日期","label-position":"top",prop:"overprotection_date"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.formData.overprotection_date,callback:function(e){t.$set(t.formData,"overprotection_date",e)},expression:"formData.overprotection_date"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("服务器描述")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"业务系统","label-position":"top",prop:"bussiness_system"}},[a("Input",{attrs:{placeholder:"归属系统"},model:{value:t.formData.bussiness_system,callback:function(e){t.$set(t.formData,"bussiness_system",e)},expression:"formData.bussiness_system"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"系统等级","label-position":"top",prop:"db_version"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.system_level,callback:function(e){t.$set(t.formData,"system_level",e)},expression:"formData.system_level"}},[a("Option",{attrs:{value:"0"}},[t._v("核心系统")]),a("Option",{attrs:{value:"1"}},[t._v("重要系统")]),a("Option",{attrs:{value:"2"}},[t._v("一般系统")])],1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"服务器描述","label-position":"top",prop:"res_description"}},[a("Input",{attrs:{placeholder:"服务器描述"},model:{value:t.formData.res_description,callback:function(e){t.$set(t.formData,"res_description",e)},expression:"formData.res_description"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"主要部署软件","label-position":"top",prop:"main_software"}},[a("Input",{attrs:{placeholder:"主要部署软件"},model:{value:t.formData.main_software,callback:function(e){t.$set(t.formData,"main_software",e)},expression:"formData.main_software"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("告警配置")]),a("Row",{attrs:{gutter:32}},[a("div",[a("Form",{staticClass:"step-form",attrs:{"label-width":100}},[a("FormItem",{attrs:{label:"选择告警配置"}},[a("CheckboxGroup",[a("Checkbox",{attrs:{"true-value":"1","false-value":"0",label:"Windows主机通断告警"},model:{value:t.formData.alarm_connect,callback:function(e){t.$set(t.formData,"alarm_connect",e)},expression:"formData.alarm_connect"}}),a("Checkbox",{attrs:{"true-value":"1","false-value":"0",label:"cpu使用率告警"},model:{value:t.formData.alarm_cpu,callback:function(e){t.$set(t.formData,"alarm_cpu",e)},expression:"formData.alarm_cpu"}}),a("Checkbox",{attrs:{"true-value":"1","false-value":"0",label:"内存使用率告警"},model:{value:t.formData.alarm_mem,callback:function(e){t.$set(t.formData,"alarm_mem",e)},expression:"formData.alarm_mem"}})],1)],1)],1)],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showfooter,expression:"showfooter"}],staticClass:"demo-drawer-footer",staticStyle:{"z-index":"999"}},[a("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(e){t.create=!1}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("提交")])],1)],1)],1),a("Modal",{attrs:{width:"80",title:"Common Modal dialog box title"},on:{"on-ok":t.ok_webssh,"on-cancel":t.cancel_webssh},model:{value:t.webssh,callback:function(e){t.webssh=e},expression:"webssh"}},[a("p",[t._v("Content of dialog")]),a("p",[t._v("Content of dialog")]),a("p",[t._v("Content of dialog")]),a("p",[t._v("Content of dialog")]),a("p",[t._v("Content of dialog")]),a("p",[t._v("Content of dialog")]),a("p",[t._v("Content of dialog")]),a("p",[t._v("Content of dialog")]),a("p",[t._v("Content of dialog")])])],1)],1)},s=[],r=(a("ac6a"),a("ffc1"),a("7f7f"),a("fec1")),o=a("90de"),i=a("e069"),l={data:function(){var t=this;return{webssh:!1,columns:[{title:"标签",key:"tags",minWidth:100},{title:"IP地址",key:"host",minWidth:120},{title:"主机名",key:"hostname",minWidth:100},{title:"windows版本",key:"windows_version",minWidth:120},{title:"连接用户名",key:"user",minWidth:100},{title:"状态",key:"status",minWidth:100,render:function(t,e){var a={0:{color:"green",desc:"在线"},1:{color:"gray",desc:"备用"},2:{color:"gray",desc:"下线"},3:{color:"gray",desc:"待用"},4:{color:"gray",desc:"维修"},5:{color:"gray",desc:"重装"}},n=e.row.status;return t(i["Tag"],{props:{color:a[n]["color"]}},a[n]["desc"])}},{title:"业务系统",key:"bussiness_system",minWidth:120},{title:"系统等级",key:"system_level",minWidth:120,render:function(t,e){var a={0:{color:"red",desc:"核心系统"},1:{color:"orange",desc:"重要系统"},2:{color:"gray",desc:"一般系统"}},n=e.row.system_level;return t(i["Tag"],{props:{color:a[n]["color"]}},a[n]["desc"])}},{title:"操作",key:"action",minWidth:200,align:"center",render:function(e,a){return console.log("h的值为：",e),console.log("操作中的params的值是：",a),e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show=!0,t.view(a.index)}}},"详情"),e("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px",display:!0!==t.updateAccessAll?"none":"inline-block"},on:{click:function(){t.update(a.index)}}},"编辑"),e("Poptip",{props:{confirm:!0,title:"确定要删除吗！",transfer:!0},style:{marginRight:"5px",display:!0!==t.deleteAccessAll?"none":"inline-block"},on:{"on-ok":function(){t.remove(a.index,a.row.id,a.row.host)}}},[e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px",display:!0!==t.deleteAccessAll?"none":"inline-block"}},"删除")])])}}],data:[],count:0,page_size:10,host_search:"",create:!1,showfooter:!0,close:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null,formData:{tags:"",host:"",hostname:"",windows_version:"Windows7",windows_kernel:"",user:"",password:"",winrm_port:5985,serialno:"",status:"0",cabinet:"",factory:"",purchase_date:"",beginprotection_date:"",overprotection_date:"",bussiness_system:"",system_level:"0",res_description:"",main_software:"",alarm_connect:"",alarm_cpu:"",alarm_mem:""},ruleValidate:{tags:[{required:!0,message:"此项目必填",trigger:"blur"}],host:[{required:!0,message:"此项目必填",trigger:"blur"}],hostname:[{required:!0,message:"此项目必填",trigger:"blur"}],user:[{required:!0,message:"此项目必填",trigger:"blur"}],password:[{required:!0,message:"此项目必填",trigger:"blur"}]}}},created:function(){this.get_windows_list()},computed:{access:function(){return this.$store.state.user.access},addAccessAll:function(){return Object(o["e"])(["assets.add_windowslist"],this.access)},updateAccessAll:function(){return Object(o["e"])(["assets.change_windowslist"],this.access)},deleteAccessAll:function(){return Object(o["e"])(["assets.delete_windowslist"],this.access)}},methods:{ok_webssh:function(){this.$Message.info("确认操作")},cancel_webssh:function(){this.$Message.info("取消操作")},search:function(){console.log(this.host_search),this.get_windows_list("host=".concat(this.host_search))},clear_search:function(){this.host_search="",this.get_windows_list()},get_windows_list:function(t){var e=this;Object(r["p"])(t).then((function(t){console.log("查询的windows数据是：",t),e.data=t.data.results,e.count=t.data.count,console.log("getWindowsList",e.data)})).catch((function(t){e.$Message.error("获取windows资源信息错误 ".concat(t))}))},get_windows_parameter:function(t){console.log(t),this.get_windows_list("page=".concat(t))},view:function(t){this.update(t),this.showfooter=!1,this.close=!0},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){t?e.updateId?(console.log(e.updateId),Object(r["t"])(e.updateId,e.formData).then((function(t){console.log(t),e.$Message.success("更新windows配置成功!"),e.get_windows_list(),e.create=!1})).catch((function(t){console.log(t.response),e.$Message.error({content:"更新windows配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})}))):Object(r["d"])(e.formData).then((function(t){console.log(t),e.$Message.success("新增windows配置成功!"),e.get_windows_list(),e.create=!1})).catch((function(t){console.log(t.response.data),console.log(Object.entries(t.response.data)),e.$Message.error({content:"新增windows配置错误：".concat(Object.entries(t.response.data)),duration:10,closable:!0})})):e.$Message.error("错误!")}))},add:function(){this.create=!0,this.showfooter=!0,this.close=!1,this.updateId=null,this.formData.tags="",this.formData.host="",this.formData.hostname="",this.formData.windows_version="Windows7",this.formData.windows_kernel="",this.formData.user="",this.formData.password="",this.formData.winrm_port=5985,this.formData.serialno="",this.formData.status="0",this.formData.cabinet="",this.formData.factory="",this.formData.purchase_date="",this.formData.beginprotection_date="",this.formData.overprotection_date="",this.formData.bussiness_system="",this.formData.system_level="0",this.formData.res_description="",this.formData.main_software="",this.formData.alarm_connect="1",this.formData.alarm_cpu="1",this.formData.alarm_mem="1"},remove:function(t,e,a){var n=this;console.log("要删除的index，id，host：",t,e,a),Object(r["k"])(e).then((function(e){console.log("deleteWindows:",e),Object(r["l"])(a).then((function(t){console.log("deleteWindowsStat:",t)})),n.$Message.success("删除windows配置成功!"),n.data.splice(t,1)})).catch((function(t){console.log(t.response),n.$Message.error({content:"删除lwindows配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})}))},update:function(t){this.updateId=this.data[t].id,this.create=!0,this.showfooter=!0,this.close=!1,this.formData.tags=this.data[t].tags,this.formData.host=this.data[t].host,this.formData.hostname=this.data[t].hostname,this.formData.windows_version=this.data[t].windows_version,this.formData.windows_kernel=this.data[t].windows_kernel,this.formData.user=this.data[t].user,this.formData.password=this.data[t].password,this.formData.winrm_port=this.data[t].winrm_port,this.formData.serialno=this.data[t].serialno,this.formData.status=String(this.data[t].status),this.formData.cabinet=this.data[t].cabinet,this.formData.factory=this.data[t].factory,this.formData.purchase_date=this.data[t].purchase_date,this.formData.beginprotection_date=this.data[t].beginprotection_date,this.formData.overprotection_date=this.data[t].overprotection_date,this.formData.bussiness_system=this.data[t].bussiness_system,this.formData.system_level=String(this.data[t].system_level),this.formData.res_description=this.data[t].res_description,this.formData.main_software=this.data[t].main_software,this.formData.alarm_connect=String(this.data[t].alarm_connect),this.formData.alarm_cpu=String(this.data[t].alarm_cpu),this.formData.alarm_mem=String(this.data[t].alarm_mem)}}},c=l,u=(a("75d8"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"61a36ea8",null);e["default"]=d.exports},"6a90":function(t,e,a){"use strict";a("d299")},"6fa1":function(t,e,a){"use strict";a.d(e,"e",(function(){return s})),a.d(e,"c",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return l}));var n=a("66df"),s=function(t){return n["a"].request({url:"/linux/api/linux-stat-list?".concat(t),method:"get"})},r=function(t){return n["a"].request({url:"/linux/api/linux-stat?".concat(t),method:"get"})},o=function(t){return n["a"].request({url:"/linux/api/linux-stat-his?".concat(t),method:"get"})},i=function(t){return n["a"].request({url:"/linux/api/linux-disk?".concat(t),method:"get"})},l=function(t){return n["a"].request({url:"/linux/api/linux-io-stat-his?".concat(t),method:"get"})}},"70c3":function(t,e,a){t.exports=function(t){return function(){return a("0351")("./"+t+".vue")}}},7382:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("redis-menu",{attrs:{value:"7",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Card",[a("Row",[a("Select",{staticStyle:{width:"80px"},model:{value:t.logLevel,callback:function(e){t.logLevel=e},expression:"logLevel"}},[a("Option",{attrs:{value:"all"}},[t._v("全部")]),a("Option",{attrs:{value:"error"}},[t._v("严重")]),a("Option",{attrs:{value:"warn"}},[t._v("告警")]),a("Option",{attrs:{value:"info"}},[t._v("一般")])],1),a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"输入日志内容搜索"},model:{value:t.logContent,callback:function(e){t.logContent=e},expression:"logContent"}}),t._v(" \n\n      "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" \n      "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("br"),a("Table",{attrs:{size:"small",columns:t.columns,data:t.data}}),a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_redis_parameter}})],1)],1)],1)],1)},s=[],r=a("8593"),o=a("e069"),i=a("6308"),l={components:{RedisMenu:i["c"]},data:function(){return{Tags:"",show:!1,logContent:"",logLevel:"",columns:[{type:"index",width:60,align:"center"},{title:"日志时间",key:"log_time",width:200},{title:"日志级别",key:"log_level",width:110,render:function(t,e){var a=e.row.log_level;return"error"===a?t(o["Tag"],{props:{color:"error"}},"严重"):"warn"===a?t(o["Tag"],{props:{color:"warning"}},"告警"):t(o["Tag"],{props:{color:"success"}},"一般")}},{title:"日志内容",key:"log_content",width:550}],data:[],count:0,page_size:10,create:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null}},computed:{access:function(){return this.$store.state.user.access}},created:function(){var t=this;this.get_redis_alert_log("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_redis_alert_log("tags=".concat(t.$route.params.tags," "))}),2e4)},methods:{get_redis_alert_log:function(t){var e=this;Object(r["b"])(t).then((function(t){e.data=t.data.results,e.count=t.data.count,console.log(e.data)})).catch((function(t){e.$Message.error("获取redis日志信息错误 ".concat(t))}))},get_redis_parameter:function(t){console.log(t),this.get_redis_alert_log("tags=".concat(this.$route.params.tags,"&page=").concat(t))},search:function(){"all"===this.logLevel?this.get_redis_alert_log("tags=".concat(this.$route.params.tags,"&search=").concat(this.logContent," ")):this.get_redis_alert_log("tags=".concat(this.$route.params.tags,"&log_level=").concat(this.logLevel,"&search=").concat(this.logContent," "))},clear_search:function(){this.logLevel="all",this.logContent="",this.get_redis_alert_log("tags=".concat(this.$route.params.tags," "))}},destroyed:function(){clearInterval(this.timer)}},c=l,u=(a("f6ec"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=d.exports},"73aa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("linux-menu",{attrs:{value:"3",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Row",{attrs:{gutter:14}},[a("Card",[a("DatePicker",{staticStyle:{width:"250px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择时间范围"},on:{"on-change":t.handleDaterangechange}}),a("br"),a("chart-line4",{staticStyle:{height:"300px"},attrs:{title:t.chart1_title,data1:t.checktimeData,data2:t.memfreeData,data3:t.memcacheData,data4:t.memusedData,data5:t.membufferData}}),a("br"),a("chart-line2",{staticStyle:{height:"300px"},attrs:{title:t.chart2_title,data1:t.checktimeData,data2:t.swapfreeData,data3:t.swapusedData}}),a("br"),a("chart-line2",{staticStyle:{height:"300px"},attrs:{title:t.chart3_title,data1:t.checktimeData,data2:t.swapinData,data3:t.swapoutData}}),a("br")],1)],1)],1)],1)],1)},s=[],r=a("6308"),o=a("63a4"),i=a("6fa1"),l=a("c9ae"),c={name:"linux_view",components:{LinuxMenu:r["a"],InforCard:o["a"],SimpleChartPie:l["i"],ChartLine2:l["c"],ChartLine4:l["e"],ChartPie:l["g"]},data:function(){return{Tags:"",end:0,asynEndVal:487,integratedEndVal:3,data:[],linuxinfoList:[],linuxinfoData:[],checktimeData:[],membufferData:[],memcacheData:[],memfreeData:[],memusedData:[],swapusedData:[],swapfreeData:[],swapinData:[],swapoutData:[],pageinData:[],pageoutData:[],pagefaultData:[],pagemjfaultData:[],chart1_title:["内存","free(mb)","cache(mb)","used(mb)","buffer(mb)"],chart2_title:["SWAP使用量","swap free(mb)","swap used(mb)"],chart3_title:["SWAP页面数","swap in","swap out"],daterangeValue:null,startTime:"",endTime:""}},created:function(){var t=this;this.get_linux_stat_his("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_linux_stat_his("tags=".concat(t.$route.params.tags," "))}),12e4)},methods:{init:function(){},get_linux_stat_his:function(t){var e=this;Object(i["d"])(t).then((function(t){e.linuxinfoList=t.data.results,e.checktimeData=e.linuxinfoList.map((function(t){return t.check_time})),e.membufferData=e.linuxinfoList.map((function(t){return t.mem_buffer})),e.memcacheData=e.linuxinfoList.map((function(t){return t.mem_cache})),e.memfreeData=e.linuxinfoList.map((function(t){return t.mem_free})),e.memusedData=e.linuxinfoList.map((function(t){return t.mem_used})),e.swapusedData=e.linuxinfoList.map((function(t){return t.swap_used})),e.swapfreeData=e.linuxinfoList.map((function(t){return t.swap_free})),e.swapinData=e.linuxinfoList.map((function(t){return t.swapin})),e.swapoutData=e.linuxinfoList.map((function(t){return t.swapout})),console.log(e.linuxinfo)})).catch((function(t){e.$Message.error("获取linux资源信息错误 ".concat(t))}))},handleDaterangechange:function(t){this.daterangeValue=t,this.startTime=t[0],this.endTime=t[1],this.get_linux_stat_his("tags=".concat(this.$route.params.tags,"&start_time=").concat(this.startTime,"&end_time=").concat(this.endTime))}},mounted:function(){this.init()},destroyed:function(){clearInterval(this.timer)}},u=c,d=(a("4738"),a("2877")),m=Object(d["a"])(u,n,s,!1,null,null,null);e["default"]=m.exports},"73e3":function(t,e,a){"use strict";a("ea2c")},"75d8":function(t,e,a){"use strict";a("ed93")},"7a3c":function(t,e,a){},"7c55":function(t,e,a){"use strict";a("5c48")},"7e1e":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return r}));var n=a("66df"),s=function(t){return n["a"].request({url:"save_error_logger",data:t,method:"post"})},r=function(){return n["a"].request({url:"system/menu",method:"post"})}},8593:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"g",(function(){return o})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return l})),a.d(e,"f",(function(){return c})),a.d(e,"e",(function(){return u}));var n=a("66df"),s=function(t){return n["a"].request({url:"/system/api/alert-log?".concat(t),method:"get"})},r=function(t){return n["a"].request({url:"/system/api/alarm-conf?".concat(t),method:"get"})},o=function(t,e){return n["a"].request({url:"/system/api/alarm-conf/".concat(t),data:e,method:"PUT"})},i=function(t){return n["a"].request({url:"/system/api/export-alarm-info?".concat(t),method:"get"})},l=function(t){return n["a"].request({url:"/system/api/excel-alarm-info?".concat(t),method:"get"})},c=function(t){return n["a"].request({url:"/system/api/mysql-setup",data:t,method:"post"})},u=function(t){return n["a"].request({url:"/system/api/setup-log?".concat(t),method:"get"})}},8675:function(t,e,a){},"88b2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("error-content",{attrs:{code:"500",desc:"Oh~~鬼知道服务器经历了什么~",src:t.src}})},s=[],r=a("4740"),o=a.n(r),i=a("9454"),l={name:"error_500",components:{errorContent:i["default"]},data:function(){return{src:o.a}}},c=l,u=a("2877"),d=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=d.exports},8913:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("mysql-menu",{attrs:{value:"4",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Card",[a("Row",[a("Select",{staticStyle:{width:"80px"},model:{value:t.logLevel,callback:function(e){t.logLevel=e},expression:"logLevel"}},[a("Option",{attrs:{value:"all"}},[t._v("全部")]),a("Option",{attrs:{value:"error"}},[t._v("严重")]),a("Option",{attrs:{value:"warn"}},[t._v("告警")]),a("Option",{attrs:{value:"info"}},[t._v("一般")])],1),a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"输入日志内容搜索"},model:{value:t.logContent,callback:function(e){t.logContent=e},expression:"logContent"}}),t._v(" \n\n      "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" \n      "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("br"),a("Table",{attrs:{size:"small",columns:t.columns,data:t.data}}),a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_mysql_parameter}})],1)],1)],1)],1)},s=[],r=a("8593"),o=a("e069"),i=a("6308"),l={components:{MysqlMenu:i["b"]},data:function(){return{Tags:"",show:!1,logContent:"",logLevel:"",columns:[{type:"index",width:60,align:"center"},{title:"日志时间",key:"log_time",width:200},{title:"日志级别",key:"log_level",width:110,render:function(t,e){var a=e.row.log_level;return"error"===a?t(o["Tag"],{props:{color:"error"}},"严重"):"warn"===a?t(o["Tag"],{props:{color:"warning"}},"告警"):t(o["Tag"],{props:{color:"success"}},"一般")}},{title:"日志内容",key:"log_content",width:550}],data:[],count:0,page_size:10,create:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null}},computed:{access:function(){return this.$store.state.user.access}},created:function(){var t=this;this.get_mysql_alert_log("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_mysql_alert_log("tags=".concat(t.$route.params.tags," "))}),2e4)},methods:{get_mysql_alert_log:function(t){var e=this;Object(r["b"])(t).then((function(t){e.data=t.data.results,e.count=t.data.count,console.log(e.data)})).catch((function(t){e.$Message.error("获取mysql日志信息错误 ".concat(t))}))},get_mysql_parameter:function(t){console.log(t),this.get_mysql_alert_log("tags=".concat(this.$route.params.tags,"&page=").concat(t))},search:function(){"all"===this.logLevel?this.get_mysql_alert_log("tags=".concat(this.$route.params.tags,"&search=").concat(this.logContent," ")):this.get_mysql_alert_log("tags=".concat(this.$route.params.tags,"&log_level=").concat(this.logLevel,"&search=").concat(this.logContent," "))},clear_search:function(){this.logLevel="all",this.logContent="",this.get_mysql_alert_log("tags=".concat(this.$route.params.tags," "))}},destroyed:function(){clearInterval(this.timer)}},c=l,u=(a("1cd1"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=d.exports},"8a5c":function(t,e,a){},"8c13":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Row",[a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"ip地址"},model:{value:t.host_search,callback:function(e){t.host_search=e},expression:"host_search"}}),t._v(" \n    "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" \n    "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("Card",[a("br"),a("Row",[a("Table",{attrs:{size:"small",border:"",columns:t.columns,data:t.data}})],1),a("Row",[a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_windows_parameter}})],1)],1)],1)},s=[],r=a("946a"),o=a("90de"),i=a("e069"),l={data:function(){var t=this;return{show:!1,columns:[{type:"index",minWidth:80,align:"center"},{title:"标签",minWidth:80,sortable:!0,render:function(e,a){var n=a.row.tags;return e("a",{on:{click:function(){t.gotoWindows(n)}}},n)}},{title:"IP地址",key:"host",minWidth:120,sortable:!0},{title:"主机名",key:"hostname",minWidth:130},{title:"运行天数",key:"updays",minWidth:120},{title:"虚拟内存使用率",key:"virtual_mem_used_rate",minWidth:130,render:function(t,e){var a=e.row.virtual_mem_used_rate;return a>=90?t(i["Tag"],{props:{color:"error"}},a+"%"):a>=80?t(i["Tag"],{props:{color:"warning"}},a+"%"):null===a?null:t(i["Tag"],{props:{color:"success"}},a+"%")}},{title:"CPU使用率",key:"cpu_used_rate",minWidth:100,render:function(t,e){var a=e.row.cpu_used_rate;return a>=90?t(i["Tag"],{props:{color:"error"}},a+"%"):a>=80?t(i["Tag"],{props:{color:"warning"}},a+"%"):null===a?null:t(i["Tag"],{props:{color:"success"}},a+"%")}},{title:"内存使用率",key:"physical_mem_used_rate",minWidth:100,render:function(t,e){var a=e.row.physical_mem_used_rate;return a>=90?t(i["Tag"],{props:{color:"error"}},a+"%"):a>=80?t(i["Tag"],{props:{color:"warning"}},a+"%"):null===a?null:t(i["Tag"],{props:{color:"success"}},a+"%")}},{title:"采集时间",key:"check_time",minWidth:200,render:function(t,e){return console.log("h的值：",t),console.log("params的值是：",e),t("div",Object(o["b"])(new Date(e.row.check_time),"yyyy-MM-dd hh:mm"))}},{title:"状态",key:"status",minWidth:100,render:function(t,e){var a={0:{color:"green",desc:"正常"},1:{color:"red",desc:"失败"}},n=e.row.status;return t(i["Tag"],{props:{color:a[n]["color"]}},a[n]["desc"])}}],data:[],count:0,page_size:10,host_search:"",create:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null}},computed:{access:function(){return this.$store.state.user.access}},created:function(){this.get_windows_stat_list()},methods:{gotoWindows:function(t){var e="/windows/"+t+"/view";this.$router.push({path:e})},search:function(){console.log(this.host_search),this.get_windows_stat_list("host=".concat(this.host_search))},clear_search:function(){this.host_search="",this.get_windows_stat_list()},get_windows_stat_list:function(t){var e=this;Object(r["d"])(t).then((function(t){e.data=t.data.results,e.count=t.data.count,console.log("获取到的windows列表",e.data)})).catch((function(t){e.$Message.error("获取windows资源信息错误 ".concat(t))}))},get_windows_parameter:function(t){console.log(t),this.get_windows_stat_list("page=".concat(t))}}},c=l,u=(a("73e3"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"eb752922",null);e["default"]=d.exports},"8c22":function(t,e,a){},"8df5":function(t,e,a){},"8e68":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Row",[t.addAccessAll?a("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")]):t._e(),t._v(" \n      "),a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"ip地址"},model:{value:t.host_search,callback:function(e){t.host_search=e},expression:"host_search"}}),t._v(" \n      "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" \n      "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("Card",[a("br"),a("Row",[a("Table",{attrs:{border:"",columns:t.columns,data:t.data}})],1),a("Row",[a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_linux_parameter}})],1),a("Row",[a("Drawer",{attrs:{title:"Linux主机配置",width:"720","mask-closable":this.close,styles:t.styles},model:{value:t.create,callback:function(e){t.create=e},expression:"create"}},[a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleValidate}},[a("Alert",{attrs:{"show-icon":""}},[t._v("Linux主机配置")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"标签","label-position":"top",prop:"tags"}},[a("Input",{attrs:{placeholder:"自定义唯一标签"},model:{value:t.formData.tags,callback:function(e){t.$set(t.formData,"tags",e)},expression:"formData.tags"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"ip地址","label-position":"top",prop:"host"}},[a("Input",{attrs:{placeholder:"请填写ip地址"},model:{value:t.formData.host,callback:function(e){t.$set(t.formData,"host",e)},expression:"formData.host"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"主机名","label-position":"top",prop:"hostname"}},[a("Input",{attrs:{placeholder:"主机名"},model:{value:t.formData.hostname,callback:function(e){t.$set(t.formData,"hostname",e)},expression:"formData.hostname"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"Linux版本","label-position":"top",prop:"db_version"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.linux_version,callback:function(e){t.$set(t.formData,"linux_version",e)},expression:"formData.linux_version"}},[a("Option",{attrs:{value:"Linux6"}},[t._v("Linux6")]),a("Option",{attrs:{value:"Linux7"}},[t._v("Linux7")])],1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"内核版本","label-position":"top",prop:"db_version"}},[a("Input",{attrs:{placeholder:"内核"},model:{value:t.formData.linux_kernel,callback:function(e){t.$set(t.formData,"linux_kernel",e)},expression:"formData.linux_kernel"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("操作系统配置")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"操作系统用户名","label-position":"top",prop:"user"}},[a("Input",{attrs:{placeholder:"操作系统用户名"},model:{value:t.formData.user,callback:function(e){t.$set(t.formData,"user",e)},expression:"formData.user"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"操作系统用户密码","label-position":"top",prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"操作系统用户密码"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"操作系统ssh端口号","label-position":"top",prop:"sshport"}},[a("InputNumber",{attrs:{placeholder:"操作系统ssh端口号"},model:{value:t.formData.sshport,callback:function(e){t.$set(t.formData,"sshport",e)},expression:"formData.sshport"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("机房信息")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"序列号","label-position":"top",prop:"serialno"}},[a("Input",{attrs:{placeholder:"序列号"},model:{value:t.formData.serialno,callback:function(e){t.$set(t.formData,"serialno",e)},expression:"formData.serialno"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"状态","label-position":"top",prop:"status"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("Option",{attrs:{value:"0"}},[t._v("在线")]),a("Option",{attrs:{value:"1"}},[t._v("备用")]),a("Option",{attrs:{value:"2"}},[t._v("下线")]),a("Option",{attrs:{value:"3"}},[t._v("待用")]),a("Option",{attrs:{value:"4"}},[t._v("维修")]),a("Option",{attrs:{value:"5"}},[t._v("重装")])],1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"机柜","label-position":"top",prop:"cabinet"}},[a("Input",{attrs:{placeholder:"机柜"},model:{value:t.formData.cabinet,callback:function(e){t.$set(t.formData,"cabinet",e)},expression:"formData.cabinet"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"服务器厂家","label-position":"top",prop:"factory"}},[a("Input",{attrs:{placeholder:"服务器厂家"},model:{value:t.formData.factory,callback:function(e){t.$set(t.formData,"factory",e)},expression:"formData.factory"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"采购日期","label-position":"top",prop:"purchase_date"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:"yyyymmdd",type:"date",placeholder:"选择日期"},model:{value:t.formData.purchase_date,callback:function(e){t.$set(t.formData,"purchase_date",e)},expression:"formData.purchase_date"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"保修开始日期","label-position":"top",prop:"beginprotection_date"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.formData.beginprotection_date,callback:function(e){t.$set(t.formData,"beginprotection_date",e)},expression:"formData.beginprotection_date"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"过保日期","label-position":"top",prop:"overprotection_date"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.formData.overprotection_date,callback:function(e){t.$set(t.formData,"overprotection_date",e)},expression:"formData.overprotection_date"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("服务器描述")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"业务系统","label-position":"top",prop:"bussiness_system"}},[a("Input",{attrs:{placeholder:"归属系统"},model:{value:t.formData.bussiness_system,callback:function(e){t.$set(t.formData,"bussiness_system",e)},expression:"formData.bussiness_system"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"系统等级","label-position":"top",prop:"db_version"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.system_level,callback:function(e){t.$set(t.formData,"system_level",e)},expression:"formData.system_level"}},[a("Option",{attrs:{value:"0"}},[t._v("核心系统")]),a("Option",{attrs:{value:"1"}},[t._v("重要系统")]),a("Option",{attrs:{value:"2"}},[t._v("一般系统")])],1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"服务器描述","label-position":"top",prop:"res_description"}},[a("Input",{attrs:{placeholder:"服务器描述"},model:{value:t.formData.res_description,callback:function(e){t.$set(t.formData,"res_description",e)},expression:"formData.res_description"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"主要部署软件","label-position":"top",prop:"main_software"}},[a("Input",{attrs:{placeholder:"主要部署软件"},model:{value:t.formData.main_software,callback:function(e){t.$set(t.formData,"main_software",e)},expression:"formData.main_software"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("告警配置")]),a("Row",{attrs:{gutter:32}},[a("div",[a("Form",{staticClass:"step-form",attrs:{"label-width":100}},[a("FormItem",{attrs:{label:"选择告警配置"}},[a("CheckboxGroup",[a("Checkbox",{attrs:{"true-value":"1","false-value":"0",label:"Linux主机通断告警"},model:{value:t.formData.alarm_connect,callback:function(e){t.$set(t.formData,"alarm_connect",e)},expression:"formData.alarm_connect"}}),a("Checkbox",{attrs:{"true-value":"1","false-value":"0",label:"cpu使用率告警"},model:{value:t.formData.alarm_cpu,callback:function(e){t.$set(t.formData,"alarm_cpu",e)},expression:"formData.alarm_cpu"}}),a("Checkbox",{attrs:{"true-value":"1","false-value":"0",label:"内存使用率告警"},model:{value:t.formData.alarm_mem,callback:function(e){t.$set(t.formData,"alarm_mem",e)},expression:"formData.alarm_mem"}}),a("Checkbox",{attrs:{"true-value":"1","false-value":"0",label:"磁盘使用率告警"},model:{value:t.formData.alarm_disk,callback:function(e){t.$set(t.formData,"alarm_disk",e)},expression:"formData.alarm_disk"}})],1)],1)],1)],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showfooter,expression:"showfooter"}],staticClass:"demo-drawer-footer",staticStyle:{"z-index":"999"}},[a("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(e){t.create=!1}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("提交")])],1)],1)],1),a("Modal",{attrs:{width:"80",title:"Common Modal dialog box title"},on:{"on-ok":t.ok_webssh,"on-cancel":t.cancel_webssh},model:{value:t.webssh,callback:function(e){t.webssh=e},expression:"webssh"}})],1)],1)},s=[],r=(a("ac6a"),a("ffc1"),a("7f7f"),a("fec1")),o=a("90de"),i=a("e069"),l={data:function(){var t=this;return{webssh:!1,columns:[{title:"标签",key:"tags",minWidth:100},{title:"IP地址",key:"host",minWidth:120},{title:"主机名",key:"hostname",minWidth:100},{title:"linux版本",key:"linux_version",minWidth:100},{title:"连接用户名",key:"user",minWidth:100},{title:"状态",key:"status",minWidth:100,render:function(t,e){var a={0:{color:"green",desc:"在线"},1:{color:"gray",desc:"备用"},2:{color:"gray",desc:"下线"},3:{color:"gray",desc:"待用"},4:{color:"gray",desc:"维修"},5:{color:"gray",desc:"重装"}},n=e.row.status;return t(i["Tag"],{props:{color:a[n]["color"]}},a[n]["desc"])}},{title:"业务系统",key:"bussiness_system",minWidth:120},{title:"系统等级",key:"system_level",minWidth:120,render:function(t,e){var a={0:{color:"red",desc:"核心系统"},1:{color:"orange",desc:"重要系统"},2:{color:"gray",desc:"一般系统"}},n=e.row.system_level;return t(i["Tag"],{props:{color:a[n]["color"]}},a[n]["desc"])}},{title:"操作",key:"action",minWidth:200,align:"center",render:function(e,a){return console.log("操作中的params的值是：",a),e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show=!0,t.view(a.index)}}},"详情"),e("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px",display:!0!==t.updateAccessAll?"none":"inline-block"},on:{click:function(){t.update(a.index)}}},"编辑"),e("Poptip",{props:{confirm:!0,title:"确定要删除吗！",transfer:!0},style:{marginRight:"5px",display:!0!==t.deleteAccessAll?"none":"inline-block"},on:{"on-ok":function(){t.remove(a.index,a.row.id,a.row.host)}}},[e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px",display:!0!==t.deleteAccessAll?"none":"inline-block"}},"删除")])])}}],data:[],count:0,page_size:10,host_search:"",create:!1,showfooter:!0,close:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null,formData:{tags:"",host:"",hostname:"",linux_version:"Linux6",user:"",password:"",sshport:22,serialno:"",status:"0",cabinet:"",factory:"",purchase_date:"",beginprotection_date:"",overprotection_date:"",bussiness_system:"",system_level:"0",res_description:"",main_software:"",alarm_connect:"",alarm_cpu:"",alarm_mem:"",alarm_swap:"",alarm_disk:"",alarm_alert_log:""},ruleValidate:{tags:[{required:!0,message:"此项目必填",trigger:"blur"}],host:[{required:!0,message:"此项目必填",trigger:"blur"}],hostname:[{required:!0,message:"此项目必填",trigger:"blur"}],user:[{required:!0,message:"此项目必填",trigger:"blur"}],password:[{required:!0,message:"此项目必填",trigger:"blur"}]}}},created:function(){this.get_linux_list()},computed:{access:function(){return this.$store.state.user.access},addAccessAll:function(){return Object(o["e"])(["assets.add_linuxlist"],this.access)},updateAccessAll:function(){return Object(o["e"])(["assets.change_linuxlist"],this.access)},deleteAccessAll:function(){return Object(o["e"])(["assets.delete_linuxlist"],this.access)}},methods:{ok_webssh:function(){this.$Message.info("确认操作")},cancel_webssh:function(){this.$Message.info("取消操作")},search:function(){console.log(this.host_search),this.get_linux_list("host=".concat(this.host_search))},clear_search:function(){this.host_search="",this.get_linux_list()},get_linux_list:function(t){var e=this;Object(r["m"])(t).then((function(t){console.log("查询的linux数据是：",t),e.data=t.data.results,e.count=t.data.count,console.log("get_linux_list",e.data)})).catch((function(t){e.$Message.error("获取linux资源信息错误 ".concat(t))}))},get_linux_parameter:function(t){console.log(t),this.get_linux_list("page=".concat(t))},view:function(t){this.update(t),this.showfooter=!1,this.close=!0},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){console.log(),t?e.updateId?(console.log(e.updateId),Object(r["q"])(e.updateId,e.formData).then((function(t){console.log(t),e.$Message.success("更新linux配置成功!"),e.get_linux_list(),e.create=!1})).catch((function(t){console.log(t.response),e.$Message.error({content:"更新linux配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})}))):Object(r["a"])(e.formData).then((function(t){console.log(t),e.$Message.success("新增linux配置成功!"),e.get_linux_list(),e.create=!1})).catch((function(t){console.log(t.response),e.$Message.error({content:"新增linux配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})})):e.$Message.error("错误!")}))},add:function(){this.create=!0,this.showfooter=!0,this.close=!1,this.updateId=null,this.formData.tags="",this.formData.host="",this.formData.hostname="",this.formData.db_version="Linux6",this.formData.linux_kernel="",this.formData.user="",this.formData.password="",this.formData.sshport=22,this.formData.serialno="",this.formData.status="0",this.formData.cabinet="",this.formData.factory="",this.formData.purchase_date="",this.formData.beginprotection_date="",this.formData.overprotection_date="",this.formData.bussiness_system="",this.formData.system_level="0",this.formData.res_description="",this.formData.main_software="",this.formData.alarm_connect="1",this.formData.alarm_cpu="1",this.formData.alarm_mem="1",this.formData.alarm_disk="1",this.formData.alarm_swap="0",this.formData.alarm_alert_log="0"},remove:function(t,e,a){var n=this;console.log("要删除的index，id，host：",t,e,a),Object(r["e"])(e).then((function(e){console.log("deleteLinux:",e),Object(r["f"])(a).then((function(t){console.log("deleteLinuxStat:",t)})),n.$Message.success("删除linux配置成功!"),n.data.splice(t,1)})).catch((function(t){console.log(t.response),n.$Message.error({content:"删除linux配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})}))},update:function(t){this.updateId=this.data[t].id,this.create=!0,this.showfooter=!0,this.close=!1,this.formData.tags=this.data[t].tags,this.formData.host=this.data[t].host,this.formData.hostname=this.data[t].hostname,this.formData.linux_version=this.data[t].linux_version,this.formData.linux_kernel=this.data[t].linux_kernel,this.formData.user=this.data[t].user,this.formData.password=this.data[t].password,this.formData.sshport=this.data[t].sshport,this.formData.serialno=this.data[t].serialno,this.formData.status=String(this.data[t].status),this.formData.cabinet=this.data[t].cabinet,this.formData.factory=this.data[t].factory,this.formData.purchase_date=this.data[t].purchase_date,this.formData.beginprotection_date=this.data[t].beginprotection_date,this.formData.overprotection_date=this.data[t].overprotection_date,this.formData.bussiness_system=this.data[t].bussiness_system,this.formData.system_level=String(this.data[t].system_level),this.formData.res_description=this.data[t].res_description,this.formData.main_software=this.data[t].main_software,this.formData.alarm_connect=String(this.data[t].alarm_connect),this.formData.alarm_cpu=String(this.data[t].alarm_cpu),this.formData.alarm_mem=String(this.data[t].alarm_mem),this.formData.alarm_swap=String(this.data[t].alarm_swap),this.formData.alarm_disk=String(this.data[t].alarm_disk),this.formData.alarm_alert_log=String(this.data[t].alarm_alert_log)}}},c=l,u=(a("e0d7"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,"1b386ce3",null);e["default"]=d.exports},"8e9a":function(t){t.exports=JSON.parse('{"color":["#2d8cf0","#19be6b","#ff9900","#E46CBB","#9A66E4","#ed3f14"],"backgroundColor":"rgba(0,0,0,0)","textStyle":{},"title":{"textStyle":{"color":"#516b91"},"subtextStyle":{"color":"#93b7e3"}},"line":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"radar":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"bar":{"itemStyle":{"normal":{"barBorderWidth":0,"barBorderColor":"#ccc"},"emphasis":{"barBorderWidth":0,"barBorderColor":"#ccc"}}},"pie":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"scatter":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"boxplot":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"parallel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"sankey":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"funnel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"gauge":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"candlestick":{"itemStyle":{"normal":{"color":"#edafda","color0":"transparent","borderColor":"#d680bc","borderColor0":"#8fd3e8","borderWidth":"2"}}},"graph":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"}},"lineStyle":{"normal":{"width":1,"color":"#aaa"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true,"color":["#2d8cf0","#19be6b","#f5ae4a","#9189d5","#56cae2","#cbb0e3"],"label":{"normal":{"textStyle":{"color":"#eee"}}}},"map":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"geo":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"categoryAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"#333"}},"axisLabel":{"show":true,"textStyle":{"color":"#999999"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"valueAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"#333"}},"axisLabel":{"show":true,"textStyle":{"color":"#999999"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"logAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"#333"}},"axisLabel":{"show":true,"textStyle":{"color":"#999999"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"timeAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"#333"}},"axisLabel":{"show":true,"textStyle":{"color":"#999999"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"toolbox":{"iconStyle":{"normal":{"borderColor":"#999"},"emphasis":{"borderColor":"#666"}}},"legend":{"textStyle":{"color":"#999999"}},"tooltip":{"axisPointer":{"lineStyle":{"color":"#ccc","width":1},"crossStyle":{"color":"#ccc","width":1}}},"timeline":{"lineStyle":{"color":"#8fd3e8","width":1},"itemStyle":{"normal":{"color":"#8fd3e8","borderWidth":1},"emphasis":{"color":"#8fd3e8"}},"controlStyle":{"normal":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5},"emphasis":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5}},"checkpointStyle":{"color":"#8fd3e8","borderColor":"rgba(138,124,168,0.37)"},"label":{"normal":{"textStyle":{"color":"#8fd3e8"}},"emphasis":{"textStyle":{"color":"#8fd3e8"}}}},"visualMap":{"color":["#516b91","#59c4e6","#a5e7f0"]},"dataZoom":{"backgroundColor":"rgba(0,0,0,0)","dataBackgroundColor":"rgba(255,255,255,0.3)","fillerColor":"rgba(167,183,204,0.4)","handleColor":"#a7b7cc","handleSize":"100%","textStyle":{"color":"#333"}},"markPoint":{"label":{"normal":{"textStyle":{"color":"#eee"}},"emphasis":{"textStyle":{"color":"#eee"}}}}}')},"8f04":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("h2",[t._v("ID: "+t._s(t.$route.query.id))]),a("Button",{on:{click:t.close}},[t._v("调用closeTag方法关闭本页")])],1)],1)},s=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=a("2f62");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={name:"query",methods:l(l({},Object(o["d"])(["closeTag"])),{},{close:function(){this.closeTag({name:"query",query:{id:this.$route.query.id}})}})},u=c,d=a("2877"),m=Object(d["a"])(u,n,s,!1,null,null,null);e["default"]=m.exports},"90de":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return o})),a.d(e,"c",(function(){return l})),a.d(e,"i",(function(){return c})),a.d(e,"h",(function(){return u})),a.d(e,"g",(function(){return d})),a.d(e,"f",(function(){return m})),a.d(e,"b",(function(){return h})),a.d(e,"j",(function(){return p}));a("3b2b"),a("a481"),a("456d"),a("c5f6");var n=a("2909"),s=(a("ac6a"),a("4f7f"),a("5df3"),a("1c4c"),function(t,e){if(t.length&&e){var a=-1,n=t.length;while(++a<n){var s=t[a];e(s,a,t)}}}),r=function(t,e){return Array.from(new Set([].concat(Object(n["a"])(t),Object(n["a"])(e))))},o=function(t,e){return t.some((function(t){return e.indexOf(t)>-1}))};var i=function(t){return t<10?"0"+t:t},l=function(t,e){var a=new Date(1e3*t),n=a.getFullYear(),s=i(a.getMonth()+1),r=i(a.getDate()),o=i(a.getHours()),l=i(a.getMinutes()),c=i(a.getSeconds()),u="";return u="year"===e?n+"-"+s+"-"+r+" "+o+":"+l+":"+c:s+"-"+r+" "+o+":"+l,u},c=function(){return document.addEventListener?function(t,e,a){t&&e&&a&&t.addEventListener(e,a,!1)}:function(t,e,a){t&&e&&a&&t.attachEvent("on"+e,a)}}(),u=function(){return document.removeEventListener?function(t,e,a){t&&e&&t.removeEventListener(e,a,!1)}:function(t,e,a){t&&e&&t.detachEvent("on"+e,a)}}(),d=function(t,e){var a=Object.keys(t),n=Object.keys(e);return a.length===n.length&&(0===a.length&&0===n.length||!a.some((function(a){return t[a]!=e[a]})))},m=function(t){return a("4993")("./"+t+".vue").default};function h(t,e){var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return e}function p(t){for(var e=[],a="",n=0,s=0,r=0,o=0;o<t.length;o++)a=t[o],0===a.status&&n++,1===a.status&&s++,2===a.status&&r++;return e=[n,s,r],e}},9216:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("redis-menu",{attrs:{value:"6",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Row",{attrs:{gutter:14}},[a("Card",[a("DatePicker",{staticStyle:{width:"250px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择时间范围"},on:{"on-change":t.handleDaterangechange}}),a("br"),a("chart-line1",{staticStyle:{height:"300px"},attrs:{title:t.chart1_title,data1:t.checktimeData,data2:t.cmdstat_brpopData}}),a("br"),a("chart-line1",{staticStyle:{height:"300px"},attrs:{title:t.chart2_title,data1:t.checktimeData,data2:t.cmdstat_publishData}}),a("br"),a("chart-line1",{staticStyle:{height:"300px"},attrs:{title:t.chart3_title,data1:t.checktimeData,data2:t.cmdstat_setnxData}}),a("br"),a("chart-line1",{staticStyle:{height:"300px"},attrs:{title:t.chart4_title,data1:t.checktimeData,data2:t.cmdstat_execData}}),a("br"),a("chart-line1",{staticStyle:{height:"300px"},attrs:{title:t.chart5_title,data1:t.checktimeData,data2:t.cmdstat_multiData}})],1)],1)],1)],1)],1)},s=[],r=a("6308"),o=a("63a4"),i=a("3334"),l=a("c9ae"),c={name:"redis_view",components:{RedisMenu:r["c"],InforCard:o["a"],ChartLine1:l["b"]},data:function(){return{Tags:"",end:0,asynEndVal:487,integratedEndVal:3,data:[],redisinfoList:[],redisinfoData:[],checktimeData:[],cmdstat_brpopData:[],cmdstat_publishData:[],cmdstat_setnxData:[],cmdstat_execData:[],cmdstat_multiData:[],chart1_title:["命令：brpop","brpop"],chart2_title:["命令：publish","publish"],chart3_title:["命令：setnx","setnx"],chart4_title:["命令：exec","exec"],chart5_title:["命令：multi","multi"],daterangeValue:null,startTime:"",endTime:""}},created:function(){var t=this;this.get_redis_commandstats("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_redis_commandstats("tags=".concat(t.$route.params.tags," "))}),2e4)},methods:{init:function(){},get_redis_commandstats:function(t){var e=this;Object(i["f"])(t).then((function(t){var a=t.data.results;e.checktimeData=a.map((function(t){return t.check_time})),e.cmdstat_brpopData=a.map((function(t){return t.cmdstat_brpop})),e.cmdstat_publishData=a.map((function(t){return t.cmdstat_publish})),e.cmdstat_setnxData=a.map((function(t){return t.cmdstat_setnx})),e.cmdstat_execData=a.map((function(t){return t.cmdstat_exec})),e.cmdstat_multiData=a.map((function(t){return t.cmdstat_multi})),console.log(a)})).catch((function(t){e.$Message.error("获取redis信息错误 ".concat(t))}))},handleDaterangechange:function(t){this.daterangeValue=t,this.startTime=t[0],this.endTime=t[1],this.get_redis_commandstats("tags=".concat(this.$route.params.tags,"&start_time=").concat(this.startTime,"&end_time=").concat(this.endTime))}},mounted:function(){this.init()},destroyed:function(){clearInterval(this.timer)}},u=c,d=(a("20d1"),a("2877")),m=Object(d["a"])(u,n,s,!1,null,null,null);e["default"]=m.exports},9349:function(t,e,a){"use strict";a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return g}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"count-to-wrapper"},[t._t("left"),a("p",{staticClass:"content-outer"},[a("span",{class:["count-to-count-text",t.countClass],attrs:{id:t.counterId}},[t._v(t._s(t.init))]),a("i",{class:["count-to-unit-text",t.unitClass]},[t._v(t._s(t.unitText))])]),t._t("right")],2)},s=[],r=(a("c5f6"),a("57f2")),o=a.n(r),i=(a("16e0"),{name:"CountTo",props:{init:{type:Number,default:0},startVal:{type:Number,default:0},end:{type:Number,required:!0},decimals:{type:Number,default:2},decimal:{type:String,default:"."},duration:{type:Number,default:2},delay:{type:Number,default:0},uneasing:{type:Boolean,default:!1},usegroup:{type:Boolean,default:!1},separator:{type:String,default:","},simplify:{type:Boolean,default:!1},unit:{type:Array,default:function(){return[[3,"K+"],[6,"M+"],[9,"B+"]]}},countClass:{type:String,default:""},unitClass:{type:String,default:""}},data:function(){return{counter:null,unitText:""}},computed:{counterId:function(){return"count_to_".concat(this._uid)}},methods:{getHandleVal:function(t,e){return{endVal:parseInt(t/Math.pow(10,this.unit[e-1][0])),unitText:this.unit[e-1][1]}},transformValue:function(t){var e=this.unit.length,a={endVal:0,unitText:""};if(t<Math.pow(10,this.unit[0][0]))a.endVal=t;else for(var n=1;n<e;n++)t>=Math.pow(10,this.unit[n-1][0])&&t<Math.pow(10,this.unit[n][0])&&(a=this.getHandleVal(t,n));return t>Math.pow(10,this.unit[e-1][0])&&(a=this.getHandleVal(t,e)),a},getValue:function(t){var e=0;if(this.simplify){var a=this.transformValue(t),n=a.endVal,s=a.unitText;this.unitText=s,e=n}else e=t;return e}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.getValue(t.end);t.counter=new o.a(t.counterId,t.startVal,e,t.decimals,t.duration,{useEasing:!t.uneasing,useGrouping:t.useGroup,separator:t.separator,decimal:t.decimal}),setTimeout((function(){t.counter.error||t.counter.start()}),t.delay)}))},watch:{end:function(t){var e=this.getValue(t);this.counter.update(e)}}}),l=i,c=a("2877"),u=Object(c["a"])(l,n,s,!1,null,null,null),d=u.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"count-to-wrapper"},[t._t("left"),a("p",{staticClass:"content-outer"},[a("span",{class:["count-to-count-text",t.countClass],attrs:{id:t.counterId}},[t._v(t._s(t.init))]),a("i",{class:["count-to-unit-text",t.unitClass]},[t._v(t._s(t.unitText))])]),t._t("right")],2)},h=[],p={name:"CountToInt",props:{init:{type:Number,default:0},startVal:{type:Number,default:0},end:{type:Number,required:!0},decimals:{type:Number,default:0},decimal:{type:String,default:"."},duration:{type:Number,default:2},delay:{type:Number,default:0},uneasing:{type:Boolean,default:!1},usegroup:{type:Boolean,default:!1},separator:{type:String,default:","},simplify:{type:Boolean,default:!1},unit:{type:Array,default:function(){return[[3,"K+"],[6,"M+"],[9,"B+"]]}},countClass:{type:String,default:""},unitClass:{type:String,default:""}},data:function(){return{counter:null,unitText:""}},computed:{counterId:function(){return"count_to_".concat(this._uid)}},methods:{getHandleVal:function(t,e){return{endVal:parseInt(t/Math.pow(10,this.unit[e-1][0])),unitText:this.unit[e-1][1]}},transformValue:function(t){var e=this.unit.length,a={endVal:0,unitText:""};if(t<Math.pow(10,this.unit[0][0]))a.endVal=t;else for(var n=1;n<e;n++)t>=Math.pow(10,this.unit[n-1][0])&&t<Math.pow(10,this.unit[n][0])&&(a=this.getHandleVal(t,n));return t>Math.pow(10,this.unit[e-1][0])&&(a=this.getHandleVal(t,e)),a},getValue:function(t){var e=0;if(this.simplify){var a=this.transformValue(t),n=a.endVal,s=a.unitText;this.unitText=s,e=n}else e=t;return e}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.getValue(t.end);t.counter=new o.a(t.counterId,t.startVal,e,t.decimals,t.duration,{useEasing:!t.uneasing,useGrouping:t.useGroup,separator:t.separator,decimal:t.decimal}),setTimeout((function(){t.counter.error||t.counter.start()}),t.delay)}))},watch:{end:function(t){var e=this.getValue(t);this.counter.update(e)}}},f=p,_=Object(c["a"])(f,m,h,!1,null,null,null),g=_.exports},"943b":function(t,e,a){},9454:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error-page"},[a("div",{staticClass:"content-con"},[a("img",{attrs:{src:t.src,alt:t.code}}),a("div",{staticClass:"text-con"},[a("h4",[t._v(t._s(t.code))]),a("h5",[t._v(t._s(t.desc))])]),a("back-btn-group",{staticClass:"back-btn-group"})],1)])},s=[],r=(a("0eb4"),a("c1a1")),o={name:"error_content",components:{backBtnGroup:r["default"]},props:{code:String,desc:String,src:String}},i=o,l=a("2877"),c=Object(l["a"])(i,n,s,!1,null,null,null);e["default"]=c.exports},"946a":function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=a("66df"),s=function(t){return n["a"].request({url:"/windows/api/windows-stat-list?".concat(t),method:"get"})},r=function(t){return n["a"].request({url:"/windows/api/windows-stat?".concat(t),method:"get"})},o=function(t){return n["a"].request({url:"/windows/api/windows-stat-his?".concat(t),method:"get"})},i=function(t){return n["a"].request({url:"/windows/api/windows-disk?".concat(t),method:"get"})}},9658:function(t,e,a){"use strict";a.d(e,"b",(function(){return b})),a.d(e,"a",(function(){return y}));var n,s=a("c276"),r=a("90de"),o=a("7e1e"),i=a("f1bd"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("keep-alive",{attrs:{include:t.cacheList,exclude:t.notCacheName}},[a("router-view",{ref:"child"})],1)},c=[],u=a("2909"),d=(a("7f7f"),{name:"ParentView",computed:{tagNavList:function(){return this.$store.state.app.tagNavList},notCacheName:function(){return[this.$route.meta&&this.$route.meta.notCache?this.$route.name:""]},cacheList:function(){return["ParentView"].concat(Object(u["a"])(this.tagNavList.length?this.tagNavList.filter((function(t){return!(t.meta&&t.meta.notCache)})).map((function(t){return t.name})):[]))}}}),m=d,h=a("2877"),p=Object(h["a"])(m,l,c,!1,null,null,null),f=p.exports,_=f,g=a("4360"),b=(a("70c3"),function(){var t;if(console.log("----------------开始初始化路由--------------------"),Object(s["j"])())return n?n=y():Object(o["a"])().then((function(e){t=e.data,Object(s["l"])("dynamicRouter",JSON.stringify(t)),n=v(t),g["a"].commit("updateMenuList",n)})),n}),y=function(){var t=[],e=Object(s["k"])("dynamicRouter");return console.log("从本地加载出来",e),e?(t=v(JSON.parse(e)),t):t},v=function t(e){var a=e.filter((function(e){return e.component&&("Main"===e.component?e.component=i["a"]:"parentView"===e.component?e.component=_:e.component=Object(r["f"])(e.component)),e.children&&e.children.length&&(e.children=t(e.children)),!0}));return a}},"9a14":function(t,e,a){},"9dde":function(t,e,a){"use strict";a("3fcc")},a189:function(t,e,a){"use strict";a("3a8f")},a18c:function(t,e,a){"use strict";var n=a("2909"),s=(a("7f7f"),a("2b0e")),r=a("8c4f"),o=a("ddb9"),i=a("4360"),l=a("e069"),c=a.n(l),u=a("9658"),d=a("c276"),m=a("f121"),h=m["a"].homeName;s["default"].use(r["a"]);var p=new r["a"]({routes:o["a"]}),f="login",_=function(t,e,a){Object(d["a"])(t.name,e,[].concat(Object(n["a"])(o["a"]),Object(n["a"])(Object(u["a"])())))?a():a({replace:!0,name:"error_401"})};p.beforeEach((function(t,e,a){c.a.LoadingBar.start();var n=Object(d["j"])();console.log("token的值是：",n),n||t.name===f?n||t.name!==f?n&&t.name===f?a({name:h}):(console.log("来到这里了"),i["a"].state.user.hasGetInfo?(console.log("1",t.name,i["a"].state.user.access),_(t,i["a"].state.user.access,a)):i["a"].dispatch("getUserInfo").then((function(e){console.log("user的值：",e),_(t,e.access,a)})).catch((function(){Object(d["r"])(""),a({name:"login"})}))):a():a({name:f})})),p.afterEach((function(t){Object(d["q"])(t,p.app),c.a.LoadingBar.finish(),window.scrollTo(0,0)})),e["a"]=p},a1e9:function(t,e,a){},a85d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("linux-menu",{attrs:{value:"1",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Row",[a("i-col",{attrs:{span:"9"}},[a("card",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n           主机信息\n        "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Table",{attrs:{size:"small","show-header":!1,columns:t.columns1,data:t.linuxinfoData}})],1),a("card",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n           磁盘使用率\n        "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Table",{attrs:{size:"small",columns:t.columnsDisk,data:t.linuxdiskList}})],1),a("card",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n           告警\n        "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Table",{attrs:{size:"small",columns:t.columnsAlarm,data:t.alarmData}})],1)],1),a("i-col",{attrs:{span:"15"}},[a("i-col",{attrs:{span:"8"}},[a("Card",[a("simple-chart-pie",{staticStyle:{height:"150px"},attrs:{value:t.cpuusedData,text:"CPU使用率"}})],1)],1),a("i-col",{attrs:{span:"8"}},[a("Card",[a("simple-chart-pie",{staticStyle:{height:"150px"},attrs:{value:t.memusedData,text:"内存使用率"}})],1)],1),a("i-col",{attrs:{span:"8"}},[a("Card",[a("simple-chart-pie",{staticStyle:{height:"150px"},attrs:{value:t.loadData,text:"LOAD负载"}})],1)],1)],1),a("i-col",{attrs:{span:"15"}},[a("Card",[a("DatePicker",{staticStyle:{width:"250px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择时间范围"},on:{"on-change":t.handleDaterangechange}}),a("br"),a("chart-line1",{staticStyle:{height:"200px"},attrs:{title:t.chart1_title,data1:t.checktimeData,data2:t.cpuData}}),a("br"),a("chart-line1",{staticStyle:{height:"200px"},attrs:{title:t.chart2_title,data1:t.checktimeData,data2:t.memData}}),a("br"),a("chart-line2",{staticStyle:{height:"200px"},attrs:{title:t.chart3_title,data1:t.checktimeData,data2:t.readmbData,data3:t.writembData}})],1)],1)],1)],1)],1)],1)},s=[],r=a("6308"),o=a("90de"),i=a("63a4"),l=a("6fa1"),c=a("8593"),u=a("c9ae"),d=a("e069"),m={name:"linux_view",components:{LinuxMenu:r["a"],InforCard:i["a"],SimpleChartPie:u["i"],ChartLine1:u["b"],ChartLine2:u["c"],ChartPie:u["g"]},data:function(){return{Tags:"",end:0,asynEndVal:487,integratedEndVal:3,data:[],linuxinfo:[],linuxinfoList:[],linuxdiskList:[],alarmData:[],columns1:[{title:"column1",key:"column1"},{title:"column2",key:"column2"}],columnsDisk:[{title:"磁盘",key:"mount_point",minWidth:100},{title:"使用率",key:"used_percent",minWidth:100,render:function(t,e){var a=e.row.used_percent;return a>=95?t(d["Tag"],{props:{color:"error"}},a+"%"):a>=85?t(d["Tag"],{props:{color:"warning"}},a+"%"):null===a?null:t(d["Tag"],{props:{color:"success"}},a+"%")}},{title:"剩余空间(GB)",key:"free_size",minWidth:100}],columnsAlarm:[{title:"告警内容",key:"alarm_content",minWidth:250},{title:"告警时间",key:"alarm_header",minWidth:140,render:function(t,e){return t("div",Object(o["b"])(new Date(e.row.alarm_time),"yyyy-MM-dd hh:mm"))}}],linuxinfoData:[],cpuusedData:50,memusedData:50,loadData:50,checktimeData:[],cpuData:[],memData:[],readmbData:[],writembData:[],chart1_title:["CPU","CPU使用率"],chart2_title:["内存","内存使用率"],chart3_title:["磁盘IO","readmb","writemb"],daterangeValue:null,startTime:"",endTime:""}},created:function(){var t=this;this.get_linux_stat("tags=".concat(this.$route.params.tags," ")),this.get_linux_stat_his("tags=".concat(this.$route.params.tags," ")),this.get_linux_disk("tags=".concat(this.$route.params.tags," ")),this.get_export_alarm_info("tags=".concat(this.$route.params.tags,"&alarm_type=linux ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_linux_stat("tags=".concat(t.$route.params.tags," ")),t.get_linux_stat_his("tags=".concat(t.$route.params.tags," ")),t.get_linux_disk("tags=".concat(t.$route.params.tags," ")),t.get_export_alarm_info("tags=".concat(t.$route.params.tags,"&alarm_type=linux"))}),12e4)},methods:{init:function(){},get_linux_stat:function(t){var e=this;Object(l["c"])(t).then((function(t){e.linuxinfo=t.data.results[0],e.linuxinfoData=[{column1:"主机名: "+e.linuxinfo.hostname,column2:"IP信息: "+e.linuxinfo.ipinfo},{column1:"linux发行版本: "+e.linuxinfo.linux_version,column2:"内核版本: "+e.linuxinfo.kernel},{column1:"架构: "+e.linuxinfo.frame,column2:"运行天数: "+e.linuxinfo.updays},{column1:"CPU型号: "+e.linuxinfo.cpu_mode,column2:"CPU核数: "+e.linuxinfo.processor},{column1:"CPU频率: "+e.linuxinfo.cpu_speed,column2:"CPU cache: "+e.linuxinfo.cpu_cache}],e.cpuusedData=e.linuxinfo.cpu_used,e.memusedData=e.linuxinfo.mem_used,e.loadData=e.linuxinfo.load1,console.log(e.linuxinfo)})).catch((function(t){e.$Message.error("获取linux资源信息错误 ".concat(t))}))},get_linux_stat_his:function(t){var e=this;console.log("get_linux_stat_his被调用"),Object(l["d"])(t).then((function(t){e.linuxinfoList=t.data.results,e.checktimeData=e.linuxinfoList.map((function(t){return Object(o["b"])(new Date(t.check_time),"yyyy-MM-dd hh:mm")})),console.log("this.checktimeData:的值是：",e.checktimeData),e.cpuData=e.linuxinfoList.map((function(t){return t.cpu_used})),e.memData=e.linuxinfoList.map((function(t){return t.mem_used})),e.readmbData=e.linuxinfoList.map((function(t){return t.read_mb})),e.writembData=e.linuxinfoList.map((function(t){return t.write_mb}))})).catch((function(t){e.$Message.error("获取linux资源信息错误 ".concat(t))}))},get_linux_disk:function(t){var e=this;Object(l["a"])(t).then((function(t){e.linuxdiskList=t.data.results})).catch((function(t){e.$Message.error("获取linux磁盘信息错误 ".concat(t))}))},get_export_alarm_info:function(t){var e=this;Object(c["d"])(t).then((function(t){e.alarmData=t.data.results,e.count=t.data.count})).catch((function(t){e.$Message.error("获取告警信息错误 ".concat(t))}))},handleDaterangechange:function(t){this.daterangeValue=t,this.startTime=t[0],this.endTime=t[1],this.get_linux_stat_his("tags=".concat(this.$route.params.tags,"&start_time=").concat(this.startTime,"&end_time=").concat(this.endTime))}},mounted:function(){this.init()},destroyed:function(){clearInterval(this.timer)}},h=m,p=(a("d074"),a("2877")),f=Object(p["a"])(h,n,s,!1,null,null,null);e["default"]=f.exports},ab87:function(t,e,a){},aeda:function(t,e,a){},af76:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("redis-menu",{attrs:{value:"3",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Card",[a("br"),a("row",[a("Table",{attrs:{stripe:"",columns:t.columns,data:t.slowlogData}})],1)],1)],1)],1)],1)},s=[],r=a("3334"),o=a("90de"),i=a("6308"),l={components:{RedisMenu:i["c"]},data:function(){return{Tags:"",data:"",slowlogData:[],columns:[{title:"id",key:"id",width:80,sortable:!0},{title:"时间",key:"start_time",width:160,render:function(t,e){var a=e.row.start_time,n=Object(o["c"])(a,"year");return t("div",n)}},{title:"执行耗时(微妙)",key:"duration",width:120},{title:"命令",key:"command",width:600}],count:0,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null}},computed:{access:function(){return this.$store.state.user.access}},created:function(){var t=this;this.get_redis_slowlog("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_redis_slowlog("tags=".concat(t.$route.params.tags," "))}),2e6)},methods:{search:function(){this.get_redis_slowlog("tags=".concat(this.$route.params.tags," "))},clear_search:function(){this.get_redis_slowlog("tags=".concat(this.$route.params.tags," "))},get_redis_slowlog:function(t){var e=this;Object(r["d"])(t).then((function(t){for(var a in e.data=t.data,e.data)e.slowlogData.push(e.data[a]);console.log(e.slowlogData)})).catch((function(t){e.$Message.error("获取redis慢查询信息错误 ".concat(t))}))}},destroyed:function(){clearInterval(this.timer)}},c=l,u=(a("9dde"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=d.exports},b002:function(t,e,a){"use strict";a("de42")},b554:function(t,e,a){"use strict";a("5f04")},b7c7:function(t,e,a){"use strict";a.r(e);var n=a("4360");e["default"]={install:function(t,e){e.developmentOff,t.config.errorHandler=function(e,a,s){var r={type:"script",code:0,mes:e.message,url:window.location.href};t.nextTick((function(){n["a"].dispatch("addErrorLog",r)}))}}}},b858:function(t,e,a){"use strict";a("ef21")},bf04:function(t,e,a){"use strict";a("dffb")},bf0b:function(t,e,a){},c038:function(t,e,a){"use strict";a("f017")},c1a1:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{size:"large",type:"text"},on:{click:t.backHome}},[t._v("返回首页")]),a("Button",{attrs:{size:"large",type:"text"},on:{click:t.backPrev}},[t._v("返回上一页("+t._s(t.second)+"s)")])],1)},s=[],r=(a("a481"),a("0eb4"),{name:"backBtnGroup",data:function(){return{second:5,timer:null}},methods:{backHome:function(){this.$router.replace({name:this.$config.homeName})},backPrev:function(){this.$router.go(-1)}},mounted:function(){var t=this;this.timer=setInterval((function(){0===t.second?t.backPrev():t.second--}),1e3)},beforeDestroy:function(){clearInterval(this.timer)}}),o=r,i=a("2877"),l=Object(i["a"])(o,n,s,!1,null,null,null);e["default"]=l.exports},c276:function(t,e,a){"use strict";a.d(e,"r",(function(){return f})),a.d(e,"j",(function(){return _})),a.d(e,"e",(function(){return y})),a.d(e,"c",(function(){return v})),a.d(e,"h",(function(){return w})),a.d(e,"s",(function(){return x})),a.d(e,"p",(function(){return D})),a.d(e,"i",(function(){return k})),a.d(e,"d",(function(){return O})),a.d(e,"f",(function(){return S})),a.d(e,"a",(function(){return $})),a.d(e,"g",(function(){return j})),a.d(e,"b",(function(){return q})),a.d(e,"m",(function(){return L})),a.d(e,"n",(function(){return T})),a.d(e,"l",(function(){return M})),a.d(e,"k",(function(){return z})),a.d(e,"o",(function(){return W})),a.d(e,"q",(function(){return A}));a("8e6e"),a("456d"),a("ac6a"),a("28a5"),a("20d6"),a("a481"),a("6762"),a("2fdb");var n=a("2909"),s=a("ade3"),r=(a("7f7f"),a("a78e")),o=a.n(r),i=a("f121"),l=a("90de");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d=i["a"].title,m=i["a"].cookieExpires,h=i["a"].useI18n,p="token",f=function(t){o.a.set(p,t,{expires:m||1})},_=function(){var t=o.a.get(p);return t||!1},g=function(t){return t.children&&0!==t.children.length},b=function(t,e){return!(t.meta&&t.meta.access&&t.meta.access.length)||!!Object(l["e"])(t.meta.access,e)},y=function t(e,a){var n=[];return Object(l["a"])(e,(function(e){if(!e.meta||e.meta&&!e.meta.hideInMenu){var s={icon:e.meta&&e.meta.icon||"",name:e.name,meta:e.meta};(g(e)||e.meta&&e.meta.showAlways)&&b(e,a)&&(s.children=t(e.children,a)),e.meta&&e.meta.href&&(s.href=e.meta.href),b(e,a)&&n.push(s)}})),n},v=function(t,e){var a=u(u({},e),{},{icon:e.meta.icon}),s=t.matched;if(s.some((function(t){return t.name===e.name})))return[a];var r=s.filter((function(t){return void 0===t.meta||!t.meta.hideInBread})).map((function(e){var a=u({},e.meta);a.title&&"function"===typeof a.title&&(a.__titleIsFunction__=!0,a.title=a.title(t));var n={icon:e.meta&&e.meta.icon||"",name:e.name,meta:a};return n}));return r=r.filter((function(t){return!t.meta.hideInMenu})),[u(u({},a),{},{to:e.path})].concat(Object(n["a"])(r))},w=function(t){var e=u({},t),a=u({},t.meta),n="";return a.title&&("function"===typeof a.title?(a.__titleIsFunction__=!0,n=a.title(e)):n=a.title),a.title=n,e.meta=a,e},x=function(t,e){var a=t.meta,n=a.title,s=a.__titleIsFunction__;if(n)return n=h?n.includes("{{")&&n.includes("}}")&&h?n.replace(/({{[\s\S]+?}})/,(function(t,a){return a.replace(/{{([\s\S]*)}}/,(function(t,a){return e.$t(a.trim())}))})):s?t.meta.title:e.$t(t.name):t.meta&&t.meta.title||t.name,n},D=function(t){localStorage.tagNaveList=JSON.stringify(t)},k=function(){var t=localStorage.tagNaveList;return t?JSON.parse(t):[]},O=function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"home",n=-1,s=e.length,r={};while(++n<s){var o=e[n];if(o.children&&o.children.length){var i=t(o.children,a);if(i.name)return i}else o.name===a&&(r=o)}return r},S=function(t,e){var a=e.name,s=e.path,r=e.meta,o=Object(n["a"])(t);return o.findIndex((function(t){return t.name===a}))>=0||o.push({name:a,path:s,meta:r}),o},C=function(t,e){return!e.meta||!e.meta.access||Object(l["e"])(t,e.meta.access)},$=function(t,e,a){var n=function a(n){return console.log("list的值是：",n),n.some((function(n){return console.log("item的值是：",n),n.children&&n.children.length?a(n.children):n.name===t?(console.log("item.name的值是：",n.name,"name的值是：",t),console.log("hasAccess(access, item):",C(e,n)),C(e,n)):void 0}))},s=n(a);return console.log("result的值是：",s),s},j=function(t,e){var a={};if(2===t.length)a=O(t);else{var n=t.findIndex((function(t){return L(t,e)}));a=n===t.length-1?t[t.length-2]:t[n+1]}return a},I=function(t,e){var a=-1;while(++a<t)e(a)},q=function t(e,a){var n=e.parentNode;if(n){var s=n.classList;return s&&a.every((function(t){return s.contains(t)}))?n:t(n,a)}},L=function(t,e){var a=t.params||{},n=e.params||{},s=t.query||{},r=e.query||{};return t.name===e.name&&Object(l["g"])(a,n)&&Object(l["g"])(s,r)},T=function(t,e){var a=t.length,n=!1;return I(a,(function(a){L(t[a],e)&&(n=!0)})),n},M=function(t,e){localStorage.setItem(t,e)},z=function(t){return localStorage.getItem(t)||""},W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4?arguments[4]:void 0;window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)});var r=Math.abs(e-a),o=Math.ceil(r/n*50),i=function e(a,n,r){if(a!==n){var o=a+r>n?n:a+r;a>n&&(o=a-r<n?n:a-r),t===window?window.scrollTo(o,o):t.scrollTop=o,window.requestAnimationFrame((function(){return e(o,n,r)}))}else s&&s()};i(e,a,o)},A=function(t,e){var a=w(t),n=x(a,e),s=n?"".concat(d," - ").concat(n):d;window.document.title=s}},c436:function(t,e,a){t.exports=a.p+"img/error-404.94756dcf.svg"},c685:function(t,e,a){},c8d5:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Button",{attrs:{icon:"md-download",loading:t.exportLoading},on:{click:t.exportExcel}},[t._v("导出文件")]),a("day-select",{staticStyle:{"margin-left":"5px"},on:{change_select:t.get_select_alarm_info}}),a("Card",[a("br"),a("Table",{attrs:{size:"small",columns:t.columns,data:t.data}}),a("br"),a("Page",{attrs:{total:t.count,"page-size":t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_export_alarm_info_page}})],1)],1)],1)],1)},s=[],r=a("8593"),o=a("90de"),i=(a("34ef"),a("6b54"),a("1146")),l=a.n(i);function c(t,e){for(var a=e.map((function(t){return t.map((function(t){return null==t?{wch:10}:t.toString().charCodeAt(0)>255?{wch:2*t.toString().length}:{wch:t.toString().length}}))})),n=a[0],s=1;s<a.length;s++)for(var r=0;r<a[s].length;r++)n[r]["wch"]<a[s][r]["wch"]&&(n[r]["wch"]=a[s][r]["wch"]);t["!cols"]=n}function u(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))}function d(t){var e,a=[],n=l.a.utils.decode_range(t["!ref"]),s=n.s.r;for(e=n.s.c;e<=n.e.c;++e){var r=t[l.a.utils.encode_cell({c:e,r:s})],o="UNKNOWN "+e;r&&r.t&&(o=l.a.utils.format_cell(r)),a.push(o)}return a}var m=function(t,e){var a=document.getElementById(t),n=l.a.utils.table_to_book(a);l.a.writeFile(n,e)},h=function(t){var e=t.data,a=t.key,n=t.title,s=t.filename,r=t.autoWidth,o=l.a.utils.book_new();e.unshift(n);var i=l.a.utils.json_to_sheet(e,{header:a,skipHeader:!0});if(r){var d=u(a,e);c(i,d)}l.a.utils.book_append_sheet(o,i,s),l.a.writeFile(o,s+".xlsx")},p=function(t){var e=t.key,a=t.data,n=t.title,s=t.filename,r=t.autoWidth,o=l.a.utils.book_new(),i=u(e,a);i.unshift(n);var d=l.a.utils.aoa_to_sheet(i);r&&c(d,i),l.a.utils.book_append_sheet(o,d,s),l.a.writeFile(o,s+".xlsx")},f=function(t,e){var a=l.a.read(t,{type:e}),n=a.SheetNames[0],s=a.Sheets[n],r=d(s),o=l.a.utils.sheet_to_json(s);return{header:r,results:o}},_={export_table_to_excel:m,export_array_to_excel:p,export_json_to_excel:h,read:f},g=(a("e069"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Select",{staticStyle:{width:"200px"},attrs:{clearable:""},on:{"on-change":t.change_select},model:{value:t.model8,callback:function(e){t.model8=e},expression:"model8"}},t._l(t.dayList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)}),b=[],y=(a("c5f6"),{data:function(){return{dayList:[{value:"1",label:"今天"},{value:"-1",label:"昨天"},{value:"-7",label:"最近一周"},{value:"-30",label:"最近一个月"},{value:"-365",label:"最近一年"}],model8:""}},methods:{change_select:function(t){console.log(t),this.$emit("change_select",Number(t))}}}),v=y,w=a("2877"),x=Object(w["a"])(v,g,b,!1,null,"3fb3d629",null),D=x.exports,k=D,O={components:{daySelect:k},data:function(){return{show:!1,columns:[{type:"index",minWidth:50,align:"center"},{title:"标签",key:"tags",minWidth:100},{title:"告警名称",key:"alarm_type",minWidth:150},{title:"服务地址",key:"url",minWidth:120},{title:"告警内容",key:"alarm_content",minWidth:400},{title:"告警时间",key:"alarm_time",minWidth:140,sortable:!0,render:function(t,e){return t("div",Object(o["b"])(new Date(e.row.alarm_time),"yyyy-MM-dd hh:mm"))}}],data:[],count:0,page_size:10,create:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null,exportLoading:!1,exportData:null,day:1}},computed:{access:function(){return this.$store.state.user.access}},created:function(){this.get_export_alarm_info()},methods:{exportExcel:function(){if(this.exportData.length){this.exportLoading=!0;var t={title:["标签","告警名称","服务地址","告警内容","告警时间"],key:["tags","alarm_type","url","alarm_content","alarm_time"],data:this.exportData,autoWidth:!0,filename:"告警信息"};_.export_array_to_excel(t),this.exportLoading=!1}else this.$Message.info("无数据！表格数据不能为空！")},get_export_alarm_info:function(t){var e=this;void 0===t?(Object(r["d"])("day=1").then((function(t){e.data=t.data.results,e.count=t.data.count})).catch((function(t){e.$Message.error("获取告警信息错误！".concat(t))})),Object(r["c"])("day=1").then((function(t){e.exportData=t.data})).catch((function(t){e.$Message.error("导出告警信息错误！".concat(t))}))):Object(r["d"])(t).then((function(t){console.log("获取页码数的告警信息：",t),e.data=t.data.results,e.count=t.data.count})).catch((function(t){e.$Message.error("获取告警信息错误！".concat(t))}))},get_select_alarm_info:function(t){var e=this;this.day=t,Object(r["d"])("day=".concat(t)).then((function(t){console.log("getExportAlarmInfo的res值为：",t),e.data=t.data.results,e.count=t.data.count})).catch((function(t){e.$Message.error("获取告警信息错误！".concat(t))})),Object(r["c"])("day=".concat(t)).then((function(t){console.log("告警日志获取：",t),e.exportData=t.data})).catch((function(t){e.$Message.error("导出告警信息错误！".concat(t))}))},get_export_alarm_info_page:function(t){this.get_export_alarm_info("day=".concat(this.day,"&page=").concat(t))}}},S=O,C=(a("e4b8"),a("1923"),Object(w["a"])(S,n,s,!1,null,"3497dfba",null));e["default"]=C.exports},c9ae:function(t,e,a){"use strict";a.d(e,"g",(function(){return h})),a.d(e,"a",(function(){return y})),a.d(e,"i",(function(){return O})),a.d(e,"h",(function(){return q})),a.d(e,"b",(function(){return A})),a.d(e,"c",(function(){return E})),a.d(e,"d",(function(){return K})),a.d(e,"e",(function(){return et})),a.d(e,"f",(function(){return it}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts chart-pie"})},s=[],r=(a("7f7f"),a("313e")),o=a.n(r),i=a("8e9a"),l=a("90de");o.a.registerTheme("tdTheme",i);var c={name:"ChartPie",props:{value:Array,text:String,subtext:String},data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.value.map((function(t){return t.name})),a={title:{text:t.text,subtext:t.subtext,x:"center"},tooltip:{trigger:"item",formatter:"hello"},legend:{orient:"vertical",left:"left",data:e},series:[{type:"pie",radius:"55%",center:["50%","60%"],data:t.value,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.dom=o.a.init(t.$refs.dom,"tdTheme"),t.dom.setOption(a),Object(l["i"])(window,"resize",t.resize)}))},beforeDestroy:function(){Object(l["h"])(window,"resize",this.resize)}},u=c,d=a("2877"),m=Object(d["a"])(u,n,s,!1,null,null,null),h=m.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts chart-bar"})},f=[];o.a.registerTheme("tdTheme",i);var _={props:{show:String,title:Array,data1:Array,data2:Array,text:String},data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()},init:function(){var t=this.data1,e=this.data2,a={title:{text:this.title[0],subtext:"",left:"center",bottom:"5%"},color:["#42917c"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:this.title},xAxis:[{type:"category",data:t,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:this.title[0],type:"bar",barWidth:"60%",data:e}]};this.dom=o.a.init(this.$refs.dom,"tdTheme"),this.dom.setOption(a,!0)}},mounted:function(){var t=this;this.$nextTick((function(){t.init(),Object(l["i"])(window,"resize",t.resize)}))},watch:{data1:{handler:function(t,e){this.init()},deep:!0}},beforeDestroy:function(){Object(l["h"])(window,"resize",this.resize)}},g=_,b=Object(d["a"])(g,p,f,!1,null,null,null),y=b.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts chart-pie"})},w=[];o.a.registerTheme("tdTheme",i);var x={name:"ChartSimplePie",props:["value","text"],data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()},init:function(){var t={title:{text:this.text,top:"85%",x:"center",textStyle:{fontSize:12,fontWeight:"bold",color:"#4d6f85"}},tooltip:{trigger:"item",formatter:"{a} : ({d}%)"},series:[{name:this.text,center:["50%","50%"],radius:["50%","50%"],clockWise:!1,hoverAnimation:!1,type:"pie",data:[{value:this.value,name:"",label:{normal:{show:!0,formatter:"{d} %",textStyle:{fontSize:15,fontWeight:"bold"},position:"center"}},labelLine:{show:!1},itemStyle:{normal:{color:"#5886f0",borderColor:new o.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00a2ff"},{offset:1,color:"#70ffac"}]),borderWidth:10},emphasis:{color:"#5886f0",borderColor:new o.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#85b6b2"},{offset:1,color:"#6d4f8d"}]),borderWidth:10}}},{name:" ",value:100-this.value,itemStyle:{normal:{label:{show:!1},labelLine:{show:!1},color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0},emphasis:{color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0}}}]}]};this.dom=o.a.init(this.$refs.dom,"tdTheme"),this.dom.setOption(t,!0)}},mounted:function(){var t=this;this.$nextTick((function(){t.init(),Object(l["i"])(window,"resize",t.resize)}))},watch:{value:{handler:function(t,e){this.init()},deep:!0}},beforeDestroy:function(){Object(l["h"])(window,"resize",this.resize)}},D=x,k=Object(d["a"])(D,v,w,!1,null,null,null),O=k.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts chart-pie"})},C=[];o.a.registerTheme("tdTheme",i);var $={name:"ChartPie",props:{value:Array,text:String,subtext:String},data:function(){return{dom:null}},methods:{init:function(){var t={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"健康度",type:"pie",radius:"64%",center:["50%","50%"],clockwise:!1,data:[{value:this.value[0],name:"正常"},{value:this.value[1],name:"危险"},{value:this.value[2],name:"告警"}],label:{normal:{textStyle:{color:"#999",fontSize:12}}},labelLine:{normal:{show:!1}},itemStyle:{normal:{borderWidth:1,borderColor:"#ffffff"},emphasis:{borderWidth:0,shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],color:["#22d4bf","#d45356","#d4cda6"],backgroundColor:"#fff"};this.dom=o.a.init(this.$refs.dom,"tdTheme"),this.dom.setOption(t)},resize:function(){this.dom.resize()}},mounted:function(){var t=this;this.$nextTick((function(){t.init(),Object(l["i"])(window,"resize",t.resize)}))},watch:{value:{handler:function(t,e){this.init()},deep:!0}},beforeDestroy:function(){Object(l["h"])(window,"resize",this.resize)}},j=$,I=Object(d["a"])(j,S,C,!1,null,null,null),q=I.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts chart-line"})},T=[];o.a.registerTheme("tdTheme",i);var M={props:{title:Array,data1:Array,data2:Array,text:String},data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()},init:function(){var t=this.data1,e=this.data2,a={title:{text:this.title[0],subtext:"",left:"center",bottom:"5%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:this.title},toolbox:{show:!0},xAxis:{type:"category",boundaryGap:!1,zlevel:1,data:t},yAxis:{type:"value",axisLabel:{formatter:"{value}"},axisPointer:{snap:!0}},series:[{name:this.title[1],data:e,type:"line",smooth:!0,itemStyle:{normal:{color:"#97d4b7"}},lineStyle:{normal:{color:"#97d4b7"}},areaStyle:{normal:{color:"#97d4b7",opacity:.8}}}]};this.dom=o.a.init(this.$refs.dom,"tdTheme"),this.dom.setOption(a)}},mounted:function(){var t=this;this.$nextTick((function(){t.init(),Object(l["i"])(window,"resize",t.resize)}))},watch:{data1:{handler:function(t,e){this.init()},deep:!0}},beforeDestroy:function(){Object(l["h"])(window,"resize",this.resize)}},z=M,W=Object(d["a"])(z,L,T,!1,null,null,null),A=W.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts chart-line"})},N=[];o.a.registerTheme("tdTheme",i);var F={props:{title:Array,data1:Array,data2:Array,data3:Array,text:String},data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()},init:function(){var t=this.data1,e=this.data2,a=this.data3,n={title:{text:this.title[0],subtext:"",left:"center",bottom:"5%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:this.title},toolbox:{show:!0},xAxis:{type:"category",boundaryGap:!1,zlevel:1,data:t},yAxis:{type:"value",axisLabel:{formatter:"{value}"},axisPointer:{snap:!0}},series:[{name:this.title[1],data:e,type:"line",smooth:!0,itemStyle:{normal:{color:"#97d4b7"}},lineStyle:{normal:{color:"#97d4b7"}},areaStyle:{normal:{color:"#97d4b7",opacity:.8}}},{name:this.title[2],data:a,type:"line",smooth:!0,itemStyle:{normal:{color:"#d4d098"}},lineStyle:{normal:{color:"#d4d098"}},areaStyle:{normal:{color:"#d4d098",opacity:.8}}}]};this.dom=o.a.init(this.$refs.dom,"tdTheme"),this.dom.setOption(n)}},mounted:function(){var t=this;this.$nextTick((function(){t.init(),Object(l["i"])(window,"resize",t.resize)}))},watch:{data1:{handler:function(t,e){this.init()},deep:!0}},beforeDestroy:function(){Object(l["h"])(window,"resize",this.resize)}},B=F,R=Object(d["a"])(B,P,N,!1,null,null,null),E=R.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts chart-line"})},H=[];o.a.registerTheme("tdTheme",i);var U={props:{title:Array,data1:Array,data2:Array,data3:Array,data4:Array,text:String},data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()},init:function(){var t=this.data1,e=this.data2,a=this.data3,n=this.data4,s={title:{text:this.title[0],subtext:"",left:"center",bottom:"5%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:this.title},toolbox:{show:!0},xAxis:{type:"category",boundaryGap:!1,zlevel:1,data:t},yAxis:{type:"value",axisLabel:{formatter:"{value}"},axisPointer:{snap:!0}},series:[{name:this.title[1],data:e,type:"line",smooth:!0,itemStyle:{normal:{color:"#97d4b7"}},lineStyle:{normal:{color:"#97d4b7"}},areaStyle:{normal:{color:"#97d4b7",opacity:.8}}},{name:this.title[2],data:a,type:"line",smooth:!0,itemStyle:{normal:{color:"#d4d098"}},lineStyle:{normal:{color:"#d4d098"}},areaStyle:{normal:{color:"#d4d098",opacity:.8}}},{name:this.title[3],data:n,type:"line",smooth:!0,itemStyle:{normal:{color:"#d48388"}},lineStyle:{normal:{color:"#d48388"}},areaStyle:{normal:{color:"#d48388",opacity:.8}}}]};this.dom=o.a.init(this.$refs.dom,"tdTheme"),this.dom.setOption(s)}},mounted:function(){var t=this;this.$nextTick((function(){t.init(),Object(l["i"])(window,"resize",t.resize)}))},watch:{data1:{handler:function(t,e){this.init()},deep:!0}},beforeDestroy:function(){Object(l["h"])(window,"resize",this.resize)}},Q=U,G=Object(d["a"])(Q,V,H,!1,null,null,null),K=G.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts chart-line"})},Y=[];o.a.registerTheme("tdTheme",i);var X={props:{title:Array,data1:Array,data2:Array,data3:Array,data4:Array,data5:Array,text:String},data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()},init:function(){var t=this.data1,e=this.data2,a=this.data3,n=this.data4,s=this.data5,r={title:{text:this.title[0],subtext:"",left:"center",bottom:"5%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:this.title},toolbox:{show:!0},xAxis:{type:"category",boundaryGap:!1,zlevel:1,data:t},yAxis:{type:"value",axisLabel:{formatter:"{value}"},axisPointer:{snap:!0}},series:[{name:this.title[1],data:e,type:"line",smooth:!0,itemStyle:{normal:{color:"#97d4b7"}},lineStyle:{normal:{color:"#97d4b7"}},areaStyle:{normal:{color:"#97d4b7",opacity:.8}}},{name:this.title[2],data:a,type:"line",smooth:!0,itemStyle:{normal:{color:"#d4d098"}},lineStyle:{normal:{color:"#d4d098"}},areaStyle:{normal:{color:"#d4d098",opacity:.8}}},{name:this.title[3],data:n,type:"line",smooth:!0,itemStyle:{normal:{color:"#d48388"}},lineStyle:{normal:{color:"#d48388"}},areaStyle:{normal:{color:"#d48388",opacity:.8}}},{name:this.title[4],data:s,type:"line",smooth:!0,itemStyle:{normal:{color:"#be9cd4"}},lineStyle:{normal:{color:"#be9cd4"}},areaStyle:{normal:{color:"#be9cd4",opacity:.8}}}]};this.dom=o.a.init(this.$refs.dom,"tdTheme"),this.dom.setOption(r)}},mounted:function(){var t=this;this.$nextTick((function(){t.init(),Object(l["i"])(window,"resize",t.resize)}))},watch:{data1:{handler:function(t,e){this.init()},deep:!0}},beforeDestroy:function(){Object(l["h"])(window,"resize",this.resize)}},Z=X,tt=Object(d["a"])(Z,J,Y,!1,null,null,null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts chart-line"})},nt=[];o.a.registerTheme("tdTheme",i);var st={props:{title:Array,data1:Array,data2:Array,data3:Array,data4:Array,data5:Array,data6:Array,text:String},data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()},init:function(){var t=this.data1,e=this.data2,a=this.data3,n=this.data4,s=this.data5,r=this.data6,i={title:{text:this.title[0],subtext:"",left:"center",bottom:"5%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:this.title},toolbox:{show:!0},xAxis:{type:"category",boundaryGap:!1,zlevel:1,data:t},yAxis:{type:"value",axisLabel:{formatter:"{value}"},axisPointer:{snap:!0}},series:[{name:this.title[1],data:e,type:"line",smooth:!0,itemStyle:{normal:{color:"#97d4b7"}},lineStyle:{normal:{color:"#97d4b7"}},areaStyle:{normal:{color:"#97d4b7",opacity:.8}}},{name:this.title[2],data:a,type:"line",smooth:!0,itemStyle:{normal:{color:"#d4d098"}},lineStyle:{normal:{color:"#d4d098"}},areaStyle:{normal:{color:"#d4d098",opacity:.8}}},{name:this.title[3],data:n,type:"line",smooth:!0,itemStyle:{normal:{color:"#d48388"}},lineStyle:{normal:{color:"#d48388"}},areaStyle:{normal:{color:"#d48388",opacity:.8}}},{name:this.title[4],data:s,type:"line",smooth:!0,itemStyle:{normal:{color:"#be9cd4"}},lineStyle:{normal:{color:"#be9cd4"}},areaStyle:{normal:{color:"#be9cd4",opacity:.8}}},{name:this.title[5],data:r,type:"line",smooth:!0,itemStyle:{normal:{color:"#4bc0ce"}},lineStyle:{normal:{color:"#4bc0ce"}},areaStyle:{normal:{color:"#4bc0ce",opacity:.8}}}]};this.dom=o.a.init(this.$refs.dom,"tdTheme"),this.dom.setOption(i)}},mounted:function(){var t=this;this.$nextTick((function(){t.init(),Object(l["i"])(window,"resize",t.resize)}))},watch:{data1:{handler:function(t,e){this.init()},deep:!0}},beforeDestroy:function(){Object(l["h"])(window,"resize",this.resize)}},rt=st,ot=Object(d["a"])(rt,at,nt,!1,null,null,null),it=ot.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"dom",staticClass:"charts chart-line"})},ct=[];o.a.registerTheme("tdTheme",i);var ut={props:{title:Array,data1:Array,data2:Array,data3:Array,data4:Array,data5:Array,data6:Array,data7:Array,text:String},data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()},init:function(){var t=this.data1,e=this.data2,a=this.data3,n=this.data4,s=this.data5,r=this.data6,i=this.data7,l={title:{text:this.title[0],subtext:"",left:"center",bottom:"5%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:this.title},toolbox:{show:!0},xAxis:{type:"category",boundaryGap:!1,zlevel:1,data:t},yAxis:{type:"value",axisLabel:{formatter:"{value}"},axisPointer:{snap:!0}},series:[{name:this.title[1],data:e,type:"line",smooth:!0,itemStyle:{normal:{color:"#97d4b7"}},lineStyle:{normal:{color:"#97d4b7"}},areaStyle:{normal:{color:"#97d4b7",opacity:.8}}},{name:this.title[2],data:a,type:"line",smooth:!0,itemStyle:{normal:{color:"#d4d098"}},lineStyle:{normal:{color:"#d4d098"}},areaStyle:{normal:{color:"#d4d098",opacity:.8}}},{name:this.title[3],data:n,type:"line",smooth:!0,itemStyle:{normal:{color:"#d48388"}},lineStyle:{normal:{color:"#d48388"}},areaStyle:{normal:{color:"#d48388",opacity:.8}}},{name:this.title[4],data:s,type:"line",smooth:!0,itemStyle:{normal:{color:"#be9cd4"}},lineStyle:{normal:{color:"#be9cd4"}},areaStyle:{normal:{color:"#be9cd4",opacity:.8}}},{name:this.title[5],data:r,type:"line",smooth:!0,itemStyle:{normal:{color:"#4bc0ce"}},lineStyle:{normal:{color:"#4bc0ce"}},areaStyle:{normal:{color:"#4bc0ce",opacity:.8}}},{name:this.title[6],data:i,type:"line",smooth:!0,itemStyle:{normal:{color:"#bdcecb"}},lineStyle:{normal:{color:"#bdcecb"}},areaStyle:{normal:{color:"#bdcecb",opacity:.8}}}]};this.dom=o.a.init(this.$refs.dom,"tdTheme"),this.dom.setOption(l)}},mounted:function(){var t=this;this.$nextTick((function(){t.init(),Object(l["i"])(window,"resize",t.resize)}))},watch:{data1:{handler:function(t,e){this.init()},deep:!0}},beforeDestroy:function(){Object(l["h"])(window,"resize",this.resize)}},dt=ut,mt=Object(d["a"])(dt,lt,ct,!1,null,null,null);mt.exports},ca62:function(t,e,a){},cb21:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.iconType,{tag:"component",attrs:{type:t.iconName,color:t.iconColor,size:t.iconSize}})},s=[],r=(a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("i",{class:"iconfont icon-"+t.type,style:t.styles})}),o=[],i={name:"Icons",props:{type:{type:String,required:!0},color:{type:String,default:"#5c6b77"},size:{type:Number,default:16}},computed:{styles:function(){return{fontSize:"".concat(this.size,"px"),color:this.color}}}},l=i,c=a("2877"),u=Object(c["a"])(l,r,o,!1,null,null,null),d=u.exports,m=d,h={name:"CommonIcon",components:{Icons:m},props:{type:{type:String,required:!0},color:String,size:Number},computed:{iconType:function(){return 0===this.type.indexOf("_")?"Icons":"Icon"},iconName:function(){return"Icons"===this.iconType?this.getCustomIconName(this.type):this.type},iconSize:function(){return this.size||("Icons"===this.iconType?12:void 0)},iconColor:function(){return this.color||""}},methods:{getCustomIconName:function(t){return t.slice(1)}}},p=h,f=Object(c["a"])(p,n,s,!1,null,null,null),_=f.exports;e["a"]=_},ceac:function(t,e,a){"use strict";a("ab87")},cf06:function(t,e,a){},cf09:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Row",[a("Row",[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"告警名称"},model:{value:t.alarm_name_search,callback:function(e){t.alarm_name_search=e},expression:"alarm_name_search"}}),t._v(" \n    "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" \n    "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("Card",[a("br"),a("Row",[a("Table",{attrs:{border:"",columns:t.columns,data:t.data}})],1),a("Row",[a("br"),a("Page",{attrs:{total:t.count,page_size:t.page_size,"show-elevator":"","show-total":""},on:{"on-change":t.get_alert_conf_parameter}})],1),a("Row",[a("Drawer",{attrs:{title:"告警配置",width:"720","mask-closable":this.close,styles:t.styles},model:{value:t.create,callback:function(e){t.create=e},expression:"create"}},[a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.ruleValidate}},[a("Alert",{attrs:{"show-icon":""}},[t._v("基础信息")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"告警类型","label-position":"top",prop:"type"}},[a("Select",{attrs:{placeholder:""},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("Option",{attrs:{value:"1"}},[t._v("Oracle数据库")]),a("Option",{attrs:{value:"2"}},[t._v("MySQL数据库")]),a("Option",{attrs:{value:"3"}},[t._v("Redis")]),a("Option",{attrs:{value:"4"}},[t._v("Linux主机")])],1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"告警名称","label-position":"top",prop:"name"}},[a("Input",{attrs:{placeholder:"告警名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("阈值&配置表")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"运算符","label-position":"top",prop:"judge"}},[a("Input",{attrs:{placeholder:"运算符"},model:{value:t.formData.judge,callback:function(e){t.$set(t.formData,"judge",e)},expression:"formData.judge"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"告警阈值","label-position":"top",prop:"judge_value"}},[a("Input",{attrs:{placeholder:"请输入数字"},model:{value:t.formData.judge_value,callback:function(e){t.$set(t.formData,"judge_value",e)},expression:"formData.judge_value"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"阈值描述","label-position":"top",prop:"judge_des"}},[a("Input",{attrs:{placeholder:"阈值描述"},model:{value:t.formData.judge_des,callback:function(e){t.$set(t.formData,"judge_des",e)},expression:"formData.judge_des"}})],1)],1)],1),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"告警采集数据表","label-position":"top",prop:"judge_table"}},[a("Input",{attrs:{placeholder:"告警检查数据表"},model:{value:t.formData.judge_table,callback:function(e){t.$set(t.formData,"judge_table",e)},expression:"formData.judge_table"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"告警屏蔽配置表","label-position":"top",prop:"conf_table"}},[a("Input",{attrs:{placeholder:"告警屏蔽配置表"},model:{value:t.formData.conf_table,callback:function(e){t.$set(t.formData,"conf_table",e)},expression:"formData.conf_table"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"告警屏蔽配置字段","label-position":"top",prop:"conf_column"}},[a("Input",{attrs:{placeholder:"告警屏蔽配置字段"},model:{value:t.formData.conf_column,callback:function(e){t.$set(t.formData,"conf_column",e)},expression:"formData.conf_column"}})],1)],1)],1),a("Alert",{attrs:{"show-icon":""}},[t._v("告警判断SQL配置")]),a("Row",{attrs:{gutter:32}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{prop:"judge_sql"}},[a("Input",{attrs:{type:"textarea",rows:10},model:{value:t.formData.judge_sql,callback:function(e){t.$set(t.formData,"judge_sql",e)},expression:"formData.judge_sql"}})],1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showfooter,expression:"showfooter"}],staticClass:"demo-drawer-footer"},[a("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(e){t.create=!1}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formData")}}},[t._v("提交")])],1)],1)],1)],1)],1)},s=[],r=(a("ac6a"),a("ffc1"),a("7f7f"),a("8593")),o=a("90de"),i={data:function(){return{columns:[{type:"index",minWidth:80,align:"center",sortable:!0},{title:"告警类型",key:"type",minWidth:120,render:function(t,e){var a={2:{desc:"MySQL数据库"},3:{desc:"Redis"},4:{desc:"Linux主机"},5:{desc:"Windows主机"}},n=e.row.type;return t("div",a[n]["desc"])}},{title:"告警名称",key:"name",minWidth:180},{title:"运算符",key:"judge",minWidth:180},{title:"阈值",key:"judge_value",minWidth:200},{title:"阈值说明",key:"judge_des",minWidth:215}],data:[],count:0,page_size:10,alarm_name_search:"",create:!1,showfooter:!0,close:!1,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null,formData:{type:"",name:"",judge:"",judge_value:"",judge_des:"",password:"",judge_table:"",judge_sql:"",conf_table:"",conf_column:""},ruleValidate:{type:[{required:!0,message:"此项目必填",trigger:"blur"}],name:[{required:!0,message:"此项目必填",trigger:"blur"}],judge_table:[{required:!0,message:"此项目必填",trigger:"blur"}],judge_sql:[{required:!0,message:"此项目必填",trigger:"blur"}]}}},created:function(){this.get_alarm_conf_list()},computed:{access:function(){return this.$store.state.user.access},addAccessAll:function(){return Object(o["e"])(["system.add_alarmconf"],this.access)},updateAccessAll:function(){return Object(o["e"])(["system.change_alarmconf"],this.access)},deleteAccessAll:function(){return Object(o["e"])(["system.delete_alarmconf"],this.access)}},methods:{get_alert_conf_parameter:function(t){console.log(t),this.get_alarm_conf_list("page=".concat(t))},search:function(){console.log(this.alarm_name_search),this.get_alarm_conf_list("name=".concat(this.alarm_name_search))},clear_search:function(){this.alarm_name_search="",this.get_alarm_conf_list()},get_alarm_conf_list:function(t){var e=this;Object(r["a"])(t).then((function(t){e.data=t.data.results,e.count=t.data.count,console.log(e.data)})).catch((function(t){e.$Message.error("获取告警配置信息错误 ".concat(t))}))},view:function(t){this.update(t),this.showfooter=!1,this.close=!0},handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){console.log(),t?e.updateId?(console.log(e.updateId),Object(r["g"])(e.updateId,e.formData).then((function(t){console.log(t),e.$Message.success("更新告警配置成功!"),e.get_alarm_conf_list(),e.create=!1})).catch((function(t){console.log(t.response),e.$Message.error({content:"更新告警配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})}))):createAlarmConf(e.formData).then((function(t){console.log(t),e.$Message.success("新增告警配置成功!"),e.get_alarm_conf_list(),e.create=!1})).catch((function(t){console.log(t.response),e.$Message.error({content:"新增告警配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})})):e.$Message.error("错误!")}))},add:function(){this.create=!0,this.showfooter=!0,this.close=!1,this.updateId=null,this.formData.type="1",this.formData.name="",this.formData.judge="",this.formData.judge_value="",this.formData.judge_des="",this.formData.judge_table="",this.formData.judge_sql="",this.formData.conf_table="",this.formData.conf_column=""},remove:function(t,e){var a=this;console.log(t,e),deleteLinux(e).then((function(e){console.log(e),a.$Message.success("删除linux配置成功!"),a.data.splice(t,1)})).catch((function(t){console.log(t.response),a.$Message.error({content:"删除linux配置错误 ".concat(Object.entries(t.response.data)),duration:10,closable:!0})}))},update:function(t){this.create=!0,this.showfooter=!0,this.close=!1,this.formData.type=String(this.data[t].type),this.formData.name=this.data[t].name,this.formData.judge=this.data[t].judge,this.formData.judge_value=this.data[t].judge_value,this.formData.judge_des=this.data[t].judge_des,this.formData.judge_table=this.data[t].judge_table,this.formData.judge_sql=this.data[t].judge_sql,this.formData.conf_table=this.data[t].conf_table,this.formData.conf_column=this.data[t].conf_column,this.updateId=this.data[t].id}}},l=i,c=(a("3168"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,"57542c82",null);e["default"]=u.exports},d074:function(t,e,a){"use strict";a("d930")},d08b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  "+t._s(t.name)+"\n")])},s=[],r={data:function(){return{name:"测试"}}},o=r,i=a("2877"),l=Object(i["a"])(o,n,s,!1,null,null,null);e["default"]=l.exports},d1b4:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("windows-menu",{attrs:{value:"1",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Row",[a("i-col",{attrs:{span:"9"}},[a("card",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n                主机信息\n                "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Table",{attrs:{size:"small","show-header":!1,columns:t.columns1,data:t.windows_info_data}})],1),a("card",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n                磁盘使用率\n                "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Table",{attrs:{size:"small",columns:t.columnsDisk,data:t.windows_disk_list}})],1),a("card",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n                告警\n                "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Table",{attrs:{size:"small",columns:t.columnsAlarm,data:t.alarmData}})],1)],1),a("i-col",{attrs:{span:"15"}},[a("i-col",{attrs:{span:"8"}},[a("Card",[a("simple-chart-pie",{staticStyle:{height:"150px"},attrs:{value:t.cpu_used_data,text:"CPU使用率"}})],1)],1),a("i-col",{attrs:{span:"8"}},[a("Card",[a("simple-chart-pie",{staticStyle:{height:"150px"},attrs:{value:t.physical_mem_used_data,text:"内存使用率"}})],1)],1),a("i-col",{attrs:{span:"8"}},[a("Card",[a("simple-chart-pie",{staticStyle:{height:"150px"},attrs:{value:t.virtual_mem_used_data,text:"虚拟内存使用率"}})],1)],1)],1),a("i-col",{attrs:{span:"15"}},[a("Card",[a("DatePicker",{staticStyle:{width:"250px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择时间范围"},on:{"on-change":t.handleDaterangechange}}),a("br"),a("chart-line1",{staticStyle:{height:"200px"},attrs:{title:t.chart1_title,data1:t.checktimeData,data2:t.cpuData}}),a("br"),a("chart-line1",{staticStyle:{height:"200px"},attrs:{title:t.chart2_title,data1:t.checktimeData,data2:t.memData}}),a("br"),a("chart-line1",{staticStyle:{height:"200px"},attrs:{title:t.chart3_title,data1:t.checktimeData,data2:t.virtualmemData}})],1)],1)],1)],1)],1)],1)},s=[],r=a("6308"),o=a("90de"),i=a("63a4"),l=a("946a"),c=a("8593"),u=a("c9ae"),d=a("e069"),m={name:"windows_view",components:{WindowsMenu:r["d"],InforCard:i["a"],SimpleChartPie:u["i"],ChartLine1:u["b"],ChartLine2:u["c"],ChartPie:u["g"]},data:function(){return{Tags:"",end:0,asynEndVal:487,integratedEndVal:3,data:[],windows_info:[],windows_info_list:[],windows_disk_list:[],alarmData:[],columns1:[{title:"column1",key:"column1"},{title:"column2",key:"column2"}],columnsDisk:[{title:"磁盘",key:"mount_point",minWidth:100},{title:"使用率",key:"used_percent",minWidth:100,render:function(t,e){var a=e.row.used_percent;return a>=95?t(d["Tag"],{props:{color:"error"}},a+"%"):a>=85?t(d["Tag"],{props:{color:"warning"}},a+"%"):null===a?null:t(d["Tag"],{props:{color:"success"}},a+"%")}},{title:"剩余空间(GB)",key:"free_size",minWidth:120}],columnsAlarm:[{title:"告警内容",key:"alarm_content",minWidth:250},{title:"告警时间",key:"alarm_header",minWidth:140,render:function(t,e){return t("div",Object(o["b"])(new Date(e.row.alarm_time),"yyyy-MM-dd hh:mm"))}}],windows_info_data:[],cpu_used_data:50,physical_mem_used_data:50,virtual_mem_used_data:50,checktimeData:[],cpuData:[],memData:[],virtualmemData:[],readmbData:[],writembData:[],chart1_title:["CPU","CPU使用率"],chart2_title:["内存","内存使用率"],chart3_title:["虚拟内存","虚拟内存使用率"],daterangeValue:null,startTime:"",endTime:""}},created:function(){var t=this;this.get_windows_stat("tags=".concat(this.$route.params.tags)),this.get_windows_stat_his("tags=".concat(this.$route.params.tags," ")),this.get_windows_disk("tags=".concat(this.$route.params.tags," ")),this.get_export_alarm_info("tags=".concat(this.$route.params.tags,"&alarm_type=windows")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_windows_stat("tags=".concat(t.$route.params.tags," ")),t.get_windows_stat_his("tags=".concat(t.$route.params.tags," ")),t.get_windows_disk("tags=".concat(t.$route.params.tags," ")),t.get_export_alarm_info("tags=".concat(t.$route.params.tags,"&alarm_type=windows"))}),12e4)},methods:{init:function(){},get_windows_stat:function(t){var e=this;Object(l["b"])(t).then((function(t){e.windows_info=t.data.results[0],e.windows_info_data=[{column1:"主机名: "+e.windows_info.hostname,column2:"IP信息: "+e.windows_info.ip_info},{column1:"windows发行版本: "+e.windows_info.windows_version,column2:"运行天数: "+e.windows_info.updays},{column1:"CPU型号: "+e.windows_info.cpu_type,column2:"CPU核数: "+e.windows_info.cpu_cores},{column1:"CPU频率: "+e.windows_info.cpu_speed+"(HZ)",column2:"CPU线程数: "+e.windows_info.cpu_thread}],e.cpu_used_data=e.windows_info.cpu_used_rate,e.physical_mem_used_data=e.windows_info.physical_mem_used_rate,e.virtual_mem_used_data=e.windows_info.virtual_mem_used_rate,console.log(e.windows_info)})).catch((function(t){e.$Message.error("获取windows资源信息错误 ".concat(t))}))},get_windows_stat_his:function(t){var e=this;console.log("get_windows_stat_his被调用"),Object(l["c"])(t).then((function(t){e.windows_info_list=t.data.results,e.checktimeData=e.windows_info_list.map((function(t){return console.log("windows.check_time的值是：",t.check_time),Object(o["b"])(new Date(t.check_time),"yyyy-MM-dd hh:mm")})),console.log("this.checktimeData:的值是：",e.checktimeData),e.cpuData=e.windows_info_list.map((function(t){return t.cpu_used_rate})),e.memData=e.windows_info_list.map((function(t){return t.physical_mem_used_rate})),e.virtualmemData=e.windows_info_list.map((function(t){return t.virtual_mem_used_rate}))})).catch((function(t){e.$Message.error("获取windows资源信息错误 ".concat(t))}))},get_windows_disk:function(t){var e=this;Object(l["a"])(t).then((function(t){e.windows_disk_list=t.data.results,console.log("获取到的磁盘数据是：",e.windows_disk_list)})).catch((function(t){e.$Message.error("获取windows磁盘信息错误：".concat(t))}))},get_export_alarm_info:function(t){var e=this;Object(c["d"])(t).then((function(t){e.alarmData=t.data.results,e.count=t.data.count})).catch((function(t){e.$Message.error("获取告警信息错误 ".concat(t))}))},handleDaterangechange:function(t){this.daterangeValue=t,this.startTime=t[0],this.endTime=t[1],this.get_windows_stat_his("tags=".concat(this.$route.params.tags,"&start_time=").concat(this.startTime,"&end_time=").concat(this.endTime))}},mounted:function(){this.init()},destroyed:function(){clearInterval(this.timer)}},h=m,p=(a("6a90"),a("2877")),f=Object(p["a"])(h,n,s,!1,null,null,null);e["default"]=f.exports},d299:function(t,e,a){},d2ab:function(t,e,a){"use strict";a("232c")},d2f2:function(t,e,a){},d930:function(t,e,a){},ddb9:function(t,e,a){"use strict";var n=a("2909"),s=a("f1bd"),r=a("9658"),o=[{path:"/login",name:"login",meta:{title:"Login - 登录",hideInMenu:!0},component:function(){return Promise.resolve().then(a.bind(null,"e49c"))}},{path:"/401",name:"error_401",meta:{hideInMenu:!0},component:function(){return Promise.resolve().then(a.bind(null,"f94f"))}}],i=[{path:"/",name:"_home",redirect:"/home",component:s["a"],meta:{hideInMenu:!0,notCache:!0},children:[{path:"/home",name:"home",meta:{hideInMenu:!0,title:"首页",notCache:!0,icon:"md-home"},component:function(){return a.e("chunk-2d0de679").then(a.bind(null,"8605"))}}]}],l=Object(n["a"])(Object(r["a"])()),c=[].concat(o,i,Object(n["a"])(l));e["a"]=c},ddc1:function(t,e,a){"use strict";a("cf06")},de42:function(t,e,a){},df3b:function(t,e,a){"use strict";a("faa5")},dffb:function(t,e,a){},e0b1:function(t,e,a){"use strict";a("943b")},e0d7:function(t,e,a){"use strict";a("3d13")},e282:function(t,e,a){"use strict";a("a1e9")},e401:function(t,e,a){"use strict";a.d(e,"d",(function(){return s})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=a("66df"),s=function(t){return n["a"].request({url:"/mysql/api/mysql-stat-list?".concat(t),method:"get"})},r=function(t){return n["a"].request({url:"/mysql/api/mysql-stat?".concat(t),method:"get"})},o=function(t){return n["a"].request({url:"/mysql/api/mysql-stat-his?".concat(t),method:"get"})},i=function(t){return n["a"].request({url:"/mysql/api/mysql-slowquery?".concat(t),method:"get"})}},e43b:function(t,e,a){},e49c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"login-con"},[a("Card",{attrs:{icon:"log-in",title:"欢迎登录",bordered:!1}},[a("div",{staticClass:"form-con"},[a("login-form",{on:{"on-success-valid":t.handleSubmit}}),a("p",{staticClass:"login-tip"},[t._v("请输入账户密码")])],1)])],1)])},s=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Form",{ref:"loginForm",attrs:{model:t.form,rules:t.rules},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit(e)}}},[a("FormItem",{attrs:{prop:"userName"}},[a("Input",{attrs:{placeholder:"请输入用户名"},model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[a("Icon",{attrs:{size:16,type:"ios-person"}})],1)])],1),a("FormItem",{attrs:{prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[a("Icon",{attrs:{size:14,type:"md-lock"}})],1)])],1),a("FormItem",[a("Button",{attrs:{type:"primary",long:""},on:{click:t.handleSubmit}},[t._v("登录")])],1)],1)},i=[],l={name:"LoginForm",props:{userNameRules:{type:Array,default:function(){return[{required:!0,message:"账号不能为空",trigger:"blur"}]}},passwordRules:{type:Array,default:function(){return[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},data:function(){return{form:{userName:"",password:""}}},computed:{rules:function(){return{userName:this.userNameRules,password:this.passwordRules}}},methods:{handleSubmit:function(){var t=this;this.$refs.loginForm.validate((function(e){e&&t.$emit("on-success-valid",{userName:t.form.userName,password:t.form.password})}))}}},c=l,u=a("2877"),d=Object(u["a"])(c,o,i,!1,null,null,null),m=d.exports,h=m,p=a("2f62");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={components:{LoginForm:h},methods:_(_({},Object(p["b"])(["handleLogin","getUserInfo"])),{},{handleSubmit:function(t){var e=this,a=t.userName,n=t.password;this.handleLogin({userName:a,password:n}).then((function(t){e.getUserInfo().then((function(t){e.$router.push({name:e.$config.homeName}),e.$Message.success({content:"登陆成功",duration:3})})).catch((function(t){e.$Message.error("获取个人信息错误 ".concat(t))}))})).catch((function(t){e.$Message.error("用户名或密码错误 ".concat(t))}))}})},b=g,y=(a("4b4f"),Object(u["a"])(b,n,s,!1,null,null,null));e["default"]=y.exports},e4b8:function(t,e,a){"use strict";a("8675")},e745:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("linux-menu",{attrs:{value:"2",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Row",[a("Card",[a("Table",{attrs:{size:"small",border:"",columns:t.columns,data:t.linuxdiskList}})],1)],1),a("Card",[a("DatePicker",{staticStyle:{width:"250px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择时间范围"},on:{"on-change":t.handleDaterangechange}}),a("row",[a("br"),a("i-col",{attrs:{span:"12"}},[a("chart-line2",{staticStyle:{height:"300px"},attrs:{title:t.chart1_title,data1:t.checktimeData,data2:t.rdavgkbData,data3:t.wravgkbData}}),a("br"),a("chart-line4",{staticStyle:{height:"300px"},attrs:{title:t.chart2_title,data1:t.checktimeData,data2:t.rdrtData,data3:t.wrrtData,data4:t.qtimeData,data5:t.stimeData}}),a("br"),a("chart-line5",{staticStyle:{height:"300px"},attrs:{title:t.chart3_title,data1:t.checktimeData,data2:t.rdmrgsData,data3:t.wrmrgsData,data4:t.iosData,data5:t.rdsData,data6:t.wrsData}})],1),a("i-col",{attrs:{span:"12"}},[a("chart-line2",{staticStyle:{height:"300px"},attrs:{title:t.chart4_title,data1:t.checktimeData,data2:t.rdmsData,data3:t.wrmsData}}),a("br"),a("chart-line4",{staticStyle:{height:"300px"},attrs:{title:t.chart5_title,data1:t.checktimeData,data2:t.busyData,data3:t.rdcncdData,data4:t.wrcncdData,data5:t.inprgData}})],1)],1)],1)],1)],1)],1)},s=[],r=a("6308"),o=a("63a4"),i=a("90de"),l=a("6fa1"),c=a("c9ae"),u=a("e069"),d={name:"linux_view",components:{LinuxMenu:r["a"],InforCard:o["a"],SimpleChartPie:c["i"],ChartLine2:c["c"],ChartLine4:c["e"],ChartLine5:c["f"],ChartPie:c["g"]},data:function(){return{Tags:"",end:0,asynEndVal:487,integratedEndVal:3,columns:[{type:"index",minWidth:50,align:"center"},{title:"IP地址",key:"host",minWidth:120,sortable:!0},{title:"挂载点",key:"mount_point",minWidth:100},{title:"目录大小(GB)",key:"total_size",minWidth:120},{title:"使用空间(GB)",key:"used_size",minWidth:120},{title:"剩余空间(GB)",key:"free_size",minWidth:120},{title:"使用率",key:"used_percent",minWidth:100,render:function(t,e){var a=e.row.used_percent;return a>=95?t(u["Tag"],{props:{color:"error"}},a+"%"):a>=85?t(u["Tag"],{props:{color:"warning"}},a+"%"):null===a?null:t(u["Tag"],{props:{color:"success"}},a+"%")}},{title:"设备",key:"dev",minWidth:100},{title:"采集时间",key:"check_time",minWidth:140,render:function(t,e){return t("div",Object(i["b"])(new Date(e.row.check_time),"yyyy-MM-dd hh:mm"))}}],linuxdiskList:[],linuxiostatlist:[],checktimeData:[],rdsData:[],rdavgkbData:[],rdmsData:[],rdmrgsData:[],rdcncdData:[],rdrtData:[],wrsData:[],wravgkbData:[],wrmsData:[],wrmrgsData:[],wrcncdData:[],wrrtData:[],busyData:[],inprgData:[],iosData:[],qtimeData:[],stimeData:[],chart1_title:["IO请求平均大小","读请求平均大小","写请求平均大小"],chart2_title:["IO响应时间","读响应时间","写响应时间","IO请求队列时间","IO请求服务时间"],chart3_title:["IO请求数","每秒读合并数","每秒写合并数","ios","每秒读请求数","每秒写请求数"],chart4_title:["IO吞吐量","每秒读(MB)","每秒写(MB)"],chart5_title:["磁盘繁忙度","%util","读并发数","写并发数","排队请求数"],daterangeValue:null,startTime:"",endTime:""}},created:function(){var t=this;this.get_linux_disk("tags=".concat(this.$route.params.tags," ")),this.get_linux_io_stat_his("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_linux_disk("tags=".concat(t.$route.params.tags," ")),t.get_linux_io_stat_his("tags=".concat(t.$route.params.tags," "))}),12e4)},methods:{init:function(){},get_linux_disk:function(t){var e=this;Object(l["a"])(t).then((function(t){e.linuxdiskList=t.data.results,console.log(e.linuxdiskList)})).catch((function(t){e.$Message.error("获取linux磁盘使用率信息错误 ".concat(t))}))},get_linux_io_stat_his:function(t){var e=this;Object(l["b"])(t).then((function(t){e.linuxiostatlist=t.data.results,e.checktimeData=e.linuxiostatlist.map((function(t){return Object(i["b"])(new Date(t.check_time),"yyyy-MM-dd hh:mm")})),e.rdsData=e.linuxiostatlist.map((function(t){return t.rd_s})),e.rdavgkbData=e.linuxiostatlist.map((function(t){return t.rd_avgkb})),e.rdmsData=e.linuxiostatlist.map((function(t){return t.rd_m_s})),e.rdmrgsData=e.linuxiostatlist.map((function(t){return t.rd_mrg_s})),e.rdcncdData=e.linuxiostatlist.map((function(t){return t.rd_cnc})),e.rdrtData=e.linuxiostatlist.map((function(t){return t.rd_rt})),e.wrsData=e.linuxiostatlist.map((function(t){return t.wr_s})),e.wravgkbData=e.linuxiostatlist.map((function(t){return t.wr_avgkb})),e.wrmsData=e.linuxiostatlist.map((function(t){return t.wr_m_s})),e.wrmrgsData=e.linuxiostatlist.map((function(t){return t.wr_mrg_s})),e.wrcncdData=e.linuxiostatlist.map((function(t){return t.wr_cnc})),e.wrrtData=e.linuxiostatlist.map((function(t){return t.wr_rt})),e.busyData=e.linuxiostatlist.map((function(t){return t.busy})),e.inprgData=e.linuxiostatlist.map((function(t){return t.in_prg})),e.iosData=e.linuxiostatlist.map((function(t){return t.io_s})),e.qtimeData=e.linuxiostatlist.map((function(t){return t.qtime})),e.stimeData=e.linuxiostatlist.map((function(t){return t.stime})),console.log(e.linuxinfo)})).catch((function(t){e.$Message.error("获取linux IO信息错误 ".concat(t))}))},handleDaterangechange:function(t){this.daterangeValue=t,this.startTime=t[0],this.endTime=t[1],this.get_linux_io_stat_his("tags=".concat(this.$route.params.tags,"&start_time=").concat(this.startTime,"&end_time=").concat(this.endTime))}},mounted:function(){this.init()},destroyed:function(){clearInterval(this.timer)}},m=d,h=(a("3477"),a("2877")),p=Object(h["a"])(m,n,s,!1,null,null,null);e["default"]=p.exports},ea2c:function(t,e,a){},ec26:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("redis-menu",{attrs:{value:"1",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Row",[a("i-col",{attrs:{span:"9"}},[a("card",[a("row",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n           实例信息\n        "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Col",{attrs:{span:"11"}},[a("infor-card",{staticStyle:{background:"lightsteelblue"},attrs:{shadow:""}},[a("count-to-int",{attrs:{end:this.total_keys,"count-class":"count-style"}}),a("p",[t._v("对象数")])],1)],1),a("Col",{attrs:{span:"11",offset:"2"}},[a("infor-card",{staticStyle:{background:"lightsteelblue"},attrs:{shadow:""}},[a("count-to",{attrs:{end:this.used_memory,"count-class":"count-style"}}),a("p",[t._v("使用内存(MB)")])],1)],1)],1),a("br"),a("row",[a("Col",{attrs:{span:"11"}},[a("infor-card",{staticStyle:{background:"lightsteelblue"},attrs:{shadow:""}},[a("count-to",{attrs:{end:this.hit_rate,"count-class":"count-style"}}),a("p",[t._v("累计命中率(%)")])],1)],1),a("Col",{attrs:{span:"11",offset:"2"}},[a("infor-card",{staticStyle:{background:"lightsteelblue"},attrs:{shadow:""}},[a("count-to-int",{attrs:{end:this.connected_clients,"count-class":"count-style"}}),a("p",[t._v("连接数")])],1)],1)],1)],1),a("card",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n           数据库信息\n        "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Table",{attrs:{size:"small","show-header":!1,columns:t.columns1,data:t.redisinfoData}})],1),a("card",[a("Alert",{attrs:{"show-icon":""}},[t._v("\n           告警\n        "),a("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"})],1),a("Table",{attrs:{size:"small",columns:t.columnsAlarm,data:t.alarmData}})],1)],1),a("i-col",{attrs:{span:"15"}},[a("Card",[a("DatePicker",{staticStyle:{width:"250px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择时间范围"},on:{"on-change":t.handleDaterangechange}}),a("br"),a("chart-line1",{staticStyle:{height:"200px"},attrs:{title:t.chart5_title,data1:t.checktimeData,data2:t.command_countData}}),a("br"),a("chart-line1",{staticStyle:{height:"200px"},attrs:{title:t.chart6_title,data1:t.checktimeData,data2:t.hitsData}}),a("br"),a("chart-line1",{staticStyle:{height:"200px"},attrs:{title:t.chart1_title,data1:t.checktimeData,data2:t.memData}}),a("br"),a("chart-line4",{staticStyle:{height:"200px"},attrs:{title:t.chart2_title,data1:t.checktimeData,data2:t.net_inputData,data3:t.net_outData}}),a("br"),a("chart-line1",{staticStyle:{height:"200px"},attrs:{title:t.chart3_title,data1:t.checktimeData,data2:t.connected_clientsData}}),a("br"),a("chart-line1",{staticStyle:{height:"200px"},attrs:{title:t.chart4_title,data1:t.checktimeData,data2:t.total_keysData}})],1)],1)],1)],1)],1)],1)},s=[],r=a("53ca"),o=(a("c5f6"),a("90de")),i=a("6308"),l=a("63a4"),c=a("9349"),u=a("3334"),d=a("8593"),m=a("c9ae"),h={name:"redis_view",components:{RedisMenu:i["c"],InforCard:l["a"],SimpleChartPie:m["i"],ChartLine1:m["b"],ChartLine2:m["c"],ChartLine3:m["d"],ChartLine4:m["e"],CountTo:c["a"],CountToInt:c["b"],ChartPie:m["g"]},data:function(){return{Tags:"",end:0,asynEndVal:487,integratedEndVal:3,data:[],redisinfo:[],redisinfoList:[],columns1:[{title:"column1",key:"column1"},{title:"column2",key:"column2"}],columnsAlarm:[{title:"告警内容",key:"alarm_content",minWidth:250},{title:"告警时间",key:"alarm_header",minWidth:140,render:function(t,e){return t("div",Object(o["b"])(new Date(e.row.alarm_time),"yyyy-MM-dd hh:mm"))}}],alarmData:[],redisinfoData:[],processpieData:40,total_keys:0,used_memory:0,hits_all:0,misses_all:0,hit_rate:0,redis_status:"",connected_clients:0,checktimeData:[],memData:[],net_inputData:[],net_outData:[],connected_clientsData:[],total_keysData:[],command_countData:[],hitsData:[],chart1_title:["内存使用量","memory_used"],chart2_title:["网络流量","net_input","net_output"],chart3_title:["客户端连接统计","connected_clients"],chart4_title:["键个数统计","total_keys"],chart5_title:["命令统计","command_count"],chart6_title:["命中统计","hits"],daterangeValue:null,startTime:"",endTime:""}},created:function(){var t=this;this.get_redis_stat("tags=".concat(this.$route.params.tags," ")),this.get_redis_stat_his("tags=".concat(this.$route.params.tags," ")),this.get_export_alarm_info("tags=".concat(this.$route.params.tags,"&alarm_type=redis ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_redis_stat("tags=".concat(t.$route.params.tags," ")),t.get_redis_stat_his("tags=".concat(t.$route.params.tags," ")),t.get_export_alarm_info("tags=".concat(t.$route.params.tags,"&alarm_type=redis "))}),2e4)},methods:{init:function(){},get_redis_stat:function(t){var e=this;Object(u["e"])(t).then((function(t){e.redisinfo=t.data.results[0];var a=e.redisinfo.status;e.redis_status=0===a?"运行中":"连接失败",e.redisinfoData=[{column1:"版本: "+e.redisinfo.version,column2:"角色: "+e.redisinfo.role},{column1:"实例地址: "+e.redisinfo.host+":"+e.redisinfo.port,column2:"实例类型: "+e.redisinfo.redis_mode},{column1:"运行状态: "+e.redis_status,column2:"运行天数: "+e.redisinfo.updays}],e.total_keys=e.redisinfo.total_keys,e.used_memory=e.redisinfo.used_memory,e.connected_clients=e.redisinfo.connected_clients,e.hits_all=e.redisinfo.hits_all,e.misses_all=e.redisinfo.misses_all,e.hits_all+e.misses_all>0&&(e.hit_rate=Number(Number(100*e.hits_all/(e.hits_all+e.misses_all)).toFixed(2))),console.log("this.redisinfo的值是：",e.redisinfo),console.log("this.hit_rate的值是：",e.hit_rate,Object(r["a"])(e.hit_rate))})).catch((function(t){e.$Message.error("获取redis资源信息错误 ".concat(t))}))},get_redis_stat_his:function(t){var e=this;Object(u["f"])(t).then((function(t){e.redisinfoList=t.data.results,e.checktimeData=e.redisinfoList.map((function(t){return Object(o["b"])(new Date(t.check_time),"yyyy-MM-dd hh:mm")})),e.memData=e.redisinfoList.map((function(t){return t.used_memory})),e.net_inputData=e.redisinfoList.map((function(t){return(Number(t.net_input_byte)/1024).toFixed(2)})),e.net_outData=e.redisinfoList.map((function(t){return(Number(t.net_out_byte)/1024).toFixed(2)})),e.connected_clientsData=e.redisinfoList.map((function(t){return t.connected_clients})),e.total_keysData=e.redisinfoList.map((function(t){return t.total_keys})),e.command_countData=e.redisinfoList.map((function(t){return t.command_count})),e.hitsData=e.redisinfoList.map((function(t){return t.hits}))})).catch((function(t){e.$Message.error("获取redis资源信息错误 ".concat(t))}))},get_export_alarm_info:function(t){var e=this;Object(d["d"])(t).then((function(t){e.alarmData=t.data.results,e.count=t.data.count})).catch((function(t){e.$Message.error("获取告警信息错误 ".concat(t))}))},handleDaterangechange:function(t){this.daterangeValue=t,this.startTime=t[0],this.endTime=t[1],this.get_redis_stat_his("tags=".concat(this.$route.params.tags,"&start_time=").concat(this.startTime,"&end_time=").concat(this.endTime))}},mounted:function(){this.init()},destroyed:function(){clearInterval(this.timer)}},p=h,f=(a("b002"),a("2877")),_=Object(f["a"])(p,n,s,!1,null,null,null);e["default"]=_.exports},ed93:function(t,e,a){},ef21:function(t,e,a){},f017:function(t,e,a){},f121:function(t,e,a){"use strict";e["a"]={title:"卓豪监控平台",cookieExpires:1,useI18n:!1,baseUrl:{dev:"http://127.0.0.1:8000/",pro:"http://192.168.16.181:8888/"},homeName:"home",plugin:{}}},f1bd:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{staticClass:"main",staticStyle:{height:"100%"}},[a("Sider",{staticClass:"left-sider",style:{overflow:"hidden"},attrs:{"hide-trigger":"",collapsible:"",width:256,"collapsed-width":64},model:{value:t.collapsed,callback:function(e){t.collapsed=e},expression:"collapsed"}},[a("side-menu",{ref:"sideMenu",attrs:{accordion:"","active-name":t.$route.name,collapsed:t.collapsed,"menu-list":t.menuList},on:{"on-select":t.turnToPage}},[a("div",{staticClass:"logo-con"},[a("img",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed,expression:"!collapsed"}],key:"fdy-logo",attrs:{src:t.zhLogo,alt:"卓豪监控平台"}})])])],1),a("Layout",[a("Header",{staticClass:"header-con"},[a("header-bar",{attrs:{collapsed:t.collapsed},on:{"on-coll-change":t.handleCollapsedChange}},[a("user",{attrs:{"user-avatar":t.userAvatar}}),t.$config.useI18n?a("language",{staticStyle:{"margin-right":"10px"},attrs:{lang:t.local},on:{"on-lang-change":t.setLocal}}):t._e(),t.$config.plugin["error-store"]&&t.$config.plugin["error-store"].showInHeader?a("error-store",{attrs:{"has-read":t.hasReadErrorPage,count:t.errorCount}}):t._e(),a("fullscreen",{staticStyle:{"margin-right":"10px"},model:{value:t.isFullscreen,callback:function(e){t.isFullscreen=e},expression:"isFullscreen"}})],1)],1),a("Content",{staticClass:"main-content-con"},[a("Layout",{staticClass:"main-layout-con"},[a("div",{staticClass:"tag-nav-wrapper"},[a("tags-nav",{attrs:{value:t.$route,list:t.tagNavList},on:{input:t.handleClick,"on-close":t.handleCloseTag}})],1),a("Content",{staticClass:"content-wrapper"},[a("keep-alive",{attrs:{include:t.cacheList}},[a("router-view")],1),a("ABackTop",{attrs:{height:100,bottom:80,right:50,container:".content-wrapper"}})],1)],1)],1)],1)],1)},s=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("7514"),a("28a5"),a("7f7f"),a("2909")),o=a("ade3"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-menu-wrapper"},[t._t("default"),a("Menu",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed,expression:"!collapsed"}],ref:"menu",attrs:{"active-name":t.activeName,"open-names":t.openedNames,accordion:t.accordion,theme:t.theme,width:"auto"},on:{"on-select":t.handleSelect}},[t._l(t.menuList,(function(e){return[e.children&&1===e.children.length?[t.showChildren(e)?a("side-menu-item",{key:"menu-"+e.name,attrs:{"parent-item":e}}):a("menu-item",{key:"menu-"+e.children[0].name,attrs:{name:t.getNameOrHref(e,!0)}},[a("common-icon",{attrs:{type:e.children[0].icon||""}}),a("span",[t._v(t._s(t.showTitle(e.children[0])))])],1)]:[t.showChildren(e)?a("side-menu-item",{key:"menu-"+e.name,attrs:{"parent-item":e}}):a("menu-item",{key:"menu-"+e.name,attrs:{name:t.getNameOrHref(e)}},[a("common-icon",{attrs:{type:e.icon||""}}),a("span",[t._v(t._s(t.showTitle(e)))])],1)]]}))],2),a("div",{directives:[{name:"show",rawName:"v-show",value:t.collapsed,expression:"collapsed"}],staticClass:"menu-collapsed",attrs:{list:t.menuList}},[t._l(t.menuList,(function(e){return[e.children&&e.children.length>1?a("collapsed-menu",{key:"drop-menu-"+e.name,attrs:{"hide-title":"","root-icon-size":t.rootIconSize,"icon-size":t.iconSize,theme:t.theme,"parent-item":e},on:{"on-click":t.handleSelect}}):a("Tooltip",{key:"drop-menu-"+e.name,attrs:{transfer:"",content:t.showTitle(e.children&&e.children[0]?e.children[0]:e),placement:"right"}},[a("a",{staticClass:"drop-menu-a",style:{textAlign:"center"},on:{click:function(a){t.handleSelect(t.getNameOrHref(e,!0))}}},[a("common-icon",{attrs:{size:t.rootIconSize,color:t.textColor,type:e.icon||e.children&&e.children[0].icon}})],1)])]}))],2)],2)},l=[],c=(a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Submenu",{attrs:{name:""+t.parentName}},[a("template",{slot:"title"},[a("common-icon",{attrs:{type:t.parentItem.icon||""}}),a("span",[t._v(t._s(t.showTitle(t.parentItem)))])],1),t._l(t.children,(function(e){return[e.children&&1===e.children.length?[t.showChildren(e)?a("side-menu-item",{key:"menu-"+e.name,attrs:{"parent-item":e}}):a("menu-item",{key:"menu-"+e.children[0].name,attrs:{name:t.getNameOrHref(e,!0)}},[a("common-icon",{attrs:{type:e.children[0].icon||""}}),a("span",[t._v(t._s(t.showTitle(e.children[0])))])],1)]:[t.showChildren(e)?a("side-menu-item",{key:"menu-"+e.name,attrs:{"parent-item":e}}):a("menu-item",{key:"menu-"+e.name,attrs:{name:t.getNameOrHref(e)}},[a("common-icon",{attrs:{type:e.icon||""}}),a("span",[t._v(t._s(t.showTitle(e)))])],1)]]}))],2)}),u=[],d=a("cb21"),m=a("c276"),h={components:{CommonIcon:d["a"]},methods:{showTitle:function(t){return Object(m["s"])(t,this)},showChildren:function(t){return t.children&&(t.children.length>1||t.meta&&t.meta.showAlways)},getNameOrHref:function(t,e){return t.href?"isTurnByHref_".concat(t.href):e?t.children[0].name:t.name}}},p={props:{parentItem:{type:Object,default:function(){}},theme:String,iconSize:Number},computed:{parentName:function(){return this.parentItem.name},children:function(){return this.parentItem.children},textColor:function(){return"dark"===this.theme?"#fff":"#495060"}}},f={name:"SideMenuItem",mixins:[h,p]},_=f,g=a("2877"),b=Object(g["a"])(_,c,u,!1,null,null,null),y=b.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Dropdown",{ref:"dropdown",class:t.hideTitle?"":"collased-menu-dropdown",attrs:{transfer:t.hideTitle,placement:t.placement},on:{"on-click":t.handleClick}},[a("a",{staticClass:"drop-menu-a",style:{textAlign:t.hideTitle?"":"left"},attrs:{type:"text"},on:{mouseover:function(e){return t.handleMousemove(e,t.children)}}},[a("common-icon",{attrs:{size:t.rootIconSize,color:t.textColor,type:t.parentItem.icon}}),t.hideTitle?t._e():a("span",{staticClass:"menu-title"},[t._v(t._s(t.showTitle(t.parentItem)))]),t.hideTitle?t._e():a("Icon",{staticStyle:{float:"right"},attrs:{type:"ios-arrow-forward",size:16}})],1),a("DropdownMenu",{ref:"dropdown",attrs:{slot:"list"},slot:"list"},[t._l(t.children,(function(e){return[t.showChildren(e)?a("collapsed-menu",{key:"drop-"+e.name,attrs:{"icon-size":t.iconSize,"parent-item":e}}):a("DropdownItem",{key:"drop-"+e.name,attrs:{name:e.name}},[a("common-icon",{attrs:{size:t.iconSize,type:e.icon}}),a("span",{staticClass:"menu-title"},[t._v(t._s(t.showTitle(e)))])],1)]}))],2)],1)},w=[],x={name:"CollapsedMenu",mixins:[h,p],props:{hideTitle:{type:Boolean,default:!1},rootIconSize:{type:Number,default:16}},data:function(){return{placement:"right-end"}},methods:{handleClick:function(t){this.$emit("on-click",t)},handleMousemove:function(t,e){var a=t.pageY,n=38*e.length,s=a+n<window.innerHeight;this.placement=s?"right-start":"right-end"}},mounted:function(){var t=Object(m["b"])(this.$refs.dropdown.$el,["ivu-select-dropdown","ivu-dropdown-transfer"]);t&&(t.style.overflow="visible")}},D=x,k=Object(g["a"])(D,v,w,!1,null,null,null),O=k.exports,S=a("90de"),C={name:"SideMenu",mixins:[h],components:{SideMenuItem:y,CollapsedMenu:O},props:{menuList:{type:Array,default:function(){return[]}},collapsed:{type:Boolean},theme:{type:String,default:"dark"},rootIconSize:{type:Number,default:20},iconSize:{type:Number,default:16},accordion:Boolean,activeName:{type:String,default:""},openNames:{type:Array,default:function(){return[]}}},data:function(){return{openedNames:[]}},methods:{handleSelect:function(t){this.$emit("on-select",t)},getOpenedNamesByActiveName:function(t){return this.$route.matched.map((function(t){return t.name})).filter((function(e){return e!==t}))},updateOpenName:function(t){t===this.$config.homeName?this.openedNames=[]:this.openedNames=this.getOpenedNamesByActiveName(t)}},computed:{textColor:function(){return"dark"===this.theme?"#fff":"#495060"}},watch:{activeName:function(t){this.accordion?this.openedNames=this.getOpenedNamesByActiveName(t):this.openedNames=Object(S["d"])(this.openedNames,this.getOpenedNamesByActiveName(t))},openNames:function(t){this.openedNames=t},openedNames:function(){var t=this;this.$nextTick((function(){t.$refs.menu.updateOpened()}))}},mounted:function(){this.openedNames=Object(S["d"])(this.openedNames,this.getOpenedNamesByActiveName(name))}},$=C,j=(a("b554"),Object(g["a"])($,i,l,!1,null,null,null)),I=j.exports,q=I,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-bar"},[a("sider-trigger",{attrs:{collapsed:t.collapsed,icon:"md-menu"},on:{"on-change":t.handleCollpasedChange}}),a("custom-bread-crumb",{staticStyle:{"margin-left":"30px"},attrs:{"show-icon":"",list:t.breadCrumbList}}),a("div",{staticClass:"custom-content-con"},[t._t("default")],2)],1)},T=[],M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{class:["sider-trigger-a",t.collapsed?"collapsed":""],attrs:{type:"text"},on:{click:t.handleChange}},[a("Icon",{attrs:{type:t.icon,size:t.size}})],1)},z=[],W={name:"siderTrigger",props:{collapsed:Boolean,icon:{type:String,default:"navicon-round"},size:{type:Number,default:26}},methods:{handleChange:function(){this.$emit("on-change",!this.collapsed)}}},A=W,P=(a("b858"),Object(g["a"])(A,M,z,!1,null,null,null)),N=P.exports,F=N,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-bread-crumb"},[a("Breadcrumb",{style:{fontSize:t.fontSize+"px"}},t._l(t.list,(function(e){return a("BreadcrumbItem",{key:"bread-crumb-"+e.name,attrs:{to:e.to}},[a("common-icon",{staticStyle:{"margin-right":"4px"},attrs:{type:e.icon||""}}),t._v("\n      "+t._s(t.showTitle(e))+"\n    ")],1)})),1)],1)},R=[],E=(a("2785"),{name:"customBreadCrumb",components:{CommonIcon:d["a"]},props:{list:{type:Array,default:function(){return[]}},fontSize:{type:Number,default:14},showIcon:{type:Boolean,default:!1}},methods:{showTitle:function(t){return Object(m["s"])(t,this)},isCustomIcon:function(t){return 0===t.indexOf("_")},getCustomIconName:function(t){return t.slice(1)}}}),V=E,H=Object(g["a"])(V,B,R,!1,null,null,null),U=H.exports,Q=U,G=(a("1a88"),{name:"HeaderBar",components:{siderTrigger:F,customBreadCrumb:Q},props:{collapsed:Boolean},computed:{breadCrumbList:function(){return this.$store.state.app.breadCrumbList}},methods:{handleCollpasedChange:function(t){this.$emit("on-coll-change",t)}}}),K=G,J=Object(g["a"])(K,L,T,!1,null,null,null),Y=J.exports,X=Y,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tags-nav"},[a("div",{staticClass:"close-con"},[a("Dropdown",{staticStyle:{"margin-top":"7px"},attrs:{transfer:""},on:{"on-click":t.handleTagsOption}},[a("Button",{attrs:{size:"small",type:"text"}},[a("Icon",{attrs:{size:18,type:"ios-close-circle-outline"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"close-all"}},[t._v("关闭所有")]),a("DropdownItem",{attrs:{name:"close-others"}},[t._v("关闭其他")])],1)],1)],1),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:t.contextMenuLeft+"px",top:t.contextMenuTop+"px"}},t._l(t.menuList,(function(e,n){return a("li",{key:n,on:{click:function(e){return t.handleTagsOption(n)}}},[t._v(t._s(e))])})),0),a("div",{staticClass:"btn-con left-btn"},[a("Button",{attrs:{type:"text"},on:{click:function(e){return t.handleScroll(240)}}},[a("Icon",{attrs:{size:18,type:"ios-arrow-back"}})],1)],1),a("div",{staticClass:"btn-con right-btn"},[a("Button",{attrs:{type:"text"},on:{click:function(e){return t.handleScroll(-240)}}},[a("Icon",{attrs:{size:18,type:"ios-arrow-forward"}})],1)],1),a("div",{ref:"scrollOuter",staticClass:"scroll-outer",on:{DOMMouseScroll:t.handlescroll,mousewheel:t.handlescroll}},[a("div",{ref:"scrollBody",staticClass:"scroll-body",style:{left:t.tagBodyLeft+"px"}},[a("transition-group",{attrs:{name:"taglist-moving-animation"}},t._l(t.list,(function(e,n){return a("Tag",{key:"tag-nav-"+n,ref:"tagsPageOpened",refInFor:!0,attrs:{type:"dot",name:e.name,"data-route-item":e,closable:e.name!==t.$config.homeName,color:t.isCurrentTag(e)?"primary":"default"},on:{"on-close":function(a){return t.handleClose(e)}},nativeOn:{click:function(a){return t.handleClick(e)},contextmenu:function(a){return a.preventDefault(),t.contextMenu(e,a)}}},[t._v(t._s(t.showTitleInside(e)))])})),1)],1)])])},tt=[],et=(a("6762"),a("2fdb"),a("e069")),at={before_close_normal:function(t){et["Modal"].confirm({title:"确定要关闭这一页吗",onOk:function(){t(!0)},onCancel:function(){t(!1)}})}},nt=at,st={name:"TagsNav",props:{value:Object,list:{type:Array,default:function(){return[]}}},data:function(){return{tagBodyLeft:0,rightOffset:40,outerPadding:4,contextMenuLeft:0,contextMenuTop:0,visible:!1,menuList:{others:"关闭其他",all:"关闭所有"}}},computed:{currentRouteObj:function(){var t=this.value,e=t.name,a=t.params,n=t.query;return{name:e,params:a,query:n}}},methods:{handlescroll:function(t){var e=t.type,a=0;"DOMMouseScroll"!==e&&"mousewheel"!==e||(a=t.wheelDelta?t.wheelDelta:40*-(t.detail||0)),this.handleScroll(a)},handleScroll:function(t){var e=this.$refs.scrollOuter.offsetWidth,a=this.$refs.scrollBody.offsetWidth;t>0?this.tagBodyLeft=Math.min(0,this.tagBodyLeft+t):e<a?this.tagBodyLeft<-(a-e)?this.tagBodyLeft=this.tagBodyLeft:this.tagBodyLeft=Math.max(this.tagBodyLeft+t,e-a):this.tagBodyLeft=0},handleTagsOption:function(t){var e=this;if(t.includes("all")){var a=this.list.filter((function(t){return t.name===e.$config.homeName}));this.$emit("on-close",a,"all")}else if(t.includes("others")){var n=this.list.filter((function(t){return Object(m["m"])(e.currentRouteObj,t)||t.name===e.$config.homeName}));this.$emit("on-close",n,"others",this.currentRouteObj),setTimeout((function(){e.getTagElementByRoute(e.currentRouteObj)}),100)}},handleClose:function(t){var e=this;t.meta&&t.meta.beforeCloseName&&t.meta.beforeCloseName in nt?new Promise(nt[t.meta.beforeCloseName]).then((function(a){a&&e.close(t)})):this.close(t)},close:function(t){var e=this.list.filter((function(e){return!Object(m["m"])(t,e)}));this.$emit("on-close",e,void 0,t)},handleClick:function(t){this.$emit("input",t)},showTitleInside:function(t){return Object(m["s"])(t,this)},isCurrentTag:function(t){return Object(m["m"])(this.currentRouteObj,t)},moveToView:function(t){var e=this.$refs.scrollOuter.offsetWidth,a=this.$refs.scrollBody.offsetWidth;a<e?this.tagBodyLeft=0:t.offsetLeft<-this.tagBodyLeft?this.tagBodyLeft=-t.offsetLeft+this.outerPadding:t.offsetLeft>-this.tagBodyLeft&&t.offsetLeft+t.offsetWidth<-this.tagBodyLeft+e?this.tagBodyLeft=Math.min(0,e-t.offsetWidth-t.offsetLeft-this.outerPadding):this.tagBodyLeft=-(t.offsetLeft-(e-this.outerPadding-t.offsetWidth))},getTagElementByRoute:function(t){var e=this;this.$nextTick((function(){e.refsTag=e.$refs.tagsPageOpened,e.refsTag.forEach((function(a,n){if(Object(m["m"])(t,a.$attrs["data-route-item"])){var s=e.refsTag[n].$el;e.moveToView(s)}}))}))},contextMenu:function(t,e){if(t.name!==this.$config.homeName){this.visible=!0;var a=this.$el.getBoundingClientRect().left;this.contextMenuLeft=e.clientX-a+10,this.contextMenuTop=e.clientY-64}},closeMenu:function(){this.visible=!1}},watch:{$route:function(t){this.getTagElementByRoute(t)},visible:function(t){t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){var t=this;setTimeout((function(){t.getTagElementByRoute(t.$route)}),200)}},rt=st,ot=(a("37a8"),Object(g["a"])(rt,Z,tt,!1,null,null,null)),it=ot.exports,lt=it,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-avatar-dropdown"},[a("Dropdown",{on:{"on-click":t.handleClick}},[a("Avatar",{staticStyle:{"background-color":"#87d068"},attrs:{icon:"ios-person"}}),a("Icon",{attrs:{size:18,type:"md-arrow-dropdown"}}),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"logout"}},[t._v("退出登录")])],1)],1)],1)},ut=[],dt=(a("3daa"),a("2f62"));function mt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function ht(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):mt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var pt={name:"User",props:{userAvatar:{type:String,default:""}},methods:ht(ht({},Object(dt["b"])(["handleLogOut"])),{},{logout:function(){var t=this;this.handleLogOut().then((function(){t.$router.push({name:"login"})}))},message:function(){},handleClick:function(t){switch(t){case"logout":this.logout();break;case"message":this.message();break}}})},ft=pt,_t=Object(g["a"])(ft,ct,ut,!1,null,null,null),gt=_t.exports,bt=gt,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.classes,style:t.styles,on:{click:t.back}},[t._t("default",[a("div",{class:t.innerClasses},[a("i",{staticClass:"ivu-icon ivu-icon-ios-arrow-up"})])])],2)},vt=[],wt="ivu-back-top",xt={name:"ABackTop",props:{height:{type:Number,default:400},bottom:{type:Number,default:30},right:{type:Number,default:30},duration:{type:Number,default:1e3},container:{type:null,default:window}},data:function(){return{backTop:!1}},mounted:function(){Object(S["i"])(this.containerEle,"scroll",this.handleScroll),Object(S["i"])(this.containerEle,"resize",this.handleScroll)},beforeDestroy:function(){Object(S["h"])(this.containerEle,"scroll",this.handleScroll),Object(S["h"])(this.containerEle,"resize",this.handleScroll)},computed:{classes:function(){return["".concat(wt),Object(o["a"])({},"".concat(wt,"-show"),this.backTop)]},styles:function(){return{bottom:"".concat(this.bottom,"px"),right:"".concat(this.right,"px")}},innerClasses:function(){return"".concat(wt,"-inner")},containerEle:function(){return this.container===window?window:document.querySelector(this.container)}},methods:{handleScroll:function(){this.backTop=this.containerEle.scrollTop>=this.height},back:function(){var t="string"===typeof this.container?this.containerEle:document.documentElement||document.body,e=t.scrollTop;Object(m["o"])(this.containerEle,e,0,this.duration),this.$emit("on-click")}}},Dt=xt,kt=Object(g["a"])(Dt,yt,vt,!1,null,null,null),Ot=kt.exports,St=Ot,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showFullScreenBtn?a("div",{staticClass:"full-screen-btn-con"},[a("Tooltip",{attrs:{content:t.value?"退出全屏":"全屏",placement:"bottom"}},[a("Icon",{attrs:{type:t.value?"md-contract":"md-expand",size:23},nativeOn:{click:function(e){return t.handleChange(e)}}})],1)],1):t._e()},$t=[],jt={name:"Fullscreen",computed:{showFullScreenBtn:function(){return window.navigator.userAgent.indexOf("MSIE")<0}},props:{value:{type:Boolean,default:!1}},methods:{handleFullscreen:function(){var t=document.body;this.value?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},handleChange:function(){this.handleFullscreen()}},mounted:function(){var t=this,e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;e=!!e,document.addEventListener("fullscreenchange",(function(){t.$emit("input",!t.value),t.$emit("on-change",!t.value)})),document.addEventListener("mozfullscreenchange",(function(){t.$emit("input",!t.value),t.$emit("on-change",!t.value)})),document.addEventListener("webkitfullscreenchange",(function(){t.$emit("input",!t.value),t.$emit("on-change",!t.value)})),document.addEventListener("msfullscreenchange",(function(){t.$emit("input",!t.value),t.$emit("on-change",!t.value)})),this.$emit("input",e)}},It=jt,qt=(a("e282"),Object(g["a"])(It,Ct,$t,!1,null,null,null)),Lt=qt.exports,Tt=Lt,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Dropdown",{attrs:{trigger:"click"},on:{"on-click":t.selectLang}},[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("\n      "+t._s(t.title)+"\n      "),a("Icon",{attrs:{size:18,type:"md-arrow-dropdown"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(t.localList,(function(e,n){return a("DropdownItem",{key:"lang-"+n,attrs:{name:n}},[t._v(t._s(e))])})),1)],1)],1)},zt=[],Wt={name:"Language",props:{lang:String},data:function(){return{langList:{"zh-CN":"语言","zh-TW":"語言","en-US":"Lang"},localList:{"zh-CN":"中文简体","zh-TW":"中文繁体","en-US":"English"}}},watch:{lang:function(t){this.$i18n.locale=t}},computed:{title:function(){return this.langList[this.lang]}},methods:{selectLang:function(t){this.$emit("on-lang-change",t)}}},At=Wt,Pt=Object(g["a"])(At,Mt,zt,!1,null,null,null),Nt=Pt.exports,Ft=Nt,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error-store"},[a("Badge",{attrs:{dot:"",count:t.countComputed}},[a("Button",{attrs:{type:"text"},on:{click:t.openErrorLoggerPage}},[a("Icon",{attrs:{size:20,type:"ios-bug"}})],1)],1)],1)},Rt=[],Et={name:"ErrorStore",props:{count:{type:Number,default:0},hasRead:{type:Boolean,default:!1}},computed:{countComputed:function(){return this.hasRead?0:this.count}},methods:{openErrorLoggerPage:function(){this.$router.push({name:"error_logger_page"})}}},Vt=Et,Ht=(a("c038"),Object(g["a"])(Vt,Bt,Rt,!1,null,null,null)),Ut=Ht.exports,Qt=Ut,Gt=a("ddb9"),Kt=a("670f"),Jt=a.n(Kt);a("7a3c");function Yt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Xt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Yt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Zt={name:"Main",components:{SideMenu:q,HeaderBar:X,Language:Ft,TagsNav:lt,Fullscreen:Tt,ErrorStore:Qt,User:bt,ABackTop:St},data:function(){return{collapsed:!1,zhLogo:Jt.a,isFullscreen:!1}},computed:Xt(Xt({},Object(dt["c"])(["errorCount"])),{},{tagNavList:function(){return this.$store.state.app.tagNavList},tagRouter:function(){return this.$store.state.app.tagRouter},userAvatar:function(){return this.$store.state.user.avatarImgPath},cacheList:function(){var t=["ParentView"].concat(Object(r["a"])(this.tagNavList.length?this.tagNavList.filter((function(t){return!(t.meta&&t.meta.notCache)})).map((function(t){return t.name})):[]));return t},menuList:function(){return this.$store.getters.menuList},local:function(){return this.$store.state.app.local},hasReadErrorPage:function(){return this.$store.state.app.hasReadErrorPage}}),methods:Xt(Xt(Xt({},Object(dt["d"])(["setBreadCrumb","setTagNavList","addTag","setLocal","setHomeRoute","closeTag"])),Object(dt["b"])(["handleLogin"])),{},{turnToPage:function(t){var e={},a=e.name,n=e.params,s=e.query;"string"===typeof t?a=t:(a=t.name,n=t.params,s=t.query),a.indexOf("isTurnByHref_")>-1?window.open(a.split("_")[1]):this.$router.push({name:a,params:n,query:s})},handleCollapsedChange:function(t){this.collapsed=t},handleCloseTag:function(t,e,a){"others"!==e&&("all"===e?this.turnToPage(this.$config.homeName):Object(m["m"])(this.$route,a)&&this.closeTag(a)),this.setTagNavList(t)},handleClick:function(t){this.turnToPage(t)}}),watch:{$route:function(t){var e=t.name,a=t.query,n=t.params,s=t.meta;this.addTag({route:{name:e,query:a,params:n,meta:s},type:"push"}),this.setBreadCrumb(t),this.setTagNavList(Object(m["f"])(this.tagNavList,t)),this.$refs.sideMenu.updateOpenName(t.name)}},mounted:function(){var t=this;this.setTagNavList(),this.setHomeRoute(Gt["a"]);var e=this.$route,a=e.name,n=e.params,s=e.query,r=e.meta;this.addTag({route:{name:a,params:n,query:s,meta:r}}),this.setBreadCrumb(this.$route),this.setLocal(this.$i18n.locale),this.tagNavList.find((function(e){return e.name===t.$route.name}))||this.$router.push({name:this.$config.homeName})}},te=Zt,ee=Object(g["a"])(te,n,s,!1,null,null,null),ae=ee.exports;e["a"]=ae},f634:function(t,e,a){},f692:function(t,e,a){"use strict";a("8a5c")},f6ec:function(t,e,a){"use strict";a("5882")},f718:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("redis-menu",{attrs:{value:"2",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Card",[a("br"),a("row",[a("Table",{attrs:{stripe:"",size:"large",columns:t.columns,data:t.redisstatsData}})],1)],1)],1)],1)],1)},s=[],r=a("3334"),o=a("6308"),i={components:{RedisMenu:o["c"]},data:function(){return{Tags:"",paramName:"",redisstatsData:[],columns:[{title:"分组",key:"section",width:150},{title:"键",key:"key",width:250},{title:"键值",key:"val",width:600}],data:{},count:0,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null}},computed:{access:function(){return this.$store.state.user.access}},created:function(){var t=this;this.get_redis_immediatestats("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_redis_immediatestats("tags=".concat(t.$route.params.tags," "))}),2e6)},methods:{search:function(){this.get_redis_immediatestats("tags=".concat(this.$route.params.tags,"&paraname=").concat(this.paramName," "))},clear_search:function(){this.paramName="",this.get_redis_immediatestats("tags=".concat(this.$route.params.tags," "))},get_redis_immediatestats:function(t){var e=this;Object(r["c"])(t).then((function(t){var a=t.data;for(var n in a){var s=a[n];for(var r in s){var o=s[r],i={};i["section"]=n,i["key"]=r,i["val"]=o,e.redisstatsData.push(i)}}console.log(e.data)})).catch((function(t){e.$Message.error("获取Redis配置信息错误 ".concat(t))}))}},destroyed:function(){clearInterval(this.timer)}},l=i,c=(a("df3b"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,null,null);e["default"]=u.exports},f83d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("redis-menu",{attrs:{value:"4",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Card",[a("Row",[a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"配置项"},model:{value:t.paramName,callback:function(e){t.paramName=e},expression:"paramName"}}),t._v(" \n\n      "),a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" \n      "),a("Button",{attrs:{type:"success"},on:{click:t.clear_search}},[t._v("刷新")])],1),a("br"),a("row",[a("Table",{attrs:{stripe:"",size:"large",columns:t.columns,data:t.configData}})],1)],1)],1)],1)],1)},s=[],r=a("3334"),o=a("6308"),i={components:{RedisMenu:o["c"]},data:function(){return{Tags:"",paramName:"",configData:[],columns:[{title:"配置项",key:"keyName",minWidth:300,sortable:!0},{title:"配置值",key:"valueName",minWidth:600}],data:{},count:0,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null}},computed:{access:function(){return this.$store.state.user.access}},created:function(){var t=this;this.get_redis_config("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_redis_config("tags=".concat(t.$route.params.tags," "))}),2e6)},methods:{search:function(){this.get_redis_config("tags=".concat(this.$route.params.tags,"&paraname=").concat(this.paramName," "))},clear_search:function(){this.paramName="",this.get_redis_config("tags=".concat(this.$route.params.tags," "))},get_redis_config:function(t){var e=this;Object(r["b"])(t).then((function(t){e.configData=[];var a=t.data;for(var n in a){var s=a[n],r={};r["keyName"]=n,r["valueName"]=s,e.configData.push(r)}e.count=t.data.count,console.log(e.data)})).catch((function(t){e.$Message.error("获取Redis配置信息错误 ".concat(t))}))}},destroyed:function(){clearInterval(this.timer)}},l=i,c=(a("1b10"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,null,null);e["default"]=u.exports},f94f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("error-content",{attrs:{code:"401",desc:"Oh~~您没有浏览这个页面的权限~",src:t.src}})},s=[],r=a("3026"),o=a.n(r),i=a("9454"),l={name:"error_401",components:{errorContent:i["default"]},data:function(){return{src:o.a}}},c=l,u=a("2877"),d=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=d.exports},f9ad:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("redis-menu",{attrs:{value:"5",tags:this.Tags}}),a("Content",{style:{margin:"10px 0 0",background:"#fff",minHeight:"500px"}},[a("Card",[a("br"),a("row",[a("Table",{attrs:{columns:t.columns,data:t.clientlistData}})],1)],1)],1)],1)],1)},s=[],r=a("3334"),o=a("6308"),i={components:{RedisMenu:o["c"]},data:function(){return{Tags:"",data:"",clientlistData:[],columns:[{title:"id",key:"id",minWidth:100,sortable:!0},{title:"addr",key:"addr",minWidth:150},{title:"age",key:"age",minWidth:100},{title:"idle",key:"idle",minWidth:100},{title:"flags",key:"flags",minWidth:80},{title:"db",key:"db",minWidth:80},{title:"sub",key:"sub",minWidth:80},{title:"psub",key:"psub",minWidth:80},{title:"multi",key:"multi",minWidth:80},{title:"qbuf",key:"qbuf",minWidth:80},{title:"qbuf-free",key:"qbuf-free",minWidth:100},{title:"obl",key:"obl",minWidth:80},{title:"oll",key:"oll",minWidth:80},{title:"omem",key:"omem",minWidth:80},{title:"events",key:"events",minWidth:80},{title:"cmd",key:"cmd",minWidth:100}],count:0,styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},updateId:null}},computed:{access:function(){return this.$store.state.user.access}},created:function(){var t=this;this.get_redis_clientlist("tags=".concat(this.$route.params.tags," ")),this.Tags=this.$route.params.tags,this.timer=setInterval((function(){t.get_redis_clientlist("tags=".concat(t.$route.params.tags," "))}),2e6)},methods:{search:function(){this.get_redis_clientlist("tags=".concat(this.$route.params.tags," "))},clear_search:function(){this.get_redis_clientlist("tags=".concat(this.$route.params.tags," "))},get_redis_clientlist:function(t){var e=this;Object(r["a"])(t).then((function(t){for(var a in e.data=t.data,e.data)e.clientlistData.push(e.data[a]);console.log(e.clientlistData)})).catch((function(t){e.$Message.error("获取redis慢查询信息错误 ".concat(t))}))}},destroyed:function(){clearInterval(this.timer)}},l=i,c=(a("63c0"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,null,null);e["default"]=u.exports},faa5:function(t,e,a){},fec1:function(t,e,a){"use strict";a.d(e,"n",(function(){return s})),a.d(e,"b",(function(){return r})),a.d(e,"r",(function(){return o})),a.d(e,"g",(function(){return i})),a.d(e,"h",(function(){return l})),a.d(e,"m",(function(){return c})),a.d(e,"a",(function(){return u})),a.d(e,"q",(function(){return d})),a.d(e,"e",(function(){return m})),a.d(e,"f",(function(){return h})),a.d(e,"o",(function(){return p})),a.d(e,"c",(function(){return f})),a.d(e,"s",(function(){return _})),a.d(e,"i",(function(){return g})),a.d(e,"j",(function(){return b})),a.d(e,"d",(function(){return y})),a.d(e,"p",(function(){return v})),a.d(e,"k",(function(){return w})),a.d(e,"t",(function(){return x})),a.d(e,"l",(function(){return D}));var n=a("66df"),s=function(t){return n["a"].request({url:"/assets/api/mysql?".concat(t),method:"get"})},r=function(t){return n["a"].request({url:"/assets/api/mysql",data:t,method:"post"})},o=function(t,e){return n["a"].request({url:"/assets/api/mysql/".concat(t),data:e,method:"PUT"})},i=function(t){return n["a"].request({url:"/assets/api/mysql/".concat(t),method:"delete"})},l=function(t){return n["a"].request({url:"/mysql/api/del_mysql_stat/".concat(t),method:"delete"})},c=function(t){return n["a"].request({url:"/assets/api/linux?".concat(t),method:"get"})},u=function(t){return n["a"].request({url:"/assets/api/linux",data:t,method:"post"})},d=function(t,e){return n["a"].request({url:"/assets/api/linux/".concat(t),data:e,method:"PUT"})},m=function(t){return n["a"].request({url:"/assets/api/linux/".concat(t),method:"delete"})},h=function(t){return n["a"].request({url:"/linux/api/del_linux_stat/".concat(t),method:"delete"})},p=function(t){return n["a"].request({url:"/assets/api/redis?".concat(t),method:"get"})},f=function(t){return n["a"].request({url:"/assets/api/redis",data:t,method:"post"})},_=function(t,e){return n["a"].request({url:"/assets/api/redis/".concat(t),data:e,method:"PUT"})},g=function(t){return n["a"].request({url:"/assets/api/redis/".concat(t),method:"delete"})},b=function(t){return n["a"].request({url:"/rds/api/del_redis_stat/".concat(t),method:"delete"})},y=function(t){return n["a"].request({url:"/assets/api/windows",data:t,method:"post"})},v=function(t){return n["a"].request({url:"/assets/api/windows?".concat(t),method:"get"})},w=function(t){return n["a"].request({url:"/assets/api/windows/".concat(t),method:"delete"})},x=function(t,e){return n["a"].request({url:"/assets/api/windows/".concat(t),data:e,method:"PUT"})},D=function(t){return n["a"].request({url:"/windows/api/del_windows_stat/".concat(t),method:"delete"})}}});